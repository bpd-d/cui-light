(window.webpackJsonpcui_light=window.webpackJsonpcui_light||[]).push([[1],[function(t,e,i){"use strict";i.d(e,"x",(function(){return r})),i.d(e,"p",(function(){return o})),i.d(e,"F",(function(){return h})),i.d(e,"i",(function(){return a})),i.d(e,"s",(function(){return c})),i.d(e,"t",(function(){return l})),i.d(e,"g",(function(){return u})),i.d(e,"B",(function(){return d})),i.d(e,"v",(function(){return p})),i.d(e,"w",(function(){return g})),i.d(e,"b",(function(){return v})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return m})),i.d(e,"q",(function(){return b})),i.d(e,"o",(function(){return k})),i.d(e,"y",(function(){return C})),i.d(e,"l",(function(){return E})),i.d(e,"C",(function(){return M})),i.d(e,"A",(function(){return O})),i.d(e,"c",(function(){return A})),i.d(e,"u",(function(){return W})),i.d(e,"z",(function(){return x})),i.d(e,"E",(function(){return T})),i.d(e,"k",(function(){return S})),i.d(e,"D",(function(){return L})),i.d(e,"a",(function(){return P})),i.d(e,"h",(function(){return D})),i.d(e,"r",(function(){return I})),i.d(e,"m",(function(){return N})),i.d(e,"j",(function(){return B})),i.d(e,"f",(function(){return H})),i.d(e,"n",(function(){return _})),i.d(e,"G",(function(){return R}));var s=i(3),n=i(1);function r(t,e=!0){return null!=t&&(!e||!function(t){if("string"==typeof t)return 0===t.length;if("boolean"==typeof t)return t;if(Array.isArray(t))return 0===t.length;return!1}(t))}function o(t,e){if(!r(t)||!r(e))throw new s.b("Missing argument value");return`${t}-${e}`}function h(t){return new Promise(e=>setTimeout(()=>{e(!0)},t))}function a(t){if(!r(t))return null;let e=document.createElement("template");return e.innerHTML=t,e.content.children.length>0?e.content.children[0]:null}function c(t,e,i){return t<e?e:t>i?i:t}function l(t,e,i,s){return null==t||isNaN(t)?s:c(t,e,i)}function u(t){return r(t)?Object.assign({},t):null}function d(t){return r(t)?`[${t.join("],[")}]`:""}function p(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function g(){return window.matchMedia&&window.matchMedia("print").matches}function v(...t){if(!r(t))return!1;let e=t.length;for(let i=0;i<e;i++)if(!r(t[i]))return!1;return!0}function f(t){return t<=640?"small":t>640&&t<=960?"medium":t>960&&t<=1200?"large":"xlarge"}function m(t){let e="none";return t>=640&&(e="small"),t>=960&&(e="medium"),t>=1200&&(e="large"),t>=1600&&(e="xlarge"),e}function w(t){let e={};return r(t)?(e=function(t){let e=null;if(r(t)&&t.startsWith("{")&&t.endsWith("}")){try{e=function(t){return t&&t.length>0?JSON.parse(t):{}}(t)}catch(t){console.error((i="An exception occured",s="Functions",n="parseJsonString",`[${(new Date).toLocaleString()}][${null!=s?s:"-"}][${null!=n?n:"-"}][${i}]`),t)}return e}var i,s,n;return null}(t.trim()),r(e)||(t.includes(";")||t.includes(":")?(e={},t.split(";").forEach(t=>{let i=R(t),s=void 0,n="";i.length<2||(s=i[0].trim(),n=i[1].trim(),s&&(e[s]=n.replace("U+0003B",";")))})):e=t),e):e}function b(t){if(!r(t))return-1;let e=t.offsetTop-parseInt(y(t,"margin-top"))-parseInt(y(t,"padding-top"))-parseInt(y(t,"border-top-width"));return e<0?t.offsetTop:e}function k(t,e){let i=parseInt(t);return isNaN(i)?e:i}function y(t,e){return r(t)&&r(e)?t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):null:null}function C(t,e,i){return r(t)&&t>=e&&t<=i}function E(t){return(null!=t?t:"")+"-active"}function M(t,e){return v(t,e)?w(t.getAttribute(e)):null}function O(t){return!!r(t)&&["y","t","true","yes"].includes(t.toLowerCase())}function A(t,e){return r(t)?O(t):e}function W(t,e){return r(t)?t.toLowerCase():e}function x(t){return"string"==typeof t}function T(t,e){return r(t)?t.replace("{prefix}",null!=e?e:""):t}function S(){let t=j(1,1e3),e=j(1,100);return`${Math.floor(Math.random()*e)}-${Math.floor(t)}`}function j(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function L(t,e,i,o){let h=t;h.$handlers={};let a=function(t,e){return t&&r(t.hasAttribute)?e.filter(e=>t.hasAttribute(e)):[]}(t,i);r(a)&&(h.$cuid=t.hasAttribute(n.h)?t.getAttribute(n.h):function(t){return`${r(t)?t:"cui-element"}-${n.b.next().value}`}(t.tagName),t.setAttribute(n.h,h.$cuid),a.forEach(i=>{let n=e.find(t=>t.attribute===i);if(r(n))try{o.styleAppender.append(n.getStyle());let e=n.get(t,o);h.$handlers[n.attribute]=e,h.$handlers[n.attribute].handle(M(t,n.attribute))}catch(t){let e=a?a.join(", "):"";throw new s.h(`An error occured during [${e}] initialization: ${t.message}`)}}))}function P(t,e,i){if(!v(e,i,t))return!1;if(t.hasAttribute(e))return!1;let s=[];return B(i,(t,e)=>{s.push(`${t}: ${e}`)}),t.setAttribute(e,s.join("; ")),!0}function*D(){let t=0;for(;;){((yield t++)||t>2e5)&&(t=0)}}function I(t){if(!r(t))return;let e=t.parentElement;return r(e)&&r(e.$cuid)?e:I(e)}function N(t){let e=0;return t?(Array.from(t.children).forEach(t=>{e+=t.getBoundingClientRect().height}),e>0?e+4:e):-1}function B(t,e){if(v(t,e))for(let i in t)t.hasOwnProperty(i)&&e(i,t[i])}function H(t,e,i){let s=-1;switch(t){case"prev":s=e<=0?i-1:e-1;break;case"next":s=e<i-1?e+1:0;break;case"first":s=0;break;case"last":s=i-1;default:s=k(t,-1)}return s}function _(t,e){let i=t.length;if(t&&0!==i)for(let s=0;s<i;s++)if(e(t[s],s))return t[s]}function R(t){let e=[];if(!r(t))return e;let i=t.split(":");return 1===i.length?i:[i.shift(),i.join(":")]}},function(t,e,i){"use strict";i.d(e,"h",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"j",(function(){return o})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return c})),i.d(e,"f",(function(){return l})),i.d(e,"k",(function(){return u})),i.d(e,"g",(function(){return d})),i.d(e,"l",(function(){return p})),i.d(e,"i",(function(){return g})),i.d(e,"b",(function(){return v}));var s=i(0);const n="cuid",r={dark:"dark",animProgress:"animation-progress",print:"print",active:"active",swipingOn:"swiping-on",selectionOff:"selection-off"},o={close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 1.9999999,1.9999999 18,18"></path><path d="M 18,1.9999999 1.9999999,18"></path></svg>',accordion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 5.0000475,7.4490018 10.000024,12.551028 15,7.4490018"></path></svg>',special_menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path class="menu_handle_2" d="M 1,10 H 19"></path><path class="menu_handle_1" d="M 1,4.8571429 H 19"></path><path  class="menu_handle_3" d="M 1,15.142857 H 19"></path></svg>',special_fail:'<svg xmlns="http://www.w3.org/2000/svg" class="special-fail" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7.000001 A 43,43 0 0 1 92.999999,50 43,43 0 0 1 50,92.999999 43,43 0 0 1 7.0000011,50 43,43 0 0 1 50,7.000001 Z"></path><path class="arm_1" d="M 28.536809,28.536809 71.342023,71.342023"></path><path class="arm_2" d="M 71.342023,28.536809 28.536809,71.342023"></path></svg>',special_success:'<svg xmlns="http://www.w3.org/2000/svg" class="special-success" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7 A 43,43 0 0 1 93,50 43,43 0 0 1 50,93 43,43 0 0 1 7,50 43,43 0 0 1 50,7 Z"></path><path class="arm" d="M 22.988405,48.234784 36.946233,72.410453 75.516456,33.84023"></path></svg>'},h={light:"--cui-color-light-app-background",dark:"--cui-color-dark-app-background"},a={light:"--cui-color-light-background",dark:"--cui-color-dark-background "},c={light:"--cui-color-light-border",dark:"--cui-color-dark-border"},l={light:{base:"--cui-color-light-base",muted:"--cui-color-light-muted",active:"--cui-color-light-active"},dark:{base:"--cui-color-dark-base",muted:"--cui-color-dark-muted",active:"--cui-color-dark-active"},accent:{base:"--cui-color-primary",muted:"--cui-color-primary-muted",active:"--cui-color-primary-active"},secondary:{base:"--cui-color-secondary",muted:"--cui-color-secondary-muted",active:"--cui-color-secondary-active"},success:{base:"--cui-color-success",muted:"--cui-color-success-muted",active:"--cui-color-success-active"},warning:{base:"--cui-color-warning",muted:"--cui-color-warning-muted",active:"--cui-color-warning-active"},error:{base:"--cui-color-error",muted:"--cui-color-error-muted",active:"--cui-color-error-active"}},u=":scope ",d={fontSize:"--{prefix}-font-size",lineHeight:"--{prefix}-line-height",animationTime:"--{prefix}-animation-time",animationTimeLong:"--{prefix}-animation-time-long",animationTimeShort:"--{prefix}-animation-time-short",colorLightAppBackground:"--{prefix}-color-light-app-background",colorLightBackground:"--{prefix}-color-light-background",colorLightBorder:"--{prefix}-color-light-border",colorLightBase:"--{prefix}-color-light-base",colorLightActive:"--{prefix}-color-light-active",colorLightMuted:"--{prefix}-color-light-muted",colorDarkAppBackground:"--{prefix}-color-dark-app-background",colorDarkBackground:"--{prefix}-color-dark-background",colorDarkBorder:"--{prefix}-color-dark-border",colorDarkBase:"--{prefix}-color-dark-base",colorDarkActive:"--{prefix}-color-dark-active",colorDarkMuted:"--{prefix}-color-dark-muted",colorAccent:"--{prefix}-color-primary",colorAccentActive:"--{prefix}-color-primary-active",colorAccentMuted:"--{prefix}-color-primary-muted",colorAccentShade:"--{prefix}-color-primary-shade",colorAccentShadeDark:"--{prefix}-color-primary-shade-dark",colorSecondary:"--{prefix}-color-secondary",colorSecondaryActive:"--{prefix}-color-secondary-active",colorSecondaryMuted:"--{prefix}-color-secondary-muted",colorSecondaryShade:"--{prefix}-color-secondary-shade",colorSecondaryShadeDark:"--{prefix}-color-secondary-shade-dark",colorWarning:"--{prefix}-color-warning",colorWarningActive:"--{prefix}-color-warning-active",colorWarningMuted:"--{prefix}-color-warning-muted",colorWarningShade:"--{prefix}-color-warning-shade",colorWarningShadeDark:"--{prefix}-color-warning-shade-dark",colorSuccess:"--{prefix}-color-success",colorSuccessActive:"--{prefix}-color-success-active",colorSuccessMuted:"--{prefix}-color-success-muted",colorSuccessShade:"--{prefix}-color-success-shade",colorSuccessShadeDark:"--{prefix}-color-success-shade-dark",colorError:"--{prefix}-color-error",colorErrorActive:"--{prefix}-color-error-active",colorErrorMuted:"--{prefix}-color-error-muted",colorErrorShade:"--{prefix}-color-error-shade",colorErrorShadeDark:"--{prefix}-color-error-shade-dark",inputBackground:"--{prefix}-input-background-color",colorShade:"--{prefix}-color-shade",colorShadeDarker:"--{prefix}-color-shade-darker",colorShadeLight:"--{prefix}-color-shade-light",colorShadeLighter:"--{prefix}-color-shade-light-lighter",outline:"--{prefix}-outline",borderRadius:"--{prefix}-border-radius",padding:"--{prefix}-padding",margin:"--{prefix}-margin",scrollbarWidth:"--{prefix}-scrollbar-width",componentSpace:"--{prefix}-component-space",accordionIcon:"--{prefix}-accordion-icon"};class p{}p.logLevel="none",p.prefix="cui";const g={INSTANCE_INITIALIZED:"instance-initialized",INSTANCE_FINISHED:"instance-finished",RESIZE:"resize",OPEN:"open",OPENED:"opened",CLOSE:"close",CLOSED:"closed",TOGGLE:"toggle",TOGGLED:"toggled",SWITCH:"switch",SWITCHED:"switched",ON_SCROLL:"scroll",TARGET_CHANGE:"targetchange",INTERSECTION:"intersection",KEYDOWN:"keydown",SCROLLBY:"scrollby",WINDOW_CLICK:"windowclick",OFFSET:"offset",PROGRESS_CHANGE:"progresschange",PROGRESS_CHANGED:"progresschanged",CHANGE:"change",CHANGED:"changed",GLOBAL_MOVE:"globalmove",MOVE_LOCK:"movelock",PAUSE:"pause",PAUSED:"paused",SORTED:"sorted",SORT_START:"sortstart"},v=Object(s.h)()},function(t,e,i){"use strict";i.d(e,"c",(function(){return d})),i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return w}));var s,n,r,o,h,a,c=i(0),l=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class d{constructor(t){s.set(this,void 0),l(this,s,t)}add(t,e){Object(c.b)(t,u(this,s))&&!t.classList.contains(u(this,s))&&t.classList.add(u(this,s))}remove(t,e){Object(c.b)(t,u(this,s))&&t.classList.contains(u(this,s))&&t.classList.remove(u(this,s))}toggle(t,e){Object(c.b)(t,u(this,s))&&(t.classList.contains(u(this,s))?t.classList.remove(u(this,s)):t.classList.add(u(this,s)))}}s=new WeakMap;class p{constructor(t){n.set(this,void 0),l(this,n,t)}add(t,e){if(e)switch(u(this,n)){case"dark-mode":e.setLightMode("dark");break;case"light-mode":e.setLightMode("light")}}remove(t,e){if(e)switch(u(this,n)){case"dark-mode":e.setLightMode("light");break;case"light-mode":e.setLightMode("dark")}}toggle(t,e){if(e)switch(u(this,n)){case"dark-mode":case"light-mode":this.setDarkMode(e)}}setDarkMode(t){"dark"===t.getLightMode()?t.setLightMode("light"):t.setLightMode("dark")}}n=new WeakMap;class g{constructor(t){var e,i;r.set(this,void 0),o.set(this,void 0),e=this,i=this,[{set value(t){l(e,r,t)}}.value,{set value(t){l(i,o,t)}}.value]=Object(c.G)(t)}add(t,e){Object(c.b)(t,u(this,r),u(this,o))&&t.setAttribute(u(this,r),u(this,o))}remove(t,e){Object(c.b)(t,u(this,r),u(this,o))&&t.hasAttribute(u(this,r))&&t.removeAttribute(u(this,r))}toggle(t,e){Object(c.b)(t,u(this,r),u(this,o))&&(t.hasAttribute(u(this,r))?t.removeAttribute(u(this,r)):t.setAttribute(u(this,r),u(this,o)))}}r=new WeakMap,o=new WeakMap;class v{constructor(t){var e,i;h.set(this,void 0),a.set(this,void 0),e=this,i=this,[{set value(t){l(e,h,t)}}.value,{set value(t){l(i,a,t)}}.value]=Object(c.G)(t)}add(t,e){if(!Object(c.b)(t,u(this,h),u(this,a)))return;let i=t;i.style&&!i.style[u(this,h)]&&(i.style[u(this,h)]=u(this,a))}remove(t,e){if(!Object(c.b)(t,u(this,h),u(this,a)))return;let i=t;i.style&&i.style[u(this,h)]&&(i.style[u(this,h)]="")}toggle(t,e){if(!Object(c.b)(t,u(this,h),u(this,a)))return;let i=t;i.style&&(i.style[u(this,h)]?delete i.style[u(this,h)]:i.style[u(this,h)]=u(this,a))}}h=new WeakMap,a=new WeakMap;class f{constructor(){}add(t,e){}remove(t,e){}toggle(t,e){}}class m{static get(t){if(!Object(c.x)(t))return new f;switch(t[0]){case".":return new d(t.substring(1));case"~":return new p(t.substring(1));case"&":return new g(t.substring(1));case"^":return new v(t.substring(1));default:return new d(t)}}}class w{static get(t){if(!Object(c.x)(t))return[];return t.split(",").map(t=>m.get(t.trim()))}}},function(t,e,i){"use strict";i.d(e,"g",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"e",(function(){return o})),i.d(e,"h",(function(){return h})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return l})),i.d(e,"f",(function(){return u}));class s extends Error{constructor(t,e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=t}}class n extends s{constructor(t){super("ItemNotFoundError",t)}}class r extends s{constructor(t){super("ArgumentError",t)}}class o extends s{constructor(t){super("CuiInstanceInitError",t)}}class h extends s{constructor(t){super("RegisterElementError",t)}}class a extends s{constructor(t){super("AnimatorError",t)}}class c extends s{constructor(t){super("CSSVariableError",t)}}class l extends s{constructor(t){super("CuiColorError",t)}}class u extends s{constructor(t){super("CuiPositionError",t)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));class s{constructor(t,e){this.level=e,this.component=t,this.id="-"}setLevel(t){this.level=t}setId(t){this.id=t}debug(t,e){"debug"===this.level&&console.log(this.prepString(t,"debug",e))}error(t,e){"error"!==this.level&&"debug"!==this.level&&"warning"!==this.level||console.error(this.prepString(t,"error",e))}warning(t,e){"warning"!==this.level&&"debug"!==this.level||console.warn(this.prepString(t,"warning",e))}exception(t,e){console.error(this.prepString(`An exception occured: ${t.name}: ${t.message}`,"exception",e)),"debug"===this.level&&console.error(t.stack)}performance(t,e){if("debug"!==this.level)return;let i=Date.now();t(),console.log(this.prepString(`Performance measure: ${Date.now()-i}ms`,"performance",e))}prepString(t,e,i){return`[${(new Date).toLocaleString()}][${e}][${this.component}][${null!=i?i:"-"}][${this.id}][${t}]`}}var n=i(1);class r{static get(t,e){return new s(t,null!=e?e:n.l.logLevel)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s,n,r,o,h=i(0),a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},c=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a(this,o,t),a(this,n,[]),a(this,r,void 0),a(this,s,void 0)}setId(t){return a(this,s,t),this}setClasses(...t){return a(this,n,t),this}setAttributes(t){return a(this,r,t),this}build(t){let e=document.createElement(c(this,o));return Object(h.x)(c(this,s))&&(e.id=c(this,s)),Object(h.x)(c(this,n))&&e.classList.add(...c(this,n)),Object(h.x)(c(this,r))&&Object(h.j)(c(this,r),(t,i)=>{e.setAttribute(t,i)}),Object(h.x)(t)&&(e.innerHTML=t),e}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));const s={slide:{current:{left:{transform:{translateX:{from:0,to:-100,unit:"%"}}},right:{transform:{translateX:{from:0,to:100,unit:"%"}}}},previous:{left:{transform:{translateX:{from:100,to:0,unit:"%"}}},right:{transform:{translateX:{from:-100,to:0,unit:"%"}}}}},fade:{current:{left:{opacity:{from:1,to:0}},right:{opacity:{from:1,to:0}}},previous:{left:{opacity:{from:0,to:1}},right:{opacity:{from:0,to:1}}}},push:{current:{left:{transform:{translateX:{from:0,to:-10,unit:"%"}}},right:{transform:{translateX:{from:0,to:10,unit:"%"}}}},previous:{left:{transform:{translateX:{from:100,to:0,unit:"%"}}},right:{transform:{translateX:{from:-100,to:0,unit:"%"}}}}}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s,n,r,o,h,a,c=i(0),l=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class d{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h.set(this,void 0),a.set(this,void 0),l(this,r,!1),l(this,s,null!=t?t:document.body),l(this,o,!1),l(this,h,!1),l(this,n,void 0),l(this,a,void 0),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this)}setCallback(t){l(this,n,t)}setTarget(t){l(this,a,t)}isInProgress(){return u(this,r)}preventDefault(t){l(this,h,t)}attach(){u(this,o)||(u(this,s).addEventListener("mousedown",this.onMouseDown,{passive:!1}),u(this,s).addEventListener("mouseup",this.onMouseUp,{passive:!1}),u(this,s).addEventListener("mousemove",this.onMouseMove,{passive:!1}),u(this,s).addEventListener("touchstart",this.onTouchStart,{passive:!1}),u(this,s).addEventListener("touchend",this.onTouchEnd,{passive:!1}),u(this,s).addEventListener("touchmove",this.onTouchMove,{passive:!1}),l(this,o,!0))}detach(){console.log("On detach"),u(this,o)&&(u(this,s).removeEventListener("mousedown",this.onMouseDown,{passive:!1}),u(this,s).removeEventListener("mouseup",this.onMouseUp,{passive:!1}),u(this,s).removeEventListener("mousemove",this.onMouseMove,{passive:!1}),u(this,s).removeEventListener("touchstart",this.onTouchStart,{passive:!1}),u(this,s).removeEventListener("touchend",this.onTouchEnd,{passive:!1}),u(this,s).removeEventListener("touchmove",this.onTouchMove,{passive:!1}),l(this,o,!1))}isAttached(){return u(this,o)}onMouseDown(t){u(this,r)||u(this,a)&&!u(this,a).contains(t.target)||(l(this,r,!0),this.publishMouseEvent("down",t))}onMouseUp(t){u(this,r)&&(l(this,r,!1),this.publishMouseEvent("up",t))}onMouseMove(t){u(this,r)&&this.publishMouseEvent("move",t)}onTouchStart(t){u(this,r)||u(this,a)&&!u(this,a).contains(t.target)||(l(this,r,!0),this.publishTouchEvent("down",t))}onTouchEnd(t){u(this,r)&&(l(this,r,!1),this.publishTouchEvent("up",t))}onTouchMove(t){u(this,r)&&this.publishTouchEvent("move",t)}publishMouseEvent(t,e){u(this,h)&&e.cancelable&&e.preventDefault(),Object(c.x)(u(this,n))&&u(this,n).call(this,{type:t,x:e.clientX,y:e.clientY,moveX:e.movementX,moveY:e.movementY,target:e.target,event:e})}publishTouchEvent(t,e){if(u(this,h)&&e.cancelable&&e.preventDefault(),!Object(c.x)(u(this,n)))return;let i=null;e.touches.length>0?i=e.touches[0]:e.changedTouches.length>0&&(i=e.changedTouches[0]),u(this,n).call(this,{event:e,type:t,target:e.target,x:Object(c.x)(i)?i.clientX:-1,y:Object(c.x)(i)?i.clientY:-1,moveX:-1,moveY:-1})}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}));class s{constructor(){this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.prefix="cui",this.plugins={}}fromInit(t){var e;return this.prefix=null!==(e=t.prefix)&&void 0!==e?e:"cui",this.logLevel=t.logLevel,this.cacheSize=t.cacheSize,this.autoLightMode=t.autoLightMode,this.animationTime=t.animationTime,this.animationTimeShort=t.animationTimeShort,this.animationTimeLong=t.animationTimeLong,this.scrollThreshold=t.scrollThreshold,this.resizeThreshold=t.resizeThreshold,this}}class n{constructor(){this.prefix="cui",this.app="$cui",this.logLevel="warning",this.interaction="async",this.animationTime=300,this.animationTimeShort=150,this.animationTimeLong=500,this.cacheSize=500,this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.root=document.body,this.busSetup=void 0,this.development=void 0}}},function(t,e,i){"use strict";i.d(e,"b",(function(){return b})),i.d(e,"a",(function(){return k}));var s,n,r,o,h,a,c,l,u,d,p,g,v=i(4),f=i(0),m=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},w=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class b{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h.set(this,void 0),a.set(this,void 0),c.set(this,void 0),m(this,s,void 0),this.plugins=void 0,m(this,n,void 0),m(this,r,t),this._log=v.a.get("CuiMutationObserver"),m(this,o,[]),m(this,h,[]),m(this,a,e),m(this,c,"")}setPlugins(t){return this.plugins=t,this}setComponents(t){return m(this,o,t),this}setAttributes(t){return m(this,n,{attributes:!0,subtree:!0,childList:!0,attributeFilter:t}),m(this,h,t),m(this,c,Object(f.B)(t)),this}start(){return this._log.debug("Starting"),w(this,n)?(m(this,s,new MutationObserver(this.mutationCallback.bind(this))),w(this,s).observe(w(this,r),w(this,n)),this._log.debug("Started"),this):(this._log.error("Cannot start - options are not defined"),this)}stop(){return this._log.debug("Stopping"),w(this,s)?(w(this,s).disconnect(),m(this,s,void 0),this._log.debug("Stopped"),this):(this._log.debug("Observer not available"),this)}mutationCallback(t,e){t.forEach(t=>{switch(t.type){case"attributes":const e=t.target;Object(f.b)(t.attributeName,e)?Object(f.b)(e.$handlers,e.$handlers[t.attributeName])&&e.$handlers[t.attributeName].refresh(Object(f.C)(e,t.attributeName)):this._log.error("Mutation attribute doesn't not exisist");break;case"childList":this.handleChildListMutation(t)}Object(f.x)(this.plugins)&&this.plugins.onMutation(t).then(()=>{})})}handleChildListMutation(t){const e=t.addedNodes.length,i=t.removedNodes.length;e>0?(this._log.debug("Registering added nodes: "+e),this.handleAddedNodes(t.addedNodes)):i>0&&(this._log.debug("Removing nodes: "+i),this.handleRemovedNodes(t.removedNodes))}handleAddedNodes(t){t.forEach(t=>{try{Object(f.D)(t,w(this,o),w(this,h),w(this,a));let e=t.hasChildNodes()?t.querySelectorAll(w(this,c)):null;Object(f.x)(e)&&e.forEach(t=>{Object(f.D)(t,w(this,o),w(this,h),w(this,a))})}catch(t){this._log.exception(t)}})}handleRemovedNodes(t){t.forEach(t=>{this.destroySingleElement(t);let e=t.hasChildNodes()?t.querySelectorAll(w(this,c)):null;Object(f.x)(e)&&e.forEach(t=>{this.destroySingleElement(t)})})}destroySingleElement(t){let e=t;if(e.$handlers)for(let t in e.$handlers)if(e.$handlers.hasOwnProperty(t))try{e.$handlers[t].destroy()}catch(e){this._log.exception(e,"remove - "+t)}}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap,c=new WeakMap;class k{constructor(t){l.set(this,void 0),u.set(this,void 0),d.set(this,void 0),p.set(this,void 0),g.set(this,{childList:!0,subtree:!0}),m(this,u,void 0),m(this,p,!1),m(this,l,!1),m(this,d,t)}observe(){w(this,l)||w(this,p)||!w(this,u)||(w(this,u).observe(w(this,d),w(this,g)),m(this,l,!0))}unobserve(){w(this,l)&&w(this,u)&&(w(this,u).disconnect(),m(this,l,!1))}isObserving(){return w(this,l)}disable(t){m(this,p,t),w(this,p)&&this.unobserve()}onMutation(t){w(this,l)&&this.unobserve(),m(this,u,new MutationObserver(t))}}l=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n=i(1),r=i(0),o=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},h=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),h(this,s,t)}performAction(t,e,i,r){return o(this,void 0,void 0,(function*(){return new Promise(o=>{a(this,s).mutate(()=>{e.add(t),t.classList.add(n.a.animProgress),setTimeout(()=>{a(this,s).mutate(()=>{e.remove(t),t.classList.remove(n.a.animProgress),r&&r(),o(!0)},null)},i)},null)})}))}performActions(t,e,i,r){return o(this,void 0,void 0,(function*(){return new Promise(o=>{a(this,s).mutate(()=>{e.forEach(e=>e.add(t)),t.classList.add(n.a.animProgress),setTimeout(()=>{a(this,s).mutate(()=>{e.forEach(e=>e.remove(t)),t.classList.remove(n.a.animProgress),r&&r(),o(!0)},null)},i)},null)})}))}performSwitchAction(t,e,i,h,c,l){return o(this,void 0,void 0,(function*(){return new Promise(o=>{a(this,s).mutate(()=>{i.forEach(e=>e.add(t)),t.classList.add(n.a.animProgress),Object(r.x)(e)&&(h.forEach(t=>t.add(e)),e.classList.add(n.a.animProgress)),setTimeout(()=>{a(this,s).mutate(()=>{i.forEach(e=>e.remove(t)),t.classList.remove(n.a.animProgress),Object(r.x)(e)&&(h.forEach(t=>t.remove(e)),e.classList.remove(n.a.animProgress)),c(),o(!0)},null)},l)},null)})}))}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));const s="0.2.7"},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));const s="0.2.6"},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));const s="0.2.8"},function(t,e,i){"use strict";i.d(e,"a",(function(){return Oh}));var s=i(4),n=i(9);class r{static setLabel(t,e){t.hasAttribute("aria-label")||t.setAttribute("aria-label",e)}static setAria(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}static removeAria(t,e){t.hasAttribute(e)&&t.removeAttribute(e)}}var o,h,a,c,l,u,d,p,g,v=i(10),f=i(2),m=i(0),w=i(1),b=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},k=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},y=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class C{constructor(t){o.set(this,void 0),k(this,o,t)}hasClass(t,e){return!(!t||!e.classList.contains(t))}setClass(t,e){this.setClasses([t],e)}setClasses(t,e){e&&e.classList.add(...t)}setClassesAs(t,...e){y(this,o).mutate(this.setClasses,this,e,t)}removeClass(t,e){this.removeClasses([t],e)}removeClasses(t,e){e&&e.classList.remove(...t)}removeClassesAs(t,...e){y(this,o).mutate(this.removeClasses,this,e,t)}removeAttribute(t,e){e&&e.hasAttribute(t)&&e.removeAttribute(t)}setStyle(t,e,i){t&&t.style&&Object(m.x)(i)&&(t.style[e]=i)}}o=new WeakMap;h=new WeakMap;class E extends class{constructor(t,e,i){h.set(this,void 0),this._log=s.a.get(t),this.utils=i,this.element=e,this.cuid=e.$cuid,this.isLocked=!1,this._log.setId(this.cuid),this.activeClassName=Object(m.l)(i.setup.prefix),this.helper=new C(i.interactions),k(this,h,[]),this.componentName=t}mutate(t,...e){this.utils.interactions.mutate(t,this,...e)}fetch(t,...e){this.utils.interactions.fetch(t,this,...e)}getEventName(t){return[t,this.cuid].join("-")}emitEvent(t,...e){y(this,h).includes(t)||y(this,h).push(t),this.utils.bus.emit(t,this.cuid,...e)}onEvent(t,e){return this.utils.bus.on(t,e,this.element)}detachEvent(t,e){null!=e&&(this.utils.bus.detach(t,e),e="")}getId(){return this.cuid}checkLockAndWarn(t){return!!this.isLocked&&(this._log.warning("Component is locked",t),!0)}isActive(){return this.element.classList.contains(this.activeClassName)}detachEmiitedEvents(){y(this,h).forEach(t=>{this.utils.bus.detachByCuid(t,this.cuid),this._log.debug("Detaching event: "+t+" on component delete")})}registerInDebug(){this.utils.development.registerElement(this.element,this.cuid,this.componentName)}removeFromDebug(){this.utils.development.unregisterElement(this.cuid,this.componentName)}setDebugProperty(t,e){this.utils.development.setProperty(this.cuid,this.componentName,t,e)}logInfo(t,e){this._log.debug(t,e),this.utils.development.pushState(this.cuid,this.componentName,"info",t,e)}logWarning(t,e){this._log.warning(t,e),this.utils.development.pushState(this.cuid,this.componentName,"warning",t,e)}pushDebugState(t,e,i){this.utils.development.pushState(this.cuid,this.componentName,t,e,i)}logError(t,e,i){this._log.error(t,e),i&&this._log.exception(i,e),this.utils.development.pushState(this.cuid,this.componentName,"error",t,e)}}{constructor(t,e,i,s,n){super(t,e,n),a.set(this,void 0),this.args=s,this.actionsHelper=new v.a(n.interactions),this.prevArgs=void 0,this.isInitialized=!1,k(this,a,i)}handle(t){this.logInfo("Init","handle"),this.isInitialized?this.logWarning("Trying to initialize component again","handle"):(this.args.parse(t),this.element.classList.contains(y(this,a))||this.element.classList.add(y(this,a)),this.registerInDebug(),this.onHandle(),this.isInitialized=!0)}refresh(t){this.logInfo("Update","refresh"),this.isInitialized?(this.prevArgs=Object(m.g)(this.args),this.args.parse(t),this.pushDebugState("info","Component update","refresh"),this.onRefresh()):this.logError("Cannot update not initialized component","refresh")}destroy(){this.logInfo("Destroy","destroy"),this.onRemove(),this.detachEmiitedEvents(),this.removeFromDebug(),this.isInitialized=!1}}a=new WeakMap;class M extends E{constructor(t,e,i,s,n){super(t,e,i,s,n)}onHandle(){this.onInit()}onRefresh(){this.onUpdate()}onRemove(){this.onDestroy()}performAction(t,e,i,s){return b(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performActions(this.element,t,e,s))&&(i(),!0)}))}}class O extends E{constructor(t,e,i,s,n){super(t,e,i,s,n),c.set(this,void 0),l.set(this,void 0),u.set(this,void 0),d.set(this,void 0),p.set(this,void 0),k(this,c,null),k(this,l,null),k(this,u,null),k(this,p,[]),k(this,d,[])}onHandle(){k(this,c,this.onEvent(w.i.OPEN,this.openFromEvent.bind(this))),k(this,l,this.onEvent(w.i.CLOSE,this.closeFromEvent.bind(this))),k(this,d,f.b.get(this.args.openAct)),k(this,p,f.b.get(this.args.closeAct)),this.onInit()}onRefresh(){this.prevArgs&&this.args.openAct===this.prevArgs.openAct||k(this,d,f.b.get(this.args.openAct)),this.prevArgs&&this.args.closeAct===this.prevArgs.closeAct||k(this,p,f.b.get(this.args.closeAct)),this.onUpdate()}onRemove(){this.detachEvent(w.i.CLOSE,y(this,l)),this.detachEvent(w.i.OPEN,y(this,c)),this.onDestroy()}open(t){return b(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?(this.logWarning("Component is already opened"),!1):((this.args.escClose||Object(m.x)(this.args.keyClose))&&k(this,u,this.onEvent(w.i.KEYDOWN,this.onKeyClose.bind(this))),!!this.onBeforeOpen()&&(this.isLocked=!0,this.performAction(y(this,d),this.args.timeout,this.onActionFinish.bind(this,this.onAfterOpen.bind(this),w.i.OPENED,t),()=>{this.helper.setClass(this.activeClassName,this.element),r.setAria(this.element,"aria-expanded","true")}))))}))}close(t){return b(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("close")&&(this.isActive()?(this.detachEvent(w.i.KEYDOWN,y(this,u)),!!this.onBeforeClose()&&(this.isLocked=!0,this.performAction(y(this,p),this.args.timeout,this.onActionFinish.bind(this,this.onAfterClose.bind(this),w.i.CLOSED,t),()=>{this.helper.removeClass(this.activeClassName,this.element),r.setAria(this.element,"aria-expanded","false")}))):(this.logWarning("Component is already closed"),!1))}))}performAction(t,e,i,s){return b(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performActions(this.element,t,e,s))&&(i(),!0)}))}openFromEvent(t){this.open(t)}closeFromEvent(t){this.close(t)}onActionFinish(t,e,i){t(),this.emitEvent(e,{timestamp:Date.now(),state:i}),this.isLocked=!1}onKeyClose(t){return b(this,void 0,void 0,(function*(){(this.args.escClose&&"Escape"===t.event.key||Object(m.x)(this.args.keyClose)&&t.event.key===this.args.keyClose)&&(yield this.close("Closed by key"))}))}}c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap;class A extends E{constructor(t,e,i,s,r){super(t,e,i,s,r),g.set(this,void 0),k(this,g,new n.a(e)),y(this,g).onMutation(this.mutation.bind(this))}onHandle(){this.onInit(),y(this,g).observe()}onRefresh(){y(this,g).unobserve(),this.onUpdate(),y(this,g).observe()}onRemove(){y(this,g).unobserve(),this.onDestroy()}mutation(t){this._log.debug("Element mutation","mutation"),this.onMutation(t.reduce((t,e)=>("childList"!==e.type||(e.addedNodes.length>0&&t.added.push(...e.addedNodes),e.removedNodes.length>0&&t.removed.push(...e.removedNodes)),t),{added:[],removed:[]}))}}g=new WeakMap;var W,x,T,S,j,L,P,D=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},I=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},N=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class B{constructor(t,e){W.set(this,void 0),x.set(this,void 0),T.set(this,void 0),I(this,W,Object(m.E)("> * > .{prefix}-accordion-title",t)),I(this,x,Object(m.E)("> *",t)),this.animation=!1,I(this,T,null!=e?e:300),this.single=!1,this.selector=w.k+N(this,W),this.items=w.k+N(this,x),this.timeout=N(this,T)}parse(t){if(Object(m.x)(t))return this.single=Object(m.A)(t.single),this.selector=w.k+Object(m.u)(t.selector,N(this,W)),this.items=w.k+Object(m.u)(t.content,N(this,x)),this.timeout=Object(m.o)(t.timeout,N(this,T)),void(this.animation=Object(m.A)(t.animation))}isValid(){return!0}}W=new WeakMap,x=new WeakMap,T=new WeakMap;class H{constructor(t){S.set(this,void 0),I(this,S,null!=t?t:"cui"),this.attribute=N(this,S)+"-accordion"}getStyle(){return null}get(t,e){return new _(t,e,this.attribute,N(this,S))}}S=new WeakMap;class _ extends A{constructor(t,e,i,s){super("CuiAccordionHandler",t,i,new B(s,e.setup.animationTime),e),j.set(this,void 0),L.set(this,void 0),P.set(this,void 0),I(this,P,null),I(this,j,[]),I(this,L,[]),I(this,P,null)}onInit(){if(this.args.isValid()){try{this.initTargets(),I(this,P,this.onEvent(w.i.SWITCH,this.onSwitch.bind(this)))}catch(t){this._log.exception(t,"handle")}this._log.debug("Initialized","handle")}}onUpdate(){try{this.initTargets()}catch(t){this._log.exception(t,"handle")}}onDestroy(){this.detachEvent(w.i.SWITCH,N(this,P))}onMutation(t){(t.added.length>0||t.removed.length>0)&&this.initTargets()}switch(t){return D(this,void 0,void 0,(function*(){if(this._log.debug("Switch to: "+t),t<0||this.isLocked||!this.isInitialized)return!1;if(I(this,j,this.queryItems()),N(this,j).length<=t)return!1;this.isLocked=!0;const e=N(this,j)[t];return this.helper.hasClass(this.activeClassName,e)?this.helper.removeClassesAs(e,this.activeClassName):(this.args.single&&this.closeAllExcept(t),this.helper.setClassesAs(e,this.activeClassName)),this.emitEvent(w.i.SWITCHED,{index:t,currentTarget:e,timestamp:Date.now()}),this.isLocked=!1,!0}))}onSwitch(t){this.switch(Object(m.o)(t,-1)).then(()=>{this._log.debug("Switch from event to "+t)})}initTargets(){I(this,j,this.queryItems());const t=this.element.querySelectorAll(this.args.selector);I(this,L,[]),t.forEach((t,e)=>{let i={element:t};this.setListener(i,e),N(this,L).push(i)})}closeAllExcept(t){this.mutate(()=>{N(this,j).forEach((e,i)=>{t!==i&&this.helper.hasClass(this.activeClassName,e)&&e.classList.remove(this.activeClassName)})})}setListener(t,e){t.listener=()=>{this.switch(e)},t.element.addEventListener("click",t.listener)}removeListener(t){t.listener&&t.element.removeEventListener("click",t.listener)}queryItems(){return[...this.element.querySelectorAll(this.args.items)]}}j=new WeakMap,L=new WeakMap,P=new WeakMap;var R,$=i(6),q=i(3),V=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},z=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class U{constructor(){this.length=this.to=this.from=-1,this.rtl=!1}setProperty(t){if(!t||!Object(m.x)(t.from)||!Object(m.x)(t.to))throw new q.a("[OpacityAnimator] Property has incorrect format");this.from=t.from,this.to=t.to,this.length=Math.abs(this.to-this.from),this.rtl=this.from>this.to}perform(t,e,i){if(this.to<0)return;let s=this.length*e;t.style&&(t.style.opacity=this.rtl?Math.max(this.from-s,0):Math.min(this.from+s,1))}}class F{constructor(t){if(R.set(this,void 0),!Object(m.x)(t))throw new q.a("[PropertyAnimator] Valid property is required");this.property=t,this.length=this.to=this.from=-1,this.rtl=!1,V(this,R,"")}setProperty(t){if(!t||!Object(m.x)(t.from)||!Object(m.x)(t.to))throw new q.a("[PropertyAnimator] Property has incorrect format");this.from=t.from,this.to=t.to,this.length=Math.abs(this.to-this.from),this.rtl=this.from>this.to,V(this,R,t.unit)}perform(t,e,i){if(!this.property)return;let s=this.length*e;t.style&&(t.style[this.property]=this.createValue(this.rtl?this.from-s:this.from+s,z(this,R)))}createValue(t,e){return`${t}${null!=e?e:""}`}}R=new WeakMap;class G{constructor(){this.prop=void 0}setProperty(t){if(!t)throw new q.a("[TransformAnimator] Property has incorrect format");this.prop=t}build(t){let e=[];for(let i in this.prop){let s=this.prop[i],n=Math.abs(s.to-s.from),r=s.from>s.to?s.from-n*t:s.from+n*t;e.push(this.buildSingle(i,r,s.unit))}return e.join(" ")}buildSingle(t,e,i){return`${t}(${e}${i})`}perform(t,e){this.prop&&t.style&&(t.style.transform=this.build(e))}}var K,Y,X,Z,J,Q,tt,et,it,st,nt,rt,ot,ht,at=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ct=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};new WeakMap,new WeakMap,new WeakMap,new WeakMap;class lt{get(t){if(Object(m.x)(t))switch(t){case"opacity":return new U;case"transform":return new G;default:return new F(t)}}}class ut{constructor(t){K.set(this,void 0),Y.set(this,void 0),X.set(this,void 0),Z.set(this,void 0),J.set(this,void 0),Q.set(this,void 0),tt.set(this,void 0),et.set(this,void 0),it.set(this,void 0),at(this,Y,[]),at(this,J,void 0),at(this,Z,void 0),at(this,Q,null!=t&&t),at(this,et,new lt),at(this,X,!1),at(this,K,void 0),at(this,tt,!1),at(this,it,void 0)}onFinish(t){at(this,K,t)}setAnimators(t){at(this,Y,t)}setProps(t){if(Object(m.x)(t)){at(this,Y,[]);try{for(let e in t){let i=ct(this,et).get(e);if(!i)return;i.setProperty(t[e]),ct(this,Y).push(i)}}catch(t){this.reportError(t)}}}setElement(t){at(this,J,t)}setOnError(t){at(this,it,t)}animate(t,e,i){if(ct(this,X))return;if(!ct(this,J)||0===ct(this,Y).length)return void this.reportError(new Error("Animation cannot be performed: element or animators are not set"));let s=null!=e?e:0,n=i||!1;at(this,X,!0),requestAnimationFrame(this.animateAsync.bind(this,t,s,n))}isLocked(){return ct(this,X)}animateAsync(t,e,i,s){ct(this,Z)||at(this,Z,s);let n=s-ct(this,Z),r=n/t,o=0;o=0===e?r:i?e-r*e:e+r*e,this.callUpdate(i?Math.max(o,0):Math.min(o,1),1),n<t&&!ct(this,tt)?requestAnimationFrame(this.animateAsync.bind(this,t,e,i)):this.endAnimation(i)}endAnimation(t){ct(this,Q)&&ct(this,J)&&ct(this,J).removeAttribute("style"),ct(this,K)&&ct(this,K).call(this,ct(this,J),t,ct(this,tt)),at(this,tt,!1),at(this,Z,void 0),at(this,X,!1)}callUpdate(t,e){try{ct(this,Y).forEach(i=>i.perform(ct(this,J),t,e))}catch(t){this.reportError(t),at(this,tt,!0)}}reportError(t){ct(this,it)?ct(this,it).call(this,t):(console.error("An error occured in CuiAnimtionEngine"),console.error(t))}}K=new WeakMap,Y=new WeakMap,X=new WeakMap,Z=new WeakMap,J=new WeakMap,Q=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap;class dt{constructor(t){st.set(this,void 0),nt.set(this,void 0),rt.set(this,void 0),ot.set(this,void 0),ht.set(this,void 0),at(this,st,void 0),at(this,nt,[]),at(this,rt,new ut(t)),at(this,ot,new lt),at(this,ht,void 0)}setElement(t){at(this,st,t)}setOnFinish(t){ct(this,rt).onFinish(t)}setOnError(t){at(this,ht,t),ct(this,rt).setOnError(t)}setProps(t){if(Object(m.x)(t)){at(this,nt,[]);try{for(let e in t){let i=ct(this,ot).get(e);if(!i)return;i.setProperty(t[e]),ct(this,nt).push(i)}}catch(t){this.reportError(t)}}}update(t){ct(this,st)&&0!==ct(this,nt).length&&ct(this,nt).forEach(e=>e.perform(ct(this,st),Math.min(t,1),1))}updateAsync(t){requestAnimationFrame(this.update.bind(this,t))}finish(t,e,i){ct(this,st)&&ct(this,rt).setElement(ct(this,st)),ct(this,rt).setAnimators(ct(this,nt)),ct(this,rt).animate(e,t,i)}reportError(t){ct(this,ht)?ct(this,ht).call(this,t):console.log(t)}}st=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,ht=new WeakMap;var pt,gt,vt,ft,mt,wt,bt,kt,yt,Ct=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Et=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Mt{constructor(t,e){pt.set(this,void 0),gt.set(this,void 0),Ct(this,pt,null!=e?e:300),Ct(this,gt,t),this.escClose=!1,this.keyClose="",this.timeout=Et(this,pt),this.swipe=!1,this.openAct="",this.closeAct=""}parse(t){this.swipe=Object(m.c)(t.swipe,!1),this.escClose=!1,this.keyClose="",this.timeout=Object(m.o)(t.timeout,Et(this,pt)),this.openAct=Object(m.u)(t.openAct,Object(m.E)(".{prefix}-animation-fade-in",Et(this,gt))),this.closeAct=Object(m.u)(t.closeAct,Object(m.E)(".{prefix}-animation-fade-out",Et(this,gt)))}}pt=new WeakMap,gt=new WeakMap;class Ot{constructor(t){vt.set(this,void 0),Ct(this,vt,null!=t?t:"cui"),this.attribute=Et(this,vt)+"-banner"}getStyle(){return null}get(t,e){return new At(t,e,this.attribute,Et(this,vt))}}vt=new WeakMap;class At extends O{constructor(t,e,i,s){super("CuiBannerHandler",t,i,new Mt(s,e.setup.animationTime),e),ft.set(this,void 0),mt.set(this,void 0),wt.set(this,void 0),bt.set(this,void 0),kt.set(this,void 0),yt.set(this,void 0),Ct(this,ft,new dt(!0)),Et(this,ft).setOnFinish(this.onSwipeFinish.bind(this)),Et(this,ft).setElement(this.element),Ct(this,wt,-1),Ct(this,bt,0),Ct(this,kt,$.a.fade),Ct(this,yt,null),Ct(this,mt,!1)}onInit(){this.isActive()||this.open()}onUpdate(){}onDestroy(){this.detachEvent(w.i.GLOBAL_MOVE,Et(this,yt))}onBeforeOpen(){return!0}onAfterOpen(){this.args.swipe&&Ct(this,yt,this.onEvent(w.i.GLOBAL_MOVE,this.onMove.bind(this)))}onAfterClose(){this.detachEvent(w.i.GLOBAL_MOVE,Et(this,yt))}onBeforeClose(){return!0}onMove(t){if(this.isLocked)return;let e=this.element;switch(t.type){case"down":if(Et(this,mt)||!e.contains(t.target))return;Ct(this,mt,!0),Ct(this,wt,t.x),this.helper.setClassesAs(document.body,w.a.swipingOn),t.event.preventDefault();break;case"up":if(!Et(this,mt)&&0==Et(this,bt))break;let i=Math.abs(Et(this,bt)),s=i*this.args.timeout,n=i<=.4;this.isLocked=!0,Et(this,ft).finish(i,s,n),this.helper.removeClassesAs(document.body,w.a.swipingOn),Ct(this,mt,!1);break;case"move":if(Et(this,mt)){let i=(t.x-Et(this,wt))/e.offsetWidth;(Et(this,bt)>=0&&i<=0||Et(this,bt)<=0&&i>0)&&Et(this,ft).setProps(i>0?Et(this,kt).current.right:Et(this,kt).current.left),Ct(this,bt,i),this.mutate(()=>{Et(this,ft).update(Math.abs(Et(this,bt)))}),t.event.preventDefault()}}}onSwipeFinish(t,e,i){this.isLocked=!1,e||(this.helper.removeClass(this.activeClassName,this.element),r.setAria(this.element,"aria-expanded","false")),Ct(this,bt,0),Ct(this,wt,0)}}ft=new WeakMap,mt=new WeakMap,wt=new WeakMap,bt=new WeakMap,kt=new WeakMap,yt=new WeakMap;var Wt,xt,Tt,St=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},jt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Lt{constructor(t){Wt.set(this,void 0),xt.set(this,void 0),Tt.set(this,void 0),St(this,Wt,t),St(this,xt,1),St(this,Tt,new Pt)}setScale(t){return St(this,xt,t),this}build(){let t=Object(m.i)(jt(this,Wt));return Object(m.x)(t)&&jt(this,xt)&&jt(this,Tt).append(t,jt(this,xt)),t}}Wt=new WeakMap,xt=new WeakMap,Tt=new WeakMap;class Pt{append(t,e){let i=Object(m.o)(t.getAttribute("width"),20),s=Object(m.o)(t.getAttribute("height"),20);t.setAttribute("width",(i*e).toString()),t.setAttribute("height",(s*e).toString())}}var Dt,It,Nt,Bt,Ht,_t=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Rt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class $t{constructor(){this.progress=0}parse(t){Object(m.x)(t)?Object(m.z)(t)?this.progress=Object(m.o)(t,0):this.progress=Object(m.o)(t.progress,0):this.progress=0}}class qt{constructor(t){this.attribute=(null!=t?t:"cui")+"-circle-progress",w.j.special_circle_progress='<svg xmlns="http://www.w3.org/2000/svg"  class="circle-progress" viewBox="0 0 100 100" width="100" height="100"><path class="circle-progress-path" d="M 50,5.3660047 A 44.867708,44.633994 0 0 1 94.867709,49.999997 44.867708,44.633994 0 0 1 50,94.633995 44.867708,44.633994 0 0 1 5.1322908,50.000001 44.867708,44.633994 0 0 1 50,5.3660047"></path></svg>'}getStyle(){return null}get(t,e){return new Vt(t,e,this.attribute)}}class Vt extends M{constructor(t,e,i){super("CuiCircleHandler",t,i,new $t,e),Dt.set(this,void 0),It.set(this,void 0),Nt.set(this,void 0),Bt.set(this,void 0),Ht.set(this,void 0),_t(this,Dt,_t(this,It,0)),_t(this,Nt,null),_t(this,Bt,i),_t(this,Ht,null)}onInit(){const t=new Lt(w.j.special_circle_progress).build();if(!Object(m.x)(t))return void this.logError("SVG circle was not created","onInit");const e=this.element.querySelector("svg");Object(m.x)(e)&&e.remove(),this.element.appendChild(t),_t(this,Nt,this.element.querySelector(".circle-progress-path")),_t(this,It,Rt(this,Nt).getTotalLength()),_t(this,Dt,Rt(this,It)/100),this.fetch(this.readStyle),_t(this,Ht,this.onEvent(w.i.PROGRESS_CHANGE,this.onSetProgress.bind(this)))}onUpdate(){this.fetch(this.readStyle),this.emitEvent(w.i.PROGRESS_CHANGED,{timestamp:Date.now(),progress:this.args.progress})}onDestroy(){this.detachEvent(w.i.PROGRESS_CHANGE,Rt(this,Ht))}onSetProgress(t){Object(m.x)(t)&&this.element.setAttribute(Rt(this,Bt),t)}updateStyle(t){Rt(this,Nt).style.strokeDashoffset=t}readStyle(){if(this.prevArgs&&this.args.progress===this.prevArgs.progress)return;const t=Object(m.s)(this.args.progress,0,100);this.mutate(this.updateStyle,Rt(this,It)-Rt(this,Dt)*t)}}Dt=new WeakMap,It=new WeakMap,Nt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap;var zt,Ut,Ft,Gt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Kt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Yt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Xt{constructor(t){zt.set(this,void 0),this.target="",this.action="",this.prevent=!1,this.state="",Kt(this,zt,null!=t?t:300),this.timeout=Yt(this,zt)}parse(t){if(Object(m.x)(t)&&Object(m.z)(t))return this.target=t,this.action="",this.timeout=Yt(this,zt),this.prevent=!1,void(this.state="");this.target=Object(m.u)(t.target,""),this.action=t.action,this.timeout=Object(m.o)(t.timeout,Yt(this,zt)),this.prevent=t.prevent&&Object(m.A)(t.prevent),this.state=t.state}}zt=new WeakMap;class Zt{constructor(t){Ut.set(this,void 0),Kt(this,Ut,null!=t?t:"cui"),this.attribute=Yt(this,Ut)+"-close"}getStyle(){return null}get(t,e){return new Jt(t,e,this.attribute,Yt(this,Ut))}}Ut=new WeakMap;class Jt extends M{constructor(t,e,i,s){super("CuiCloseHandler",t,i,new Xt(e.setup.animationTime),e),Ft.set(this,void 0),Kt(this,Ft,null),this.onClick=this.onClick.bind(this)}onInit(){this.element.addEventListener("click",this.onClick),Kt(this,Ft,this.onEvent(w.i.CLOSE,this.onClose.bind(this)))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(w.i.CLOSE,Yt(this,Ft))}onClick(t){this.onClose(t),this.args.prevent&&t.preventDefault()}onClose(t){if(this.isLocked)return;const e=this.getTarget();Object(m.x)(e)?(this.isLocked=!0,this.run(e).then(e=>{this.onActionFinish(t,e)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return Gt(this,void 0,void 0,(function*(){let e=t.$cuid;if(Object(m.x)(e))return yield this.utils.bus.emit(w.i.CLOSE,e,this.args.state),!1;if(Object(m.b)(this.args.action,this.args.timeout)){let e=f.b.get(this.args.action);return this.actionsHelper.performActions(t,e,this.args.timeout,()=>{this.removeActiveClass(t)})}return this.removeActiveClassAsync(t),!0}))}removeActiveClass(t){Object(m.x)(t)&&this.helper.hasClass(this.activeClassName,t)&&this.helper.removeClass(this.activeClassName,t)}removeActiveClassAsync(t){this.fetch(()=>{Object(m.x)(t)&&this.helper.hasClass(this.activeClassName,t)&&this.helper.removeClassesAs(t,this.activeClassName)})}onActionFinish(t,e){e&&this.emitClose(t)}getTarget(){var t;return Object(m.x)(this.args.target)&&null!==(t=document.querySelector(this.args.target))&&void 0!==t?t:Object(m.r)(this.element)}emitClose(t){this.emitEvent(w.i.CLOSED,{timestamp:Date.now(),state:this.args.state,event:t})}}Ft=new WeakMap;var Qt,te,ee,ie,se,ne=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},re=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class oe{constructor(t,e){Qt.set(this,void 0),te.set(this,void 0),ne(this,Qt,null!=e?e:300),ne(this,te,t),this.escClose=!1,this.timeout=re(this,Qt),this.openAct="",this.closeAct="",this.keyClose=""}parse(t){this.escClose=Object(m.A)(t.escClose),this.keyClose=t.keyClose,this.timeout=Object(m.o)(t.timeout,re(this,Qt)),this.openAct=Object(m.u)(t.openAct,Object(m.E)(".{prefix}-dialog-default-in",re(this,te))),this.closeAct=Object(m.u)(t.closeAct,Object(m.E)(".{prefix}-dialog-default-out",re(this,te)))}}Qt=new WeakMap,te=new WeakMap;class he{constructor(t){ee.set(this,void 0),ne(this,ee,null!=t?t:"cui"),this.attribute=re(this,ee)+"-cover"}getStyle(){return null}get(t,e){return new ae(t,e,this.attribute,re(this,ee))}}ee=new WeakMap;class ae extends O{constructor(t,e,i,s){super("CuiDialogHandler",t,i,new oe(s,e.setup.animationTimeLong),e),ie.set(this,void 0),se.set(this,void 0),ne(this,ie,Object(m.E)("{prefix}-cover-open",s)),ne(this,se,0)}onInit(){r.setAria(this.element,"aria-modal","")}onUpdate(){}onDestroy(){}onBeforeOpen(){return!this.isAnyActive()&&(ne(this,se,window.pageYOffset),!0)}onAfterOpen(){this.helper.setClass(re(this,ie),document.body),document.body.style.top=`-${re(this,se)}px`,r.setAria(this.element,"aria-hidden","false")}onAfterClose(){document.body.style.top="",window.scrollTo(0,-1*(re(this,se)||0)),ne(this,se,0),this.helper.removeClass(re(this,ie),document.body),r.setAria(this.element,"aria-hidden","true")}onBeforeClose(){return!0}isAnyActive(){return this.helper.hasClass(re(this,ie),document.body)}}ie=new WeakMap,se=new WeakMap;var ce,le,ue,de,pe,ge,ve,fe=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},me=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class we{constructor(t,e){ce.set(this,void 0),le.set(this,void 0),fe(this,ce,null!=e?e:300),fe(this,le,t),this.escClose=!1,this.outClose=!1,this.timeout=me(this,ce),this.openAct="",this.closeAct="",this.keyClose=""}parse(t){this.escClose=Object(m.A)(t.escClose),this.outClose=Object(m.A)(t.outClose),this.keyClose=t.keyClose,this.timeout=Object(m.o)(t.timeout,me(this,ce)),this.openAct=Object(m.u)(t.openAct,Object(m.E)(".{prefix}-dialog-default-in",me(this,le))),this.closeAct=Object(m.u)(t.closeAct,Object(m.E)(".{prefix}-dialog-default-out",me(this,le)))}}ce=new WeakMap,le=new WeakMap;class be{constructor(t){ue.set(this,void 0),fe(this,ue,null!=t?t:"cui"),this.attribute=me(this,ue)+"-dialog"}getStyle(){return null}get(t,e){return new ke(t,e,this.attribute,me(this,ue))}}ue=new WeakMap;class ke extends O{constructor(t,e,i,s){super("CuiDialogHandler",t,i,new we(s,e.setup.animationTimeLong),e),de.set(this,void 0),pe.set(this,void 0),ge.set(this,void 0),ve.set(this,void 0),fe(this,pe,Object(m.E)("{prefix}-dialog-open",s)),fe(this,de,s),fe(this,ge,0),fe(this,ve,null)}onInit(){r.setAria(this.element,"aria-modal","")}onUpdate(){}onDestroy(){}onBeforeOpen(){return!this.isAnyActive()&&(fe(this,ge,window.pageYOffset),!0)}onAfterOpen(){this.args.outClose&&fe(this,ve,this.onEvent(w.i.WINDOW_CLICK,this.onWindowClick.bind(this))),this.helper.setClass(me(this,pe),document.body),document.body.style.top=`-${me(this,ge)}px`}onAfterClose(){document.body.style.top="",window.scrollTo(0,-1*(me(this,ge)||0)),fe(this,ge,0),this.helper.removeClass(me(this,pe),document.body),this.detachEvent(w.i.WINDOW_CLICK,me(this,ve))}onBeforeClose(){return!0}isAnyActive(){return this.helper.hasClass(me(this,pe),document.body)}onWindowClick(t){let e=this.element.querySelector(Object(m.E)(".{prefix}-dialog-container",me(this,de)));e&&!e.contains(t.target)&&this.close("out").then(()=>{this._log.debug("Closed by click outside")})}}de=new WeakMap,pe=new WeakMap,ge=new WeakMap,ve=new WeakMap;var ye,Ce,Ee,Me,Oe,Ae,We,xe,Te=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Se=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class je{constructor(t){ye.set(this,void 0),Ce.set(this,void 0),Ee.set(this,void 0),Me.set(this,void 0),Oe.set(this,void 0),Ae.set(this,void 0),We.set(this,void 0),xe.set(this,void 0),Te(this,ye,t),Te(this,Ee,!1),Te(this,Me,!1),Te(this,Oe,!1),Te(this,Ce,void 0),Te(this,We,this.onMouseMove.bind(this)),Te(this,xe,this.onMouseOut.bind(this)),Te(this,Ae,this.onMouseOver.bind(this))}setCallback(t){Te(this,Ce,t)}isInProgress(){return Se(this,Ee)}attach(){Se(this,ye).addEventListener("mouseover",Se(this,Ae)),Se(this,ye).addEventListener("mousemove",Se(this,We)),Se(this,ye).addEventListener("mouseout",Se(this,xe)),Te(this,Oe,!0)}detach(){Se(this,ye).removeEventListener("mouseover",Se(this,Ae)),Se(this,ye).removeEventListener("mousemove",Se(this,We)),Se(this,ye).removeEventListener("mouseout",Se(this,xe)),Te(this,Oe,!1)}emit(t,e){Object(m.b)(Se(this,Ce))&&(!e&&Se(this,Ee)||(Te(this,Ee,!0),window.requestAnimationFrame(this.invoke.bind(this,{isHovering:Se(this,Me),event:t,timestamp:Date.now()}))))}isAttached(){return Se(this,Oe)}invoke(t){Se(this,Ce)&&Se(this,Ce).call(this,t),Te(this,Ee,!1)}onMouseOver(t){Te(this,Me,!0),this.emit(t,!0)}onMouseOut(t){Te(this,Me,!1),this.emit(t,!0)}onMouseMove(t){this.emit(t,!1)}}ye=new WeakMap,Ce=new WeakMap,Ee=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Ae=new WeakMap,We=new WeakMap,xe=new WeakMap;var Le,Pe,De,Ie,Ne=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Be=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class He{constructor(){Le.set(this,void 0),Pe.set(this,void 0),De.set(this,void 0),Ie.set(this,void 0),Ne(this,De,-1),Ne(this,Pe,-1),Ne(this,Le,void 0),Ne(this,Ie,0)}setElementBox(t){Ne(this,Le,t)}setTarget(t){Ne(this,Pe,t.width),Ne(this,De,t.height)}setMargin(t){Ne(this,Ie,t)}getVerticalPosition(t){switch(t){case"top":return this.getTopPosition();case"bottom":return this.getBottomPosition();case"middle":return this.getMiddlePosition();default:return-1}}getHorizontalPosition(t){switch(t){case"left":return this.getLeftPosition();case"right":return this.getRightPosition();case"center":return this.getCenterPosition();default:return-1}}getAutoVerticalPosition(t){let e=window.innerHeight,i=this.getVerticalPosition(t);return("top"===t||"middle"===t)&&i<0?[this.getVerticalPosition("bottom"),"bottom"]:("bottom"===t||"middle"===t)&&i+Be(this,De)>e?[this.getVerticalPosition("top"),"top"]:[i,t]}getAutoHorizontalPosition(t){let e=window.innerWidth,i=this.getHorizontalPosition(t);return("right"===t||"center"===t)&&i<0?[this.getHorizontalPosition("left"),"left"]:("left"===t||"center"===t)&&i+Be(this,Pe)>e?[this.getHorizontalPosition("right"),"right"]:[i,t]}getTopPosition(){return this.throwIfNotValid("getTopPosition"),Be(this,Le).top-Be(this,Ie)-Be(this,De)}getBottomPosition(){return this.throwIfNotValid("getBottomPosition"),Be(this,Le).top+Be(this,Le).height+Be(this,Ie)}getMiddlePosition(){return this.throwIfNotValid("getMiddlePosition"),Be(this,Le).top+Be(this,Le).height/2-Be(this,De)/2}getLeftPosition(){return this.throwIfNotValid("getLeftPosition"),Be(this,Le).left}getRightPosition(){return this.throwIfNotValid("getRightPosition"),Be(this,Le).left+Be(this,Le).width-Be(this,Pe)}getCenterPosition(){return this.throwIfNotValid("getCenterPosition"),Be(this,Le).left+Be(this,Le).width/2-Be(this,Pe)/2}validate(){return Object(m.x)(Be(this,Le))&&Be(this,De)>0&&Be(this,Pe)>0}throwIfNotValid(t){if(!this.validate())throw new q.f(`[${t}] Position cannot be calculated: missing data [width: ${Be(this,Pe)}][height: ${Be(this,De)}]`)}}Le=new WeakMap,Pe=new WeakMap,De=new WeakMap,Ie=new WeakMap;var _e,Re,$e,qe,Ve=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ze=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ue{constructor(t){_e.set(this,void 0),Re.set(this,void 0),$e.set(this,void 0),qe.set(this,void 0),Ve(this,Re,"top-center"),Ve(this,_e,""),Ve(this,$e,null!=t?t:new He),Ve(this,qe,s.a.get("CuiBasePositionCalculator"))}setMargin(t){ze(this,$e).setMargin(t)}setPreferred(t){Ve(this,Re,t)}setStatic(t){Ve(this,_e,t)}calculate(t,e){if(ze(this,$e).setElementBox(t),ze(this,$e).setTarget(e),Object(m.x)(ze(this,_e))){ze(this,qe).debug("Evaluating static position");const[t,e]=this.parse(ze(this,_e));return[ze(this,$e).getHorizontalPosition(e),ze(this,$e).getVerticalPosition(t),ze(this,_e)]}let[i,s]=["",""];Object(m.x)(ze(this,Re))&&(ze(this,qe).debug("Evaluating auto position"),[i,s]=this.parse(ze(this,Re))),i=null!=i?i:"top",s=null!=s?s:"center",ze(this,qe).debug("Calculating position: "+i+"-"+s);const[n,r]=ze(this,$e).getAutoVerticalPosition(i),[o,h]=ze(this,$e).getAutoHorizontalPosition(s);return ze(this,qe).debug("Calculated position: "+r+"-"+h),[o,n,r+"-"+h]}parse(t){return t.split("-")}}_e=new WeakMap,Re=new WeakMap,$e=new WeakMap,qe=new WeakMap;var Fe,Ge,Ke,Ye,Xe=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ze=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Je{constructor(t,e,i){Fe.set(this,void 0),Ge.set(this,void 0),Ke.set(this,void 0),Ye.set(this,void 0),Xe(this,Ge,e),Xe(this,Ke,t),Xe(this,Ye,i)}start(){this.canRun()&&(this.stop(),Xe(this,Fe,setTimeout(()=>{Ze(this,Ye).call(this),Xe(this,Fe,null),Ze(this,Ge)&&this.start()},Ze(this,Ke))))}stop(){Ze(this,Fe)&&(clearTimeout(Ze(this,Fe)),Xe(this,Fe,null))}getId(){return Ze(this,Fe)}canRun(){return Object(m.x)(Ze(this,Ye))&&Ze(this,Ke)>0}setCallback(t){Xe(this,Ye,t)}setTimeout(t){Xe(this,Ke,t)}}Fe=new WeakMap,Ge=new WeakMap,Ke=new WeakMap,Ye=new WeakMap;var Qe,ti,ei,ii,si,ni,ri,oi,hi,ai,ci,li,ui,di,pi,gi=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},vi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},fi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class mi{constructor(t){Qe.set(this,void 0),vi(this,Qe,Object(m.E)("{prefix}-drop-animation-in",t)),this.mode="click",this.trigger="> a, button",this.autoClose=!1,this.outClose=!1,this.prevent=!1,this.pos="",this.action=fi(this,Qe),this.timeout=3e3,this.margin=8}parse(t){this.mode=Object(m.u)(t.mode,"click").toLowerCase(),this.trigger=w.k+Object(m.u)(t.trigger,"> a, button"),this.prevent=Object(m.A)(t.prevent),this.autoClose=Object(m.A)(t.autoClose),this.outClose=!t.outClose||Object(m.A)(t.outClose),this.pos=Object(m.u)(t.pos,""),this.action=Object(m.u)(t.action,fi(this,Qe)),this.timeout=Object(m.o)(t.timeout,3e3),this.margin=Object(m.o)(t.margin,8)}}Qe=new WeakMap;class wi{constructor(t){ti.set(this,void 0),vi(this,ti,null!=t?t:"cui"),this.attribute=fi(this,ti)+"-drop"}getStyle(){return null}get(t,e){return new bi(t,e,this.attribute,fi(this,ti))}}ti=new WeakMap;class bi extends M{constructor(t,e,i,s){super("CuidropHandler",t,i,new mi(s),e),ei.set(this,void 0),ii.set(this,void 0),si.set(this,void 0),ni.set(this,void 0),ri.set(this,void 0),oi.set(this,void 0),hi.set(this,void 0),ai.set(this,void 0),ci.set(this,void 0),li.set(this,void 0),ui.set(this,void 0),di.set(this,void 0),pi.set(this,void 0),vi(this,si,i),vi(this,ei,s),vi(this,ii,Object(m.E)("{prefix}-drop-open",s)),vi(this,ri,new je(this.element)),fi(this,ri).setCallback(this.onElementHover.bind(this)),vi(this,hi,null),vi(this,ai,null),vi(this,ci,null),this.onTriggerClick=this.onTriggerClick.bind(this),vi(this,li,new Ue),fi(this,li).setMargin(8),fi(this,li).setPreferred("bottom-left"),vi(this,ui,""),vi(this,ni,void 0),vi(this,oi,this.element),vi(this,pi,[]),vi(this,di,new Je(this.args.timeout,!1,this.close.bind(this)))}onInit(){vi(this,oi,this.acquireTrigger()),vi(this,ni,new je(fi(this,oi))),this.setTriggerEvent(),vi(this,ai,this.onEvent(w.i.OPEN,this.open.bind(this))),vi(this,ci,this.onEvent(w.i.CLOSE,this.close.bind(this))),fi(this,li).setStatic(this.args.pos),fi(this,li).setMargin(this.args.margin),vi(this,di,new Je(this.args.timeout,!1,this.close.bind(this))),vi(this,pi,f.b.get(this.args.action)),this.mutate(()=>{r.setAria(this.element,"aria-dropdown","")}),this._log.debug("Initialized","handle")}onUpdate(){fi(this,ni)&&fi(this,ni).isAttached()?fi(this,ni).detach():this.prevArgs&&"click"===this.prevArgs.mode&&fi(this,oi).removeEventListener("click",this.onTriggerClick),vi(this,oi,this.acquireTrigger()),vi(this,ni,new je(fi(this,oi))),this.setTriggerEvent(),fi(this,li).setStatic(this.args.pos),fi(this,li).setMargin(this.args.margin),vi(this,pi,f.b.get(this.args.action)),fi(this,di).setTimeout(this.args.timeout)}onDestroy(){this.detachEvent(w.i.OPEN,fi(this,ai)),this.detachEvent(w.i.CLOSE,fi(this,ci))}open(){return gi(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?this.close():(this.isAnyActive()&&(yield this.findAndCloseOpenedDrop()),this.isLocked=!0,this._log.debug("Drop "+this.cuid,"open"),this.onOpen(),this.isLocked=!1,!0))}))}close(){return gi(this,void 0,void 0,(function*(){return!(this.checkLockAndWarn("close")||!this.isActive())&&(this.isLocked=!0,this.logInfo("Drop "+this.cuid,"close"),this.onClose(),this.detachEvent(w.i.WINDOW_CLICK,fi(this,hi)),this.emitEvent(w.i.CLOSED,{timestamp:Date.now()}),fi(this,ri).detach(),this.isLocked=!1,!0)}))}onClose(){this.mutate(()=>{this.helper.removeClass(this.activeClassName,this.element),this.helper.removeClass(fi(this,ii),document.body),this.toggleActions(),this.helper.removeClass(fi(this,ui),this.element),r.setAria(this.element,"aria-expanded","false")})}onOpen(){this.helper.setClass(this.activeClassName,this.element),this.mutate(()=>{const t=fi(this,oi).getBoundingClientRect();try{const[e,i,s]=fi(this,li).calculate(t,this.element.getBoundingClientRect());this.element.style.top=i-t.top+"px",this.element.style.left=e-t.left+"px",vi(this,ui,Object(m.E)("{prefix}-drop-position-"+s,fi(this,ei))),this.toggleActions(),this.helper.setClass(fi(this,ui),this.element),this.helper.setClass(fi(this,ii),document.body),this.emitEvent(w.i.OPENED,{timestamp:Date.now()}),fi(this,ri).attach(),this.runAutoCloseTask(),this.args.outClose&&vi(this,hi,this.onEvent(w.i.WINDOW_CLICK,this.onWindowClick.bind(this))),r.setAria(this.element,"aria-expanded","true")}catch(t){this._log.exception(t)}})}onWindowClick(t){this.element.contains(t.target)||this.close()}isAnyActive(){return this.helper.hasClass(fi(this,ii),document.body)}findAndCloseOpenedDrop(){return gi(this,void 0,void 0,(function*(){const t=document.querySelector(`[${fi(this,si)}].${this.activeClassName}`);if(!Object(m.x)(t))return this._log.warning("Opened drop was not found"),!1;const e=t.$handlers[fi(this,si)];return Object(m.x)(e)?e.close():(this._log.warning("Drop handler was not found in the element"),!1)}))}onTriggerClick(t){this.isActive()?this.close():this.open(),this.args.prevent&&t.preventDefault()}onHoverEvent(t){t.isHovering&&!this.isActive()&&this.open(),this.args.prevent&&t.event.preventDefault()}onElementHover(t){t.isHovering?fi(this,di).stop():!t.isHovering&&this.args.autoClose&&this.runAutoCloseTask()}setTriggerEvent(){"hover"===this.args.mode&&fi(this,ni)?(fi(this,ni).setCallback(this.onHoverEvent.bind(this)),fi(this,ni).attach()):fi(this,oi).addEventListener("click",this.onTriggerClick)}runAutoCloseTask(){this.args.autoClose&&fi(this,di).start()}toggleActions(){fi(this,pi).forEach(t=>{t.toggle(this.element)})}acquireTrigger(){let t=null;return t=this.element.parentElement?this.element.parentElement.querySelector(this.args.trigger):document.querySelector(this.args.trigger),null!=t?t:this.element}}ei=new WeakMap,ii=new WeakMap,si=new WeakMap,ni=new WeakMap,ri=new WeakMap,oi=new WeakMap,hi=new WeakMap,ai=new WeakMap,ci=new WeakMap,li=new WeakMap,ui=new WeakMap,di=new WeakMap,pi=new WeakMap;var ki,yi=i(7),Ci=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ei=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Mi{calculate(t,e,i,s){return[t,e]}}new WeakMap;class Oi{constructor(t){ki.set(this,void 0),Ci(this,ki,t)}calculate(t,e,i,s){return[t-Ei(this,ki).offsetLeft,e-Ei(this,ki).offsetTop]}}ki=new WeakMap;new WeakMap;var Ai,Wi,xi,Ti,Si,ji,Li,Pi,Di,Ii,Ni,Bi,Hi,_i=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ri=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class $i{constructor(t,e){Ai.set(this,void 0),Wi.set(this,void 0),_i(this,Ai,null!=e?e:300),_i(this,Wi,t),this.escClose=!1,this.keyClose="",this.openAct="",this.closeAct="",this.timeout=Ri(this,Ai)}parse(t){this.escClose=Object(m.A)(t.escClose),this.keyClose=t.keyClose,this.timeout=Object(m.o)(t.timeout,Ri(this,Ai)),this.openAct=Object(m.u)(t.openAct,Object(m.E)(".{prefix}-float-default-in",Ri(this,Wi))),this.closeAct=Object(m.u)(t.closeAct,Object(m.E)(".{prefix}-float-default-out",Ri(this,Wi)))}}Ai=new WeakMap,Wi=new WeakMap;class qi{constructor(t){xi.set(this,void 0),_i(this,xi,null!=t?t:"cui"),this.attribute=Ri(this,xi)+"-float"}getStyle(){return null}get(t,e){return new Vi(t,e,this.attribute,Ri(this,xi))}}xi=new WeakMap;class Vi extends O{constructor(t,e,i,s){super("CuiFloatHandler",t,i,new $i(s,e.setup.animationTime),e),Ti.set(this,void 0),Si.set(this,void 0),ji.set(this,void 0),Li.set(this,void 0),Pi.set(this,void 0),Di.set(this,void 0),Ii.set(this,void 0),Ni.set(this,void 0),Bi.set(this,void 0),Hi.set(this,void 0),_i(this,Ti,!1),_i(this,Si,!1),_i(this,ji,0),_i(this,Li,0),_i(this,Di,new yi.a),Ri(this,Di).preventDefault(!1),_i(this,Ii,new Mi),_i(this,Ni,new Oi(t)),_i(this,Pi,s),this.move=this.move.bind(this),this.resize=this.resize.bind(this),_i(this,Hi,null),_i(this,Bi,null)}onInit(){r.setAria(this.element,"aria-modal",""),_i(this,Hi,this.element.querySelector(Object(m.E)(".{prefix}-float-move",Ri(this,Pi)))),_i(this,Bi,this.element.querySelector(Object(m.E)(".{prefix}-float-resize",Ri(this,Pi)))),Ri(this,Di).setCallback(this.onMove.bind(this))}onUpdate(){}onDestroy(){}onBeforeOpen(){return!0}onAfterOpen(){Ri(this,Di).attach()}onAfterClose(){Ri(this,Di).detach()}onBeforeClose(){return!0}onMove(t){switch(t.type){case"down":this.onMouseDown(t);break;case"up":this.onMouseUp(t);break;case"move":this.onMouseMove(t)}}onMouseDown(t){t.target===Ri(this,Hi)?(_i(this,Ti,!0),t.event.preventDefault()):t.target===Ri(this,Bi)&&(_i(this,Si,!0),t.event.preventDefault()),_i(this,ji,t.x),_i(this,Li,t.y),this.helper.setClassesAs(document.body,w.a.swipingOn),this.utils.bus.emit(w.i.MOVE_LOCK,null,!0)}onMouseMove(t){Ri(this,Ti)?this.peform(t,this.move):Ri(this,Si)&&this.peform(t,this.resize)}onMouseUp(t){_i(this,Ti,!1),_i(this,Si,!1),this.helper.removeClassesAs(document.body,w.a.swipingOn),this.utils.bus.emit(w.i.MOVE_LOCK,null,!1)}peform(t,e){this.mutate(()=>{Object(m.x)(e)&&e(this.element,t.x,t.y,t.x-Ri(this,ji),t.y-Ri(this,Li)),_i(this,ji,t.x),_i(this,Li,t.y)}),t.event.preventDefault()}resize(t,e,i,s,n){let[r,o]=Ri(this,Ni).calculate(e,i,s,n);this.fitsWindow(t.offsetTop,t.offsetLeft,r,o)&&this.mutate(()=>{t.style.width=r+"px",t.style.height=o+"px"})}move(t,e,i,s,n){let[r,o]=Ri(this,Ii).calculate(e,i,s,n);this.fitsWindow(o,r,t.offsetWidth,t.offsetHeight)&&this.mutate(()=>{t.style.left=r+"px",t.style.top=o+"px"})}fitsWindow(t,e,i,s){return t+s<window.innerHeight-10&&t>10&&e>10&&e+i<window.innerWidth-10}}Ti=new WeakMap,Si=new WeakMap,ji=new WeakMap,Li=new WeakMap,Pi=new WeakMap,Di=new WeakMap,Ii=new WeakMap,Ni=new WeakMap,Bi=new WeakMap,Hi=new WeakMap;var zi,Ui=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Fi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Gi{constructor(){this.icon="",this.scale=1}parse(t){Object(m.z)(t)?this.icon=Object(m.u)(t,""):(this.icon=Object(m.u)(t.icon,""),this.scale=Object(m.o)(t.scale,1))}}class Ki{constructor(t){this.attribute=(null!=t?t:"cui")+"-icon"}getStyle(){return null}get(t,e){return new Yi(t,e,this.attribute)}}class Yi extends M{constructor(t,e,i){super("CuiIconHandler",t,i,new Gi,e),zi.set(this,void 0),Ui(this,zi,null)}onInit(){null===Fi(this,zi)?(this.addIcon(this.args.icon),Ui(this,zi,this.args.icon)):this._log.debug("Icon already initialized")}onUpdate(){this.args.icon!==Fi(this,zi)&&(this.addIcon(this.args.icon),Ui(this,zi,this.args.icon))}onDestroy(){const t=this.element.querySelector("svg");Object(m.x)(t)&&t.remove(),Ui(this,zi,null)}addIcon(t){const e=t?w.j[t]:null;if(!e)return;const i=new Lt(e).setScale(this.args.scale).build(),s=this.element.querySelector("svg");Object(m.x)(s)&&s.remove(),this.element.childNodes.length>0?this.mutate(this.insertBefore,i):this.mutate(this.appendChild,i)}insertBefore(t){this.element.insertBefore(t,this.element.firstChild)}appendChild(t){this.element.appendChild(t)}}zi=new WeakMap;var Xi,Zi,Ji,Qi,ts=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},es=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class is{constructor(t,e){Xi.set(this,void 0),Zi.set(this,void 0),Ji.set(this,void 0),Qi.set(this,void 0),ts(this,Zi,t),ts(this,Ji,null!=e?e:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]),ts(this,Qi,void 0),ts(this,Xi,void 0)}setCallback(t){ts(this,Qi,t)}connect(){es(this,Qi)&&ts(this,Xi,new IntersectionObserver(es(this,Qi),{root:es(this,Zi),rootMargin:"0px",threshold:es(this,Ji)}))}observe(t){es(this,Xi)&&es(this,Xi).observe(t)}unobserve(t){es(this,Xi)&&es(this,Xi).unobserve(t)}disconnect(){es(this,Xi)&&es(this,Xi).disconnect()}}Xi=new WeakMap,Zi=new WeakMap,Ji=new WeakMap,Qi=new WeakMap;var ss,ns,rs,os=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},hs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class as{constructor(){this.target="div",this.action="",this.offset=0,this.isRoot=!1}parse(t){this.target=Object(m.x)(t.target)?w.k+t.target:w.k+"> *",this.action=Object(m.u)(t.action,""),this.offset=Object(m.t)(parseFloat(t.offset),0,1,0),this.isRoot=Object(m.A)(t.isRoot)}}class cs{constructor(t){this.attribute=(null!=t?t:"cui")+"-intersection"}getStyle(){return null}get(t,e){return new ls(t,e,this.attribute)}}class ls extends M{constructor(t,e,i){super("CuiIntersectionHandler",t,i,new as,e),ss.set(this,void 0),ns.set(this,void 0),rs.set(this,void 0),os(this,ss,new is(this.element)),os(this,ns,[]),os(this,rs,[])}onInit(){this.parseArguments(),hs(this,ss).setCallback(this.onIntersection.bind(this)),hs(this,ss).connect(),hs(this,ns).forEach(t=>{hs(this,ss).observe(t)})}onUpdate(){this.parseArguments()}onDestroy(){hs(this,ss).disconnect()}parseArguments(){if(!Object(m.x)(this.prevArgs)||this.prevArgs.target!==this.args.target){let t=this.args.isRoot?document.body:this.element;os(this,ns,[...t.querySelectorAll(this.args.target)])}os(this,rs,f.b.get(this.args.action))}onIntersection(t,e){Object(m.x)(hs(this,ns))&&t.forEach(t=>{t.isIntersecting&&t.intersectionRatio>=this.args.offset?this.addActions(t.target):this.removeActions(t.target),this.emitIntersection(t)})}emitIntersection(t){this.emitEvent(w.i.INTERSECTION,{entry:t,offset:this.args.offset,timestamp:Date.now()})}addActions(t){hs(this,rs).forEach(e=>e.add(t))}removeActions(t){hs(this,rs).forEach(e=>e.remove(t))}}ss=new WeakMap,ns=new WeakMap,rs=new WeakMap;var us,ds,ps,gs,vs,fs,ms,ws=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},bs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ks{constructor(t,e){us.set(this,void 0),ds.set(this,void 0),ws(this,ds,null!=e?e:300),ws(this,us,t),this.escClose=!1,this.position="right",this.openAct=this.getDefaultOpenClass(),this.closeAct=this.getDefaultCloseClass(),this.timeout=bs(this,ds),this.outClose=!1,this.keyClose=""}parse(t){Object(m.x)(t)&&(this.escClose=Object(m.A)(t.escClose),this.outClose=Object(m.A)(t.outClose),this.position=Object(m.u)(t.position,"right"),this.openAct=Object(m.u)(t.openAct,this.getDefaultOpenClass()),this.closeAct=Object(m.u)(t.closeAct,this.getDefaultCloseClass()),this.timeout=Object(m.o)(t.timeout,bs(this,ds)),this.keyClose=t.keyClose)}getDefaultOpenClass(){return Object(m.E)("right"===this.position?".{prefix}-offcanvas-default-right-in":".{prefix}-offcanvas-default-left-in",bs(this,us))}getDefaultCloseClass(){return Object(m.E)("right"===this.position?".{prefix}-offcanvas-default-right-out":".{prefix}-offcanvas-default-left-out",bs(this,us))}}us=new WeakMap,ds=new WeakMap;class ys{constructor(t){ps.set(this,void 0),ws(this,ps,null!=t?t:"cui"),this.attribute=bs(this,ps)+"-off-canvas"}getStyle(){return null}get(t,e){return new Cs(t,e,this.attribute,bs(this,ps))}}ps=new WeakMap;class Cs extends O{constructor(t,e,i,s){super("CuiOffCanvasHandler",t,i,new ks(s,e.setup.animationTime),e),gs.set(this,void 0),vs.set(this,void 0),fs.set(this,void 0),ms.set(this,void 0),ws(this,gs,s),ws(this,vs,Object(m.E)("{prefix}-off-canvas-open",s)),ws(this,ms,null),ws(this,fs,0)}onInit(){this.mutate(()=>{this.setPositionLeft(),r.setAria(this.element,"aria-modal","")})}onUpdate(){this.setPositionLeft()}onDestroy(){}onBeforeOpen(){return!this.isAnyActive()&&(ws(this,fs,window.pageYOffset),!0)}onAfterOpen(){this.args.outClose&&ws(this,ms,this.onEvent(w.i.WINDOW_CLICK,this.onWindowClick.bind(this))),this.helper.setClass(bs(this,vs),document.body),document.body.style.top=`-${scrollY}px`}onAfterClose(){this.detachEvent(w.i.WINDOW_CLICK,bs(this,ms)),this.helper.removeClass(bs(this,vs),document.body),document.body.style.top="",window.scrollTo(0,-1*bs(this,fs))}onBeforeClose(){return!0}onWindowClick(t){const e=this.element.querySelector(Object(m.E)(".{prefix}-off-canvas-container",bs(this,gs)));e&&!e.contains(t.target)&&this.close()}isAnyActive(){return this.helper.hasClass(bs(this,vs),document.body)}setPositionLeft(){let t=Object(m.p)(bs(this,gs),"left");"left"!==this.args.position||this.helper.hasClass(t,this.element)?"right"==this.args.position&&this.helper.hasClass(t,this.element)&&this.helper.removeClass(t,this.element):this.helper.setClass(t,this.element)}}gs=new WeakMap,vs=new WeakMap,fs=new WeakMap,ms=new WeakMap;var Es,Ms,Os,As=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ws=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class xs{static get(t){return t instanceof Window?new js:t instanceof HTMLElement?new Ss(t):new Ts(t)}}class Ts{constructor(t){Es.set(this,void 0),Ms.set(this,void 0),As(this,Ms,t),As(this,Es,t.getBoundingClientRect())}getHeight(){return Ws(this,Es).height}getWidth(){return Ws(this,Es).width}getTop(){return Ws(this,Es).top}getLeft(){return Ws(this,Es).left}getScrollHeight(){return Ws(this,Ms).scrollHeight}getScrollWidth(){return Ws(this,Ms).scrollWidth}getScrollTop(){return Ws(this,Ms).scrollTop}getScrollLeft(){return Ws(this,Ms).scrollLeft}queryAll(t){return[...Ws(this,Ms).querySelectorAll(t)]}}Es=new WeakMap,Ms=new WeakMap;class Ss{constructor(t){Os.set(this,void 0),As(this,Os,t)}getHeight(){return Ws(this,Os).offsetHeight}getWidth(){return Ws(this,Os).offsetWidth}getTop(){return Ws(this,Os).offsetTop}getLeft(){return Ws(this,Os).offsetLeft}getScrollHeight(){return Ws(this,Os).scrollHeight}getScrollWidth(){return Ws(this,Os).scrollWidth}getScrollTop(){return Ws(this,Os).scrollTop}getScrollLeft(){return Ws(this,Os).scrollLeft}queryAll(t){return[...Ws(this,Os).querySelectorAll(t)]}}Os=new WeakMap;class js{getHeight(){return window.innerHeight}getWidth(){return window.innerWidth}getTop(){return 0}getLeft(){return 0}getScrollHeight(){return window.innerHeight}getScrollWidth(){return window.innerWidth}getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}queryAll(t){return[...document.querySelectorAll(t)]}}var Ls,Ps,Ds,Is,Ns,Bs,Hs,_s,Rs,$s,qs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Vs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class zs{constructor(t,e){Ls.set(this,void 0),Ps.set(this,void 0),Ds.set(this,void 0),Is.set(this,void 0),Ns.set(this,void 0),Bs.set(this,void 0),Hs.set(this,void 0),_s.set(this,void 0),Rs.set(this,void 0),$s.set(this,void 0),qs(this,Ls,t),qs(this,_s,xs.get(t)),qs(this,Ps,!1),qs(this,Ds,Object(m.t)(e,0,100,0)),qs(this,Is,qs(this,Ns,0)),qs(this,Hs,!1),qs(this,Bs,void 0),qs(this,Rs,new Je(50,!1,this.onScrollFinish.bind(this))),qs(this,$s,this.listener.bind(this))}setCallback(t){qs(this,Bs,t)}attach(){Vs(this,Ls).addEventListener("scroll",Vs(this,$s)),qs(this,Hs,!0),this.listener(void 0,!0,"init")}detach(){Vs(this,Ls).removeEventListener("scroll",Vs(this,$s)),Vs(this,Rs).stop(),qs(this,Hs,!1)}setTarget(t){t!==Vs(this,Ls)&&(this.detach(),qs(this,Ls,t),this.attach())}setThreshold(t){qs(this,Ds,Object(m.t)(t,0,100,0))}isInProgress(){return Vs(this,Ps)}isAttached(){return Vs(this,Hs)}listener(t,e,i){if(!Object(m.x)(Vs(this,Bs)))return;let s=Vs(this,_s).getScrollLeft(),n=Vs(this,_s).getScrollTop();qs(this,Is,Vs(this,Is)+s),qs(this,Ns,Vs(this,Ns)+n),Vs(this,Ps)||!this.passedThreshold()&&Object(m.x)(t)||(qs(this,Ps,!0),Vs(this,Bs).call(this,{base:t,top:n,left:s,initial:null!=e&&e,scrolling:Object(m.x)(t),source:null!=i?i:"event"}),Object(m.x)(t)&&Vs(this,Rs).start(),qs(this,Ps,!1),qs(this,Is,0),qs(this,Ns,0))}passedThreshold(){return Vs(this,Ds)<=0||Vs(this,Is)>=Vs(this,Ds)||Vs(this,Ns)>=Vs(this,Ds)}onScrollFinish(){this.listener(void 0,!1,"task")}}Ls=new WeakMap,Ps=new WeakMap,Ds=new WeakMap,Is=new WeakMap,Ns=new WeakMap,Bs=new WeakMap,Hs=new WeakMap,_s=new WeakMap,Rs=new WeakMap,$s=new WeakMap;var Us,Fs,Gs,Ks,Ys,Xs,Zs,Js=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Qs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class tn{matches(t,e,i,s){return i>0&&e>=i||s>0&&t>=s}}class en{constructor(){Us.set(this,void 0),Fs.set(this,void 0),Gs.set(this,void 0),Ks.set(this,void 0),Ys.set(this,void 0),Xs.set(this,void 0),Zs.set(this,void 0),Js(this,Us,0),Js(this,Fs,0),Js(this,Ks,0),Js(this,Gs,0),Js(this,Zs,100),Js(this,Ys,!1),Js(this,Xs,!1)}matches(t,e,i,s){return this.fitsOffsetY(t,s)||this.fitsOffsetX(e,i)}fitsOffsetX(t,e){if(e<=0)return!1;let i=t-Qs(this,Us);return t>=e&&i>Qs(this,Zs)?Js(this,Ys,!0):Qs(this,Ys)&&i<-Qs(this,Zs)&&Js(this,Ys,!1),(i<0&&Qs(this,Ks)<i||i>=0&&Qs(this,Ks)>i)&&Js(this,Us,t),Js(this,Ks,i),Qs(this,Ys)}fitsOffsetY(t,e){if(e<=0)return!1;let i=t-Qs(this,Fs);return t>=e&&i>Qs(this,Zs)?Js(this,Xs,!0):Qs(this,Xs)&&i<-Qs(this,Zs)&&Js(this,Xs,!1),(i<0&&Qs(this,Gs)<i||i>=0&&Qs(this,Gs)>i)&&Js(this,Fs,t),Js(this,Gs,i),Qs(this,Xs)}}Us=new WeakMap,Fs=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,Zs=new WeakMap;var sn,nn,rn,on,hn,an,cn,ln,un,dn,pn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},gn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class vn{constructor(){this.offsetX=0,this.offsetY=0,this.target="",this.root=!1,this.action="",this.mode="static"}parse(t){this.target=t.target,this.action=t.action,this.offsetX=Object(m.o)(t.offsetX,-1),this.offsetY=Object(m.o)(t.offsetY,-1),this.root=Object(m.A)(t.root),this.mode=Object(m.u)(t.mode,"static")}}class fn{constructor(t){this.attribute=(null!=t?t:"cui")+"-offset"}getStyle(){return null}get(t,e){return new mn(t,e,this.attribute)}}class mn extends M{constructor(t,e,i){super("CuiOffsetHandler",t,i,new vn,e),sn.set(this,void 0),nn.set(this,void 0),rn.set(this,void 0),on.set(this,void 0),hn.set(this,void 0),an.set(this,void 0),cn.set(this,void 0),ln.set(this,void 0),un.set(this,void 0),dn.set(this,void 0),this.element=t,pn(this,nn,this.element),pn(this,rn,e),pn(this,on,!1),pn(this,hn,[]),pn(this,an,0),pn(this,cn,0),pn(this,ln,20),pn(this,un,this.element),pn(this,dn,null),pn(this,sn,void 0)}onInit(){this.parseAttribute(),pn(this,sn,new zs(this.args.root?window:this.element,this.utils.setup.scrollThreshold)),gn(this,sn).setCallback(this.onScroll.bind(this)),gn(this,sn).attach()}onUpdate(){this.parseAttribute()}onDestroy(){gn(this,sn)&&gn(this,sn).detach()}onScroll(t){this.checkAndPerformActions(t)}parseAttribute(){pn(this,un,this.getRoot()),pn(this,nn,this.getTarget()),pn(this,hn,f.b.get(this.args.action)),pn(this,dn,class{static get(t){return"dynamic"===t?new en:new tn}}.get(this.args.mode))}checkAndPerformActions(t){Object(m.x)(gn(this,dn))||this.logError("Cannot perform - mode handler not initialized","checkAndPerformActions");let e=gn(this,dn).matches(t.top,t.left,this.args.offsetX,this.args.offsetY);if(e!==gn(this,on))return this.act(e),pn(this,on,e),void this.callEvent(gn(this,on),t.left,t.top,t.scrolling,t.source,...this.calcaRatio(t.left,t.top));this.exceededThreshold(t.left,t.top)&&(this.callEvent(gn(this,on),t.left,t.top,t.scrolling,t.source,...this.calcaRatio(t.left,t.top)),pn(this,an,t.left),pn(this,cn,t.top))}act(t){Object(m.b)(gn(this,hn),gn(this,nn))&&(this.isLocked=!0,gn(this,hn).forEach(e=>{t?e.add(gn(this,nn),gn(this,rn)):e.remove(gn(this,nn),gn(this,rn))}),this.isLocked=!1)}callEvent(t,e,i,s,n,r,o){this.emitEvent(w.i.OFFSET,{matches:gn(this,on),offsetX:e,offsetY:i,ratioX:r,ratioY:o,scrolling:s,source:n,timestamp:Date.now()})}getRoot(){return this.args.root?document.body:this.element}exceededThreshold(t,e){return Math.abs(t-gn(this,an))>gn(this,ln)||Math.abs(e-gn(this,cn))>gn(this,ln)}calcaRatio(t,e){let i=parseFloat(((gn(this,un).clientHeight+e)/gn(this,un).scrollHeight).toFixed(2)),s=parseFloat(((gn(this,un).clientWidth+t)/gn(this,un).scrollWidth).toFixed(2));return[Object(m.s)(s,0,1),Object(m.s)(i,0,1)]}getTarget(){let t=this.args.target?gn(this,un).querySelector(this.args.target):null;return null!=t?t:this.element}}sn=new WeakMap,nn=new WeakMap,rn=new WeakMap,on=new WeakMap,hn=new WeakMap,an=new WeakMap,cn=new WeakMap,ln=new WeakMap,un=new WeakMap,dn=new WeakMap;var wn,bn,kn,yn=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Cn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},En=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Mn{constructor(t){wn.set(this,void 0),Cn(this,wn,null!=t?t:300),this.target="",this.action="",this.timeout=0,this.prevent=!1,this.state=""}parse(t){if(Object(m.x)(t)&&Object(m.z)(t))return this.target=t,this.action="",this.timeout=En(this,wn),this.prevent=!1,void(this.state="");this.target=Object(m.u)(t.target,""),this.action=t.action,this.timeout=Object(m.o)(t.timeout,En(this,wn)),this.prevent=Object(m.A)(t.prevent),this.state=t.state}}wn=new WeakMap;class On{constructor(t){bn.set(this,void 0),Cn(this,bn,null!=t?t:"cui"),this.attribute=En(this,bn)+"-open"}getStyle(){return null}get(t,e){return new An(t,e,this.attribute,En(this,bn))}}bn=new WeakMap;class An extends M{constructor(t,e,i,s){super("CuiOpenHandler",t,i,new Mn(e.setup.animationTime),e),kn.set(this,void 0),Cn(this,kn,null),this.onClick=this.onClick.bind(this)}onInit(){this.element.addEventListener("click",this.onClick),Cn(this,kn,this.onEvent(w.i.OPEN,this.onOpen.bind(this)))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(w.i.OPEN,En(this,kn))}onClick(t){this.onOpen(t),this.args.prevent&&t.preventDefault()}onOpen(t){if(this.isLocked)return;const e=this.getTarget(this.args.target);Object(m.x)(e)?(this.isLocked=!0,this.run(e).then(i=>{this.activateTarget(t,e,i)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return yn(this,void 0,void 0,(function*(){let e=t.$cuid;if(Object(m.x)(e))return this._log.debug("Open cUI component"),yield this.utils.bus.emit(w.i.OPEN,e,this.args.state),!1;if(this._log.debug("Open html component"),Object(m.b)(this.args.timeout,this.args.action)){this._log.debug("Perfrom an action");let e=f.b.get(this.args.action);return yield this.actionsHelper.performActions(t,e,this.args.timeout,()=>{this.setActiveClass(t)}),!0}return this.setActiveClassAsync(t),!0}))}setActiveClass(t){Object(m.x)(t)&&!this.helper.hasClass(this.activeClassName,t)&&this.helper.setClass(this.activeClassName,t)}setActiveClassAsync(t){this.fetch(()=>{Object(m.x)(t)&&!this.helper.hasClass(this.activeClassName,t)&&this.helper.setClassesAs(t,this.activeClassName)})}activateTarget(t,e,i){Object(m.x)(e)&&!this.helper.hasClass(this.activeClassName,e)&&this.helper.setClassesAs(e,this.activeClassName),i&&this.emitOpen(t)}emitOpen(t){this.emitEvent(w.i.OPENED,{event:t,state:this.args.state,timestamp:Date.now()})}getTarget(t){if(Object(m.x)(t))return document.querySelector(t);let e=this.element.parentElement,i=Object(m.x)(e)?e.querySelectorAll(`[${w.h}]`):void 0;return!i||i.length<2?void 0:Object(m.n)([...i],t=>t!==this.element)}}kn=new WeakMap;var Wn,xn,Tn,Sn,jn,Ln,Pn,Dn,In,Nn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Bn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Hn{constructor(){this.mode="simple",this.default="",this.small=this.medium=this.large=this.xlarge=void 0,this.delay=0}parse(t){var e,i,s,n;this.default=Object(m.u)(t.default,""),this.small=null!==(e=t.small)&&void 0!==e?e:t.s,this.medium=null!==(i=t.medium)&&void 0!==i?i:t.m,this.large=null!==(s=t.large)&&void 0!==s?s:t.l,this.xlarge=null!==(n=t.xlarge)&&void 0!==n?n:t.xl,this.mode="smart"===t.mode?"smart":"simple",this.delay=Object(m.o)(t.delay,0)}}class _n{constructor(t){Wn.set(this,void 0),Nn(this,Wn,null!=t?t:"cui"),this.attribute=Bn(this,Wn)+"-resize"}getStyle(){return null}get(t,e){return new Rn(t,e,this.attribute)}}Wn=new WeakMap;class Rn extends M{constructor(t,e,i){super("CuiResizeHandler",t,i,new Hn,e),xn.set(this,void 0),Tn.set(this,void 0),Sn.set(this,void 0),jn.set(this,void 0),Ln.set(this,void 0),Pn.set(this,void 0),Dn.set(this,void 0),In.set(this,void 0),Nn(this,xn,null),Nn(this,Tn,new is(document.documentElement,[0,.1])),Bn(this,Tn).setCallback(this.onIntersection.bind(this)),Nn(this,Ln,""),Nn(this,jn,""),Nn(this,Sn,"none"),Nn(this,Dn,!1),Nn(this,In,void 0),Nn(this,Pn,void 0)}onInit(){Nn(this,xn,this.utils.bus.on(w.i.RESIZE,this.resize.bind(this))),Bn(this,Tn).connect(),Bn(this,Tn).observe(this.element),Nn(this,Sn,Object(m.e)(window.innerWidth)),Nn(this,Dn,this.isInViewport(this.element)),this.setNewValue(),this.updateElement()}onUpdate(){this.setNewValue(),this.updateElement()}onDestroy(){null!==Bn(this,xn)&&(this.utils.bus.detach(w.i.RESIZE,Bn(this,xn)),Nn(this,xn,null)),Bn(this,Tn).unobserve(this.element),Bn(this,Tn).disconnect()}resize(t){Nn(this,Sn,t.current),this.setNewValue(),this.updateElement()}onIntersection(t){t.length>0&&Nn(this,Dn,t[0].isIntersecting),this.updateElement()}setNewValue(){let t=this.isSmartMode()?this.getSmartValue(Bn(this,Sn)):this.getValue(Bn(this,Sn),!0);console.log("New value: "+t),t&&t!==Bn(this,jn)&&Nn(this,jn,t)}getValue(t,e){let i=void 0;switch(t){case"xlarge":i=this.args.xlarge;break;case"large":i=this.args.large;break;case"medium":i=this.args.medium;break;case"small":i=this.args.small;break;default:i=this.args.default}return e&&!i?this.args.default:i}getSmartValue(t){var e,i,s,n;let r=this.args.default;return"none"===t?r:(r=null!==(e=this.args.small)&&void 0!==e?e:r,"small"===t?r:(r=null!==(i=this.args.medium)&&void 0!==i?i:r,"medium"===t?r:(r=null!==(s=this.args.large)&&void 0!==s?s:r,"large"===t?r:null!==(n=this.args.xlarge)&&void 0!==n?n:r)))}updateElement(){Bn(this,Dn)||!this.isSmartMode()?Object(m.x)(Bn(this,jn))?Bn(this,Ln)!==Bn(this,jn)&&this.run(()=>{let t=f.a.get(Bn(this,jn));this.mutate(()=>{Bn(this,Pn)&&Bn(this,Pn).remove(this.element),t.add(this.element),Nn(this,Ln,Bn(this,jn)),Nn(this,Pn,t)})}):this.logWarning("Not eligible to set value: "+Bn(this,jn)):this.logInfo("Not intersecting")}isSmartMode(){return"smart"===this.args.mode}isInViewport(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}run(t){Bn(this,In)&&(clearTimeout(Bn(this,In)),Nn(this,In,void 0)),Nn(this,In,setTimeout(()=>{t(),Nn(this,In,void 0)},this.args.delay))}}xn=new WeakMap,Tn=new WeakMap,Sn=new WeakMap,jn=new WeakMap,Ln=new WeakMap,Pn=new WeakMap,Dn=new WeakMap,In=new WeakMap;var $n,qn,Vn,zn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Un=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Fn{constructor(t){this.attribute=Object(m.x)(t)?t+"scroll":"cui-scroll"}getStyle(){return null}get(t,e){return new Kn(t,e,this.attribute)}}class Gn{constructor(){this.target="",this.parent="",this.behavior="auto"}parse(t){this.target=Object(m.u)(t.target,""),this.parent=Object(m.u)(t.parent,""),this.behavior=Object(m.x)(t.behavior)&&"smooth"===t.behavior.toLowerCase()?"smooth":"auto"}}class Kn extends M{constructor(t,e,i){super("CuiScrollHandler",t,i,new Gn,e),$n.set(this,void 0),qn.set(this,void 0),Vn.set(this,void 0),this.element=t,zn(this,$n,null),zn(this,qn,null),zn(this,Vn,this.onClick.bind(this))}onInit(){this.element.addEventListener("click",Un(this,Vn)),this.setTargets()}onUpdate(){this.setTargets()}onDestroy(){this.element.removeEventListener("click",Un(this,Vn))}onClick(t){if(!Object(m.b)(Un(this,qn),Un(this,$n)))return;let e=Object(m.q)(Un(this,qn))-Un(this,$n).offsetTop,i=e-Un(this,$n).scrollTop;Un(this,$n).scrollBy({top:i,behavior:this.args.behavior}),this.emitEvent(w.i.ON_SCROLL,{to:e,by:i,target:Un(this,qn),parent:Un(this,$n),timestamp:Date.now()}),t.preventDefault()}setTargets(){zn(this,qn,document.querySelector(this.args.target)),Object(m.x)(Un(this,qn))&&zn(this,$n,Object(m.x)(this.args.parent)?document.querySelector(this.args.parent):Un(this,qn).parentElement)}}$n=new WeakMap,qn=new WeakMap,Vn=new WeakMap;var Yn,Xn,Zn,Jn,Qn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},tr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class er{constructor(t,e){var i;Yn.set(this,void 0),Xn.set(this,void 0),Zn.set(this,void 0),Jn.set(this,void 0),Qn(this,Jn,xs.get(t)),Qn(this,Yn,new zs(t,null!==(i=null==e?void 0:e.threshold)&&void 0!==i?i:0)),tr(this,Yn).setCallback(this.onScroll.bind(this)),Qn(this,Zn,[]),Qn(this,Xn,void 0)}setChildren(t){Qn(this,Zn,t)}setThreshold(t){tr(this,Yn).setThreshold(t)}setCallback(t){Qn(this,Xn,t)}setParent(t){Qn(this,Jn,xs.get(t)),tr(this,Yn).setTarget(t)}isInProgress(){return tr(this,Yn).isInProgress()}attach(){this.isAttached()||tr(this,Yn).attach()}detach(){this.isAttached()&&tr(this,Yn).detach()}isAttached(){return tr(this,Yn)&&tr(this,Yn).isAttached()}onScroll(t){Object(m.b)(tr(this,Zn),tr(this,Xn))&&tr(this,Xn)&&tr(this,Xn).call(this,this.prepareCallbackResult(t))}calcChildVerticalRatio(t,e,i){let s=t.offsetTop+t.offsetHeight,n=((i<s?i:s)-(e>t.offsetTop?e:t.offsetTop))/t.offsetHeight;return Object(m.s)(n,0,1)}calcChildHorizontalRatio(t,e,i){let s=t.offsetLeft+t.offsetWidth,n=((i<s?i:s)-(e>t.offsetLeft?e:t.offsetLeft))/t.offsetWidth;return Object(m.s)(n,0,1)}prepareCallbackResult(t){var e,i;let s=t.top+tr(this,Jn).getHeight(),n=t.left+tr(this,Jn).getWidth();return{ev:t.base,top:t.top,left:t.left,scrolling:null!==(e=t.scrolling)&&void 0!==e&&e,initial:null!==(i=t.initial)&&void 0!==i&&i,source:t.source,items:tr(this,Zn).map((e,i)=>({verticalRatio:this.calcChildVerticalRatio(e,t.top,s),horizontalRatio:this.calcChildHorizontalRatio(e,t.left,n),element:e}))}}}Yn=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,Jn=new WeakMap;class ir{static get(t){return"multi"===t?new rr:new nr}}class sr{constructor(t){this.previous=t}getMatching(t,e){return e.reduce((e,i,s)=>(i.verticalRatio>t&&e.push(s),e),[])}addActions(t,...e){this.forEachAction(t,e,(t,e)=>{t.add(e)})}removeActions(t,...e){this.forEachAction(t,e,(t,e)=>{t.remove(e)})}forEachAction(t,e,i){Object(m.b)(t,e,i)&&t.forEach(t=>{e.forEach(e=>{Object(m.x)(e)&&i(t,e)})})}}class nr extends sr{constructor(){super(-1)}update(t,e,i,s,n){let r=this.getMatching(e,t),o=r.length,h=o>0?r[o-1]:-1,a={changed:!1};if(!this.matches(h)){if(this.previous>-1&&this.removeActions(i,t[this.previous].element),h>-1){let e=t[h].element;a.intersecting=[e],this.addActions(i,e)}return Object(m.b)(s,n)&&(this.previous>-1&&this.removeActions(n,s[this.previous]),h>-1&&this.addActions(n,s[h])),this.previous=h,a.changed=!0,a.intersecting=[],a}return a}matches(t){return t===this.previous}}class rr extends sr{constructor(){super([])}update(t,e,i,s,n){let r=this.getMatching(e,t),o={changed:!1};if(!this.matches(r)){let e=r.map(e=>t[e].element);return this.removeActions(i,...this.previous.map(e=>t[e].element)),this.addActions(i,...e),o.intersecting=e,Object(m.b)(s,n)&&(this.removeActions(n,...this.previous.map(t=>s[t])),this.addActions(n,...r.map(t=>s[t]))),this.previous=r,o.changed=!0,o}return o}matches(t){let e=t.length;if(e!==this.previous.length)return!1;let i=0;for(i=0;i<e;i++)if(!this.previous.includes(t[i]))return!1;return!0}}var or,hr,ar,cr,lr,ur,dr,pr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},gr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class vr{constructor(){this.ratio=0,this.mode="single",this.threshold=-1,this.selector="",this.action="",this.isRoot=!1,this.link="",this.linkAction=""}parse(t){var e;this.selector=`${w.k}${null!==(e=t.selector)&&void 0!==e?e:"> *"}`,this.action=Object(m.u)(t.action,""),this.link=Object(m.u)(t.link,""),this.linkAction=Object(m.u)(t.linkAction,""),this.ratio=Object(m.t)(parseFloat(t.ratio),0,1,0),this.isRoot=Object(m.A)(t.isRoot),this.mode="multi"===(null==t?void 0:t.mode)?"multi":"single",this.threshold=Object(m.o)(t.threshold,-1)}}class fr{constructor(t){this.attribute=(null!=t?t:"cui")+"-scrollspy"}getStyle(){return null}get(t,e){return new mr(t,e,this.attribute)}}class mr extends M{constructor(t,e,i){super("CuiScrollspyHandler",t,i,new vr,e),or.set(this,void 0),hr.set(this,void 0),ar.set(this,void 0),cr.set(this,void 0),lr.set(this,void 0),ur.set(this,void 0),dr.set(this,void 0),this.element=t,pr(this,or,new er(this.element,{threshold:this.utils.setup.scrollThreshold})),pr(this,hr,[]),pr(this,ar,[]),pr(this,cr,[]),pr(this,lr,void 0),pr(this,ur,void 0),pr(this,dr,void 0)}onInit(){this.parseAttribute(),gr(this,or).setCallback(this.onIntersection.bind(this)),gr(this,or).attach()}onUpdate(){this.updateAttributes()}onDestroy(){gr(this,or).detach()}onIntersection(t){if(!gr(this,dr))return void this.logError("Cannot perform - mode handler not initialized","OnIntersection");let e=Date.now();this.mutate(()=>{let i=gr(this,dr).update(t.items,this.args.ratio,gr(this,ar),gr(this,hr),gr(this,cr));i.changed&&this.emitEvent(w.i.TARGET_CHANGE,{intersecting:i.intersecting,timestamp:e})}),this.emitEvent(w.i.ON_SCROLL,{top:t.top,left:t.left,scrolling:t.scrolling,initial:t.initial,source:t.source,timestamp:e})}parseAttribute(){pr(this,lr,this.args.isRoot?window:this.element),pr(this,ur,xs.get(gr(this,lr)));let t=this.args.selector?gr(this,ur).queryAll(this.args.selector):[];gr(this,or).setChildren(t),gr(this,or).setThreshold(this.args.threshold),pr(this,hr,this.args.link?[...document.querySelectorAll(this.args.link)]:[]),pr(this,ar,f.b.get(this.args.action)),pr(this,cr,f.b.get(this.args.linkAction)),pr(this,dr,ir.get(this.args.mode))}updateAttributes(){if(this.prevArgs&&this.args.isRoot!==this.prevArgs.isRoot&&(pr(this,lr,this.args.isRoot?window:this.element),pr(this,ur,xs.get(gr(this,lr))),gr(this,or).setParent(gr(this,lr))),this.prevArgs&&gr(this,ur)&&this.args.selector!==this.prevArgs.selector){let t=this.args.selector?gr(this,ur).queryAll(this.args.selector):[];gr(this,or).setChildren(t)}gr(this,or).setThreshold(this.args.threshold),pr(this,hr,this.args.link?[...document.querySelectorAll(this.args.link)]:[]),pr(this,ar,f.b.get(this.args.action)),pr(this,cr,f.b.get(this.args.linkAction)),pr(this,dr,ir.get(this.args.mode))}}or=new WeakMap,hr=new WeakMap,ar=new WeakMap,cr=new WeakMap,lr=new WeakMap,ur=new WeakMap,dr=new WeakMap;var wr,br,kr,yr=i(5),Cr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Er=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Mr{constructor(){wr.set(this,void 0),br.set(this,void 0),kr.set(this,void 0),Cr(this,wr,[]),Cr(this,br,0),Cr(this,kr,5)}setElements(t){Cr(this,wr,t),Cr(this,br,Er(this,wr).length)}setThreshold(t){Cr(this,kr,t)}detect(t,e){if(!Object(m.x)(Er(this,wr)))return[-1,void 0];let i=-1,s=void 0;for(let n=0;n<Er(this,br);n++)if(this.isInBounds(Er(this,wr)[n],t,e)){0===n?(i=n,s=Er(this,wr)[n]):n<Er(this,br)-1&&(i=n+1,s=Er(this,wr)[n+1]);break}return[i,s]}isInBounds(t,e,i){const s=t.getBoundingClientRect();return 0===s.width&&console.log(t),e>s.left-Er(this,kr)&&e<s.left+s.width+Er(this,kr)&&i>s.top-Er(this,kr)&&i<s.top+s.height+Er(this,kr)}}wr=new WeakMap,br=new WeakMap,kr=new WeakMap;var Or,Ar,Wr,xr,Tr,Sr,jr,Lr,Pr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Dr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ir{constructor(t){Or.set(this,void 0),Ar.set(this,void 0),Wr.set(this,void 0),xr.set(this,void 0),Tr.set(this,void 0),Sr.set(this,void 0),jr.set(this,void 0),Lr.set(this,void 0),Pr(this,Or,t),Pr(this,Ar,new yi.a),Pr(this,Sr,150),Pr(this,jr,!1),Pr(this,Lr,void 0),Dr(this,Ar).setTarget(Dr(this,Or)),Dr(this,Ar).preventDefault(!1),Dr(this,Ar).setCallback(this.onMove.bind(this)),Pr(this,Wr,void 0),Pr(this,xr,void 0),Pr(this,Tr,void 0)}setLongPressTimeout(t){Pr(this,Sr,t)}onDragStart(t){Pr(this,Wr,t)}onDragOver(t){Pr(this,xr,t)}onDragEnd(t){Pr(this,Tr,t)}attach(){Dr(this,Ar).attach()}detach(){Dr(this,Ar).detach()}onMove(t){switch(t.type){case"down":if(Dr(this,jr))return;Pr(this,Lr,setTimeout(()=>{Dr(this,Wr)&&Dr(this,Wr).call(this,t)&&Pr(this,jr,!0)},Dr(this,Sr)));break;case"move":if(this.cancelTimeout(),!Dr(this,jr))return;Dr(this,xr)&&Dr(this,xr).call(this,t);break;case"up":if(this.cancelTimeout(),!Dr(this,jr))return;Dr(this,Tr)&&Dr(this,Tr).call(this,t),Pr(this,jr,!1)}}cancelTimeout(){Dr(this,Lr)&&(clearTimeout(Dr(this,Lr)),Pr(this,Lr,void 0))}}Or=new WeakMap,Ar=new WeakMap,Wr=new WeakMap,xr=new WeakMap,Tr=new WeakMap,Sr=new WeakMap,jr=new WeakMap,Lr=new WeakMap;var Nr,Br,Hr,_r,Rr,$r,qr,Vr,zr,Ur,Fr,Gr,Kr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Yr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Xr{constructor(){this.target=w.k+" > *",this.trigger=w.k+" > *",this.timeout=150,this.threshold=5}parse(t){this.target=t.target?w.k+" "+t.target:w.k+" > *",this.trigger=t.trigger?w.k+" "+t.trigger:w.k+" > *",this.timeout=Object(m.o)(t.timeout,150),this.threshold=Object(m.o)(t.threshold,5)}}class Zr{constructor(t){Nr.set(this,void 0),Kr(this,Nr,null!=t?t:"cui"),this.attribute=Yr(this,Nr)+"-sortable"}getStyle(){return null}get(t,e){return new Jr(t,this.attribute,e,Yr(this,Nr))}}Nr=new WeakMap;class Jr extends M{constructor(t,e,i,s){super("CuiSortableHandler",t,e,new Xr,i),Br.set(this,void 0),Hr.set(this,void 0),_r.set(this,void 0),Rr.set(this,void 0),$r.set(this,void 0),qr.set(this,void 0),Vr.set(this,void 0),zr.set(this,void 0),Ur.set(this,void 0),Fr.set(this,void 0),Gr.set(this,void 0),Kr(this,_r,[]),Kr(this,Hr,[]),Kr(this,$r,-1),Kr(this,Rr,null),Kr(this,Ur,null),Kr(this,qr,null),Kr(this,Br,new Ir(t)),Yr(this,Br).onDragStart(this.onDragStart.bind(this)),Yr(this,Br).onDragOver(this.onDragOver.bind(this)),Yr(this,Br).onDragEnd(this.onDragEnd.bind(this)),Kr(this,Vr,Object(m.E)("{prefix}-moving",s)),Kr(this,Gr,Object(m.E)("{prefix}-sortable-preview",s)),Kr(this,zr,new Mr),Kr(this,Fr,new dt),Yr(this,Fr).setOnFinish(()=>{let t=Yr(this,Rr),e=Yr(this,$r);this.stopMovementPrep(),this.utils.bus.emit(w.i.MOVE_LOCK,null,!1),this.emitEvent(w.i.SORTED,{item:t,index:e,timestamp:new Date})})}onInit(){Yr(this,Br).attach(),this.getTargetsAndTrggers(),Yr(this,zr).setThreshold(this.args.threshold)}onUpdate(){!this.prevArgs||this.args.target===this.prevArgs.target&&this.args.trigger===this.prevArgs.trigger||this.getTargetsAndTrggers(),Yr(this,Br).setLongPressTimeout(this.args.timeout)}onDestroy(){Yr(this,Br).detach()}getTargetsAndTrggers(){try{if(Kr(this,_r,[...this.element.querySelectorAll(this.args.target)]),Kr(this,Hr,[...this.element.querySelectorAll(this.args.trigger)]),Yr(this,Hr).length!==Yr(this,_r).length)throw new Error(`Triggers (count ${Yr(this,Hr).length}) and targets (count ${Yr(this,_r).length}) selector are not correct`);Yr(this,zr).setElements(Yr(this,_r))}catch(t){this._log.error("Incorrect trigger or target selector"),this._log.exception(t,"getTargetsAndTrggers"),Kr(this,_r,[]),Kr(this,Hr,[])}}onDragStart(t){return Kr(this,$r,this.getPressedElementIdx(t.target)),Kr(this,Rr,Yr(this,$r)>-1?Yr(this,_r)[Yr(this,$r)]:null),!!Object(m.x)(Yr(this,Rr))&&(this.utils.bus.emit(w.i.MOVE_LOCK,null,!0),this.startMovementPrep(t),this.emitEvent(w.i.SORT_START,{item:Yr(this,Rr),index:Yr(this,$r),timestamp:new Date}),!0)}onDragOver(t){this.move(t),t.event.preventDefault()}onDragEnd(t){Object(m.x)(Yr(this,qr))&&(Yr(this,Fr).setElement(Yr(this,qr)),Yr(this,Fr).setProps(this.getFinishAnimation()),Yr(this,Fr).finish(0,100,!1))}getPressedElementIdx(t){return Yr(this,Hr).findIndex(e=>e.contains(t))}startMovementPrep(t){this.mutate(()=>{this.createPreview(),Object(m.x)(Yr(this,Rr))&&this.helper.setClass(Yr(this,Vr),Yr(this,Rr)),this.helper.setClass("cui-locked",this.element),this.helper.setClass(w.a.swipingOn,document.body),this.setPreviewPosition(t),this.setCurrentPosition(t)})}stopMovementPrep(){this.mutate(()=>{Object(m.x)(Yr(this,Rr))&&this.helper.removeClass(Yr(this,Vr),Yr(this,Rr)),this.helper.removeClass(w.a.swipingOn,document.body),this.helper.removeClass("cui-locked",this.element),this.removePreview(),Kr(this,Rr,null),Kr(this,Ur,null),this.getTargetsAndTrggers()})}move(t){this.mutate(()=>{this.setPreviewPosition(t),this.setCurrentPosition(t)})}createPreview(){Object(m.x)(Yr(this,Rr))?(Kr(this,qr,new yr.a("div").setClasses(Yr(this,Gr)).build()),Yr(this,qr).style.width=Yr(this,Rr).offsetWidth+"px",Yr(this,qr).style.height=Yr(this,Rr).offsetHeight+"px",document.body.appendChild(Yr(this,qr))):this.logError("Cannot create preview - current target does not exist","createPreview")}removePreview(){Object(m.x)(Yr(this,qr))&&(Yr(this,qr).remove(),Kr(this,qr,null))}setPreviewPosition(t){Object(m.x)(Yr(this,qr))&&(Yr(this,qr).style.top=t.y+"px",Yr(this,qr).style.left=t.x+"px")}setCurrentPosition(t){if(!Yr(this,Rr))return;let[e,i]=Yr(this,zr).detect(t.x,t.y);if(e!==Yr(this,$r)&&i&&Yr(this,Ur)!==i){let t=i;this.insertElement(Yr(this,Rr),t),Kr(this,Ur,t),this.getTargetsAndTrggers(),Kr(this,$r,e)}}insertElement(t,e){Object(m.x)(e)?this.element.insertBefore(t,e):this.element.appendChild(t)}getFinishAnimation(){if(!Object(m.b)(Yr(this,Rr),Yr(this,qr)))return{opacity:{from:1,to:0}};const t=Yr(this,Rr).getBoundingClientRect();return{opacity:{from:1,to:0},top:{from:Yr(this,qr).offsetTop,to:t.top>0?t.top:Yr(this,qr).offsetTop,unit:"px"},left:{from:Yr(this,qr).offsetLeft,to:t.left>0?t.left:Yr(this,qr).offsetLeft,unit:"px"}}}}Br=new WeakMap,Hr=new WeakMap,_r=new WeakMap,Rr=new WeakMap,$r=new WeakMap,qr=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Ur=new WeakMap,Fr=new WeakMap,Gr=new WeakMap;var Qr,to,eo,io=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},so=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class no{constructor(){this.spinner="circle",this.scale=1}parse(t){Object(m.z)(t)?this.spinner=Object(m.u)(t,"circle"):(this.spinner=Object(m.u)(t.spinner,"circle"),this.scale=Object(m.o)(t.scale,1))}}class ro{constructor(t){Qr.set(this,void 0),io(this,Qr,null!=t?t:"cui"),this.attribute=so(this,Qr)+"-spinner",w.j.spinner_circle='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 7.800378,1.7908996 A 8.4986862,8.4986862 0 0 1 18.2091,7.8003784 8.4986862,8.4986862 0 0 1 12.199621,18.209101 8.4986862,8.4986862 0 0 1 1.7908995,12.199622 8.4986862,8.4986862 0 0 1 7.800378,1.7908996 Z"></path></svg>',w.j.spinner_circle_double='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 10,1.5000006 A 8.4999997,8.4999997 0 0 1 18.5,10 8.4999997,8.4999997 0 0 1 10,18.499999 8.4999997,8.4999997 0 0 1 1.5000005,10 8.4999997,8.4999997 0 0 1 10,1.5000006 Z"></path><path d="M 10,3.4999997 A 6.5000002,6.5000002 0 0 1 16.5,10 6.5000002,6.5000002 0 0 1 10,16.5 6.5000002,6.5000002 0 0 1 3.5,9.9999993 6.5000002,6.5000002 0 0 1 10,3.4999997 Z"></path></svg>'}getStyle(){return null}get(t,e){return new oo(t,e,this.attribute,so(this,Qr))}}Qr=new WeakMap;class oo extends M{constructor(t,e,i,s){super("CuiSpinnerHandler",t,i,new no,e),to.set(this,void 0),eo.set(this,void 0),io(this,to,null),io(this,eo,Object(m.E)("{prefix}-animation-pause",s))}onInit(){io(this,to,this.onEvent(w.i.PAUSE,this.onPause.bind(this))),this.add()}onUpdate(){this.prevArgs&&this.args.spinner!==this.prevArgs.spinner&&this.add()}onDestroy(){this.removeIfAnyExisists(),this.detachEvent(w.i.PAUSE,so(this,to))}addSpinner(t,e){this.element.appendChild(t),this.element.classList.add("animation-spinner-"+e)}add(){const t=Object(m.x)(this.args.spinner)?w.j["spinner_"+this.args.spinner]:null;if(!Object(m.x)(t))return void this._log.warning("Incorrect spinner name: "+this.args.spinner);this.removeIfAnyExisists();const e=new Lt(t).setScale(this.args.scale).build();this.mutate(this.addSpinner,e,this.args.spinner)}removeIfAnyExisists(){let t=this.element.querySelector("svg");t&&t.remove()}onPause(t){this.fetch(()=>{t&&!this.helper.hasClass(so(this,eo),this.element)?this.helper.setClassesAs(this.element,so(this,eo)):this.helper.removeClassesAs(this.element,so(this,eo))}),this.emitEvent(w.i.PAUSED,t)}}to=new WeakMap,eo=new WeakMap;var ho,ao,co,lo,uo,po,go,vo,fo,mo,wo,bo,ko,yo,Co,Eo,Mo,Oo,Ao=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Wo=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xo=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class To{constructor(t,e){ho.set(this,void 0),ao.set(this,void 0),Wo(this,ho,t),Wo(this,ao,null!=e?e:300),this.targets="> li",this.timeout=xo(this,ao),this.links="",this.autoTimeout=-1,this.height="",this.animation="",this.loop=!1}parse(t){this.targets=w.k+Object(m.u)(t.targets,"> li"),this.timeout=Object(m.o)(t.timeout,xo(this,ao)),this.links=t.links,this.autoTimeout=Object(m.o)(t.autoTimeout,-1),this.height=Object(m.u)(t.height,"auto"),this.animation=Object(m.u)(t.animation,"slide"),this.loop=Object(m.c)(t.loop,!1)}}ho=new WeakMap,ao=new WeakMap;class So{constructor(t){this.attribute=(null!=t?t:"cui")+"-slider"}getStyle(){return null}get(t,e){return new jo(t,e,this.attribute)}}class jo extends A{constructor(t,e,i){super("CuiSliderHandler",t,i,new To(e.setup.prefix,e.setup.animationTime),e),co.set(this,void 0),lo.set(this,void 0),uo.set(this,void 0),po.set(this,void 0),go.set(this,void 0),vo.set(this,void 0),fo.set(this,void 0),mo.set(this,void 0),wo.set(this,void 0),bo.set(this,void 0),ko.set(this,void 0),yo.set(this,void 0),Co.set(this,void 0),Eo.set(this,void 0),Mo.set(this,void 0),Oo.set(this,void 0),Wo(this,co,[]),Wo(this,lo,-1),Wo(this,wo,-1),Wo(this,uo,[]),Wo(this,go,null),Wo(this,Oo,null),Wo(this,vo,!1),Wo(this,fo,-1),Wo(this,mo,0),Wo(this,bo,null),Wo(this,ko,.4),Wo(this,yo,new dt),Wo(this,Co,new dt),xo(this,yo).setOnFinish(this.onAnimationFinish.bind(this)),Wo(this,Mo,0),Wo(this,po,new Je(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),Wo(this,Eo,$.a[this.args.animation])}onInit(){Wo(this,go,this.onEvent(w.i.SWITCH,this.onPushSwitch.bind(this))),Wo(this,Oo,this.onEvent(w.i.GLOBAL_MOVE,this.onMove.bind(this))),this.getTargets(),this.getLinks(),this.getActiveIndex(),this.setLinkActive(-1,xo(this,lo)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(xo(this,co)[xo(this,lo)]))}),Wo(this,po,new Je(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),Wo(this,Eo,$.a[this.args.animation]),this.startTask()}onUpdate(){this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(xo(this,co)[xo(this,lo)]))}),Wo(this,Eo,$.a[this.args.animation]),this.startTask()}onDestroy(){xo(this,po).stop(),this.detachEvent(w.i.SWITCH,xo(this,go)),this.detachEvent(w.i.GLOBAL_MOVE,xo(this,Oo))}onMutation(t){}onMove(t){if(this.isLocked||!xo(this,Eo))return;let e=xo(this,co)[xo(this,lo)];switch(t.type){case"down":if(xo(this,vo)||!e.contains(t.target))return;Wo(this,vo,!0),Wo(this,fo,t.x),xo(this,yo).setElement(e),this.helper.setClassesAs(document.body,w.a.swipingOn),t.event.cancelable&&t.event.preventDefault();break;case"up":if(!xo(this,vo))break;this.isLocked=!0;let i=Math.abs(xo(this,mo)),s=i*this.args.timeout,n=i<=xo(this,ko);xo(this,yo).finish(i,s,n),xo(this,Co).finish(i,s,n),this.helper.removeClassesAs(document.body,w.a.swipingOn),Wo(this,vo,!1);break;case"move":if(!xo(this,vo))break;let r=(t.x-xo(this,fo))/e.offsetWidth;if(Math.abs(r-xo(this,mo))<.02)break;let o=Object(m.f)(xo(this,mo)>0?"next":"prev",xo(this,lo),xo(this,Mo));Wo(this,mo,this.adjustMoveRatio(r)),o!==xo(this,wo)&&(xo(this,bo)&&this.helper.removeClass(w.a.animProgress,xo(this,bo)),Wo(this,bo,xo(this,co)[o]),Wo(this,wo,o),xo(this,Co).setElement(xo(this,bo)),xo(this,Co).setProps(xo(this,mo)>0?xo(this,Eo).previous.right:xo(this,Eo).previous.left),xo(this,yo).setProps(xo(this,mo)>0?xo(this,Eo).current.right:xo(this,Eo).current.left),this.mutate(()=>{xo(this,bo)&&this.helper.setClass(w.a.animProgress,xo(this,bo))})),this.mutate(()=>{xo(this,yo).update(Math.abs(xo(this,mo))),xo(this,Co).update(Math.abs(xo(this,mo)))}),t.event.cancelable&&t.event.preventDefault()}}adjustMoveRatio(t){return this.args.loop?t:xo(this,lo)===xo(this,Mo)-1&&t>0||0===xo(this,lo)&&t<0?0:t}switch(t){return Ao(this,void 0,void 0,(function*(){return!this.isLocked&&(this.onPushSwitch(t),!0)}))}onAnimationFinish(t,e,i){this.isLocked=!1;let s=xo(this,co)[xo(this,wo)],n=xo(this,co)[xo(this,lo)];e?(Object(m.x)(xo(this,bo))&&(this.helper.removeClass(w.a.animProgress,xo(this,bo)),this.helper.removeAttribute("style",xo(this,bo))),this.helper.removeAttribute("style",n),Wo(this,wo,-1),Wo(this,bo,null),Wo(this,fo,-1),Wo(this,mo,0)):xo(this,wo)>-1&&this.mutate(()=>{this.helper.removeClass(w.a.animProgress,s),this.helper.setClass(this.activeClassName,s),this.helper.removeClass(this.activeClassName,n),this.helper.removeAttribute("style",n),this.helper.removeAttribute("style",s),this.setLinkActive(xo(this,lo),xo(this,wo)),this.emitEvent(w.i.SWITCHED,{timestamp:Date.now(),index:xo(this,wo)}),Wo(this,lo,xo(this,wo)),Wo(this,wo,-1),Wo(this,bo,null),Wo(this,fo,-1),Wo(this,mo,0)}),this.startTask()}onPushSwitch(t){if(!Object(m.x)(t)||this.isLocked||!xo(this,Eo)||!this.args.loop&&0===xo(this,lo)&&"prev"===t||!this.args.loop&&xo(this,lo)===xo(this,Mo)-1&&"next"===t)return;this.isLocked=!0;let e=Object(m.f)(t,xo(this,lo),xo(this,Mo));if(e==xo(this,lo)||e<0||e>=xo(this,co).length)return this._log.warning(`Index ${t} is not within the suitable range`),!1;Wo(this,wo,e);let i=xo(this,co)[xo(this,lo)],s=xo(this,co)[xo(this,wo)];xo(this,yo).setElement(i),xo(this,Co).setElement(s),xo(this,yo).setProps("prev"===t?xo(this,Eo).current.left:xo(this,Eo).current.right),xo(this,Co).setProps("prev"===t?xo(this,Eo).previous.left:xo(this,Eo).previous.right),this.mutate(()=>{xo(this,yo).finish(0,this.args.timeout,!1),xo(this,Co).finish(0,this.args.timeout,!1),this.helper.setClass(w.a.animProgress,s)})}getActiveIndex(){Wo(this,lo,Object(m.x)(xo(this,co))?xo(this,co).findIndex(t=>this.helper.hasClass(this.activeClassName,t)):-1)}getElementHeight(t){return Object(m.x)(this.args.height)&&"auto"!==this.args.height?this.args.height:Object(m.m)(t)+"px"}getTargets(){let t=this.element.querySelectorAll(this.args.targets);Wo(this,co,t.length>0?[...t]:[]),Wo(this,Mo,xo(this,co).length)}getLinks(){Wo(this,uo,Object(m.x)(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}setLinkActive(t,e){Object(m.x)(xo(this,uo))&&this.mutate(()=>{Object(m.y)(t,0,xo(this,uo).length-1)&&this.helper.removeClass(this.activeClassName,xo(this,uo)[t]),Object(m.y)(e,0,xo(this,uo).length-1)&&this.helper.setClass(this.activeClassName,xo(this,uo)[e])})}startTask(){xo(this,po).stop(),this.args.autoTimeout&&xo(this,po).start()}}co=new WeakMap,lo=new WeakMap,uo=new WeakMap,po=new WeakMap,go=new WeakMap,vo=new WeakMap,fo=new WeakMap,mo=new WeakMap,wo=new WeakMap,bo=new WeakMap,ko=new WeakMap,yo=new WeakMap,Co=new WeakMap,Eo=new WeakMap,Mo=new WeakMap,Oo=new WeakMap;var Lo,Po,Do,Io,No,Bo,Ho,_o,Ro,$o,qo=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Vo=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},zo=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Uo{constructor(t,e){Lo.set(this,void 0),Po.set(this,void 0),Vo(this,Lo,t),Vo(this,Po,null!=e?e:300),this.targets="",this.in="",this.out="",this.timeout=zo(this,Po),this.links="",this.switch="",this.autoTimeout=-1,this.height="",this.loop=!1}parse(t){this.targets=Object(m.x)(t.targets)?w.k+t.targets:w.k+" > *",this.in=Object(m.u)(t.in,Object(m.E)(".{prefix}-switch-animation-default-in",zo(this,Lo))),this.out=Object(m.u)(t.out,Object(m.E)(".{prefix}-switch-animation-default-out",zo(this,Lo))),this.timeout=Object(m.o)(t.timeout,zo(this,Po)),this.links=Object(m.u)(t.links,""),this.switch=Object(m.u)(t.switch,""),this.autoTimeout=Object(m.o)(t.autoTimeout,-1),this.height=Object(m.u)(t.height,"auto"),this.loop=Object(m.A)(t.loop)}}Lo=new WeakMap,Po=new WeakMap;class Fo{constructor(t){this.attribute=(null!=t?t:"cui")+"-switch"}getStyle(){return null}get(t,e){return new Go(t,e,this.attribute)}}class Go extends A{constructor(t,e,i){super("CuiSwitchHandler",t,i,new Uo(e.setup.prefix,e.setup.animationTime),e),Do.set(this,void 0),Io.set(this,void 0),No.set(this,void 0),Bo.set(this,void 0),Ho.set(this,void 0),_o.set(this,void 0),Ro.set(this,void 0),$o.set(this,void 0),Vo(this,Do,[]),Vo(this,Io,-1),Vo(this,No,[]),Vo(this,Bo,[]),Vo(this,_o,null),Vo(this,Ro,Vo(this,$o,[])),Vo(this,Ho,new Je(this.args.autoTimeout,!0,this.switch.bind(this,"next")))}onInit(){Vo(this,_o,this.onEvent(w.i.SWITCH,this.onPushSwitch.bind(this))),this.parseArguments(),this.getTargets(),this.getActiveIndex(),this.getSwitches(),this.setSwitchesActive(zo(this,Io)),this.setLinkActive(-1,zo(this,Io)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(zo(this,Do)[zo(this,Io)]))}),Vo(this,Ho,new Je(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),this.startTask()}onUpdate(){this.parseArguments(),this.getTargets(),this.getSwitches(),this.setSwitchesActive(zo(this,Io)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(zo(this,Do)[zo(this,Io)]))}),this.startTask()}onDestroy(){zo(this,Ho).stop(),this.detachEvent(w.i.SWITCH,zo(this,_o))}onMutation(t){this.getTargets(),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(zo(this,Do)[zo(this,Io)]))})}switch(t){return qo(this,void 0,void 0,(function*(){if(this.isLocked)return!1;this.getSwitches(),this.getActiveIndex();let e=Object(m.f)(t,zo(this,Io),zo(this,Do).length);if(!this.args.loop&&("next"===t&&0===e||"prev"===t&&0===zo(this,Io)))return this.logInfo("Switch blocked by loop settings","switch"),!1;if(e==zo(this,Io)||e<0||e>=zo(this,Do).length)return this.logWarning(`Index ${t} is not within the suitable range`,"switch"),!1;this.isLocked=!0,this.setSwitchesActive(e);let i=zo(this,Do)[e];return yield this.actionsHelper.performSwitchAction(i,zo(this,Io)>-1?zo(this,Do)[zo(this,Io)]:null,zo(this,Ro),zo(this,$o),()=>{i.classList.add(this.activeClassName),zo(this,Io)>-1&&zo(this,Do)[zo(this,Io)].classList.remove(this.activeClassName),this.setLinkActive(zo(this,Io),e),this.helper.setStyle(this.element,"height",this.getElementHeight(i)),this.startTask(),this.isLocked=!1},this.args.timeout),this.emitEvent(w.i.SWITCHED,{timestamp:Date.now(),index:e}),!0}))}onPushSwitch(t){this.switch(t)}getActiveIndex(){Vo(this,Io,Object(m.x)(zo(this,Do))?zo(this,Do).findIndex(t=>this.helper.hasClass(this.activeClassName,t)):-1)}getElementHeight(t){return Object(m.x)(this.args.height)&&"auto"!==this.args.height?this.args.height:Object(m.m)(t)+"px"}parseArguments(){Vo(this,Ro,f.b.get(this.args.in)),Vo(this,$o,f.b.get(this.args.out)),Vo(this,No,Object(m.x)(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}getTargets(){console.log(this.args.targets);let t=this.element.querySelectorAll(this.args.targets);Vo(this,Do,t.length>0?[...t]:[])}getSwitches(){let t=Object(m.x)(this.args.switch)?document.querySelectorAll(this.args.switch):null;Vo(this,Bo,[]),t&&t.forEach(t=>{zo(this,Bo).push(t)})}setLinkActive(t,e){Object(m.x)(zo(this,No))&&(Object(m.y)(t,0,zo(this,No).length-1)&&this.helper.removeClass(this.activeClassName,zo(this,No)[t]),Object(m.y)(e,0,zo(this,No).length-1)&&this.helper.setClass(this.activeClassName,zo(this,No)[e]))}setSwitchesActive(t){zo(this,Bo).forEach(e=>{this.emitLinkSwitch(e.$cuid,t)})}emitLinkSwitch(t,e){Object(m.x)(t)&&this.utils.bus.emit(w.i.SWITCH,t,e)}startTask(){zo(this,Ho).stop(),this.args.autoTimeout&&zo(this,Ho).start()}}Do=new WeakMap,Io=new WeakMap,No=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,_o=new WeakMap,Ro=new WeakMap,$o=new WeakMap;var Ko,Yo,Xo,Zo=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Jo=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Qo{constructor(){this.index="",this.target=""}parse(t){Object(m.x)(t)&&(this.target=t.target,this.index=t.index)}}class th{constructor(t){this.attribute=(null!=t?t:"cui")+"-switcher"}getStyle(){return null}get(t,e){return new eh(t,e,this.attribute)}}class eh extends M{constructor(t,e,i){super("CuiSwitcherHandler",t,i,new Qo,e),Ko.set(this,void 0),Yo.set(this,void 0),Xo.set(this,void 0),Zo(this,Ko,null),Zo(this,Yo,"UL"===t.tagName),this.onClickEvent=this.onClickEvent.bind(this),Zo(this,Xo,[])}onInit(){this.setEvents(),this.getTarget()}onUpdate(){this.getTarget()}onDestroy(){this.removeEvents()}getTarget(){Object(m.x)(this.args.target)||Zo(this,Ko,null);let t=document.querySelector(this.args.target);Object(m.x)(t)&&Zo(this,Ko,t.$cuid)}setEvents(){if(Jo(this,Yo)){this.element.querySelectorAll("li > a").forEach((t,e)=>{let i=this.onListItemClick.bind(this,e);Jo(this,Xo).push(i),t.addEventListener("click",i)})}else this.element.addEventListener("click",this.onClickEvent)}removeEvents(){if(Jo(this,Yo)){this.element.querySelectorAll("li > a").forEach((t,e)=>{Jo(this,Xo).length>e&&t.removeEventListener("click",Jo(this,Xo)[e])}),Zo(this,Xo,[])}else this.element.removeEventListener("click",this.onClickEvent)}onClickEvent(t){this.getTarget(),Object(m.x)(this.args.index)&&this.onClick(this.args.index.trim())}onListItemClick(t,e){this.getTarget(),this.onClick(t)}onClick(t){Object(m.x)(Jo(this,Ko))&&this.utils.bus.emit(w.i.SWITCH,Jo(this,Ko),t)}}Ko=new WeakMap,Yo=new WeakMap,Xo=new WeakMap;var ih,sh,nh,rh,oh=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},hh=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ah{constructor(){this.action="",this.target=""}parse(t){Object(m.x)(t)&&Object(m.z)(t)?this.action=t:(this.target=Object(m.u)(t.target,""),this.action=t.action)}}class ch{constructor(t){this.attribute=(null!=t?t:"cui")+"-toggle"}getStyle(){return null}get(t,e){return new lh(t,e,this.attribute)}}class lh extends M{constructor(t,e,i){super("CuiToggleHandler",t,i,new ah,e),ih.set(this,void 0),sh.set(this,void 0),nh.set(this,void 0),rh.set(this,void 0),oh(this,ih,this.element),oh(this,sh,e),oh(this,nh,null),oh(this,rh,[]),this.onClick=this.onClick.bind(this)}onInit(){oh(this,ih,this.getTarget()),oh(this,rh,f.b.get(this.args.action)),this.element.addEventListener("click",this.onClick),oh(this,nh,this.onEvent(w.i.TOGGLE,this.toggle.bind(this)))}onUpdate(){oh(this,ih,this.getTarget()),oh(this,rh,f.b.get(this.args.action))}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(w.i.TOGGLE,hh(this,nh))}toggle(){hh(this,ih)?(hh(this,rh).forEach(t=>t.toggle(hh(this,ih),hh(this,sh))),this.emitEvent(w.i.TOGGLED,{action:this.args.action,target:hh(this,ih),timestamp:Date.now()})):this.logError("Target in not provided","toggle")}onClick(t){this.toggle(),t.preventDefault()}getTarget(){var t;return this.args.target&&null!==(t=document.querySelector(this.args.target))&&void 0!==t?t:this.element}}ih=new WeakMap,sh=new WeakMap,nh=new WeakMap,rh=new WeakMap;var uh,dh,ph,gh,vh,fh,mh,wh,bh,kh=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},yh=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ch{constructor(t){uh.set(this,void 0),kh(this,uh,Object(m.E)(".{prefix}-animation-tooltip-in",t)),this.content="",this.width=150,this.margin=8,this.timeout=2e3,this.pos="",this.action=yh(this,uh)}parse(t){Object(m.z)(t)?this.content=Object(m.u)(t,""):(this.content=Object(m.u)(t.content,""),this.width=Object(m.o)(t.width,150),this.margin=Object(m.o)(t.margin,8),this.pos=Object(m.u)(t.pos,""),this.action=Object(m.u)(t.action,yh(this,uh)),this.timeout=Object(m.o)(t.timeout,2e3))}}uh=new WeakMap;class Eh{constructor(t){dh.set(this,void 0),kh(this,dh,null!=t?t:"cui"),this.attribute=yh(this,dh)+"-tooltip"}getStyle(){return null}get(t,e){return new Mh(t,this.attribute,e,yh(this,dh))}}dh=new WeakMap;class Mh extends M{constructor(t,e,i,s){super("CuiTooltipHandler",t,e,new Ch(s),i),ph.set(this,void 0),gh.set(this,void 0),vh.set(this,void 0),fh.set(this,void 0),mh.set(this,void 0),wh.set(this,void 0),bh.set(this,void 0),kh(this,gh,void 0),kh(this,wh,[]),kh(this,bh,void 0),kh(this,mh,Object(m.E)("{prefix}-tooltip-data",s)),kh(this,ph,new je(t)),yh(this,ph).setCallback(this.onHover.bind(this)),kh(this,vh,8),kh(this,fh,new Ue),yh(this,fh).setPreferred("top-center")}onInit(){yh(this,ph).attach(),this.getDataFromArgs(),kh(this,bh,new Je(this.args.timeout,!1,this.removeTooltip.bind(this)))}onUpdate(){this.getDataFromArgs(),yh(this,bh)&&yh(this,bh).setTimeout(this.args.timeout)}onDestroy(){this.removeTooltip(),yh(this,ph).detach()}onHover(t){t.isHovering?this.createTooltip():this.removeTooltip()}createTooltip(){if(Object(m.x)(yh(this,gh))||!Object(m.x)(this.args.content))return;const t=this.element.getBoundingClientRect();kh(this,gh,new yr.a("div").setClasses(yh(this,mh)).build()),yh(this,gh).textContent=this.args.content,yh(this,gh).style.maxWidth=this.args.width+"px",document.body.appendChild(yh(this,gh)),this.mutate(()=>{if(!yh(this,gh))return;const e=yh(this,gh).getBoundingClientRect();yh(this,fh).setMargin(yh(this,vh));try{let[i,s]=yh(this,fh).calculate(t,e);yh(this,gh).style.top=s+"px",yh(this,gh).style.left=i+"px",this.toggleActions(),yh(this,bh)&&yh(this,bh).start()}catch(t){this.logError(t.message,"createTooltip",t)}})}removeTooltip(){Object(m.x)(yh(this,gh))&&(yh(this,bh)&&yh(this,bh).stop(),this.mutate(()=>{yh(this,gh).remove(),kh(this,gh,void 0)}))}getDataFromArgs(){yh(this,fh).setMargin(this.args.margin),yh(this,fh).setStatic(this.args.pos),kh(this,wh,f.b.get(this.args.action))}toggleActions(){yh(this,gh)&&yh(this,wh).forEach(t=>{t.toggle(yh(this,gh))})}}function Oh(t){let e=null==t?void 0:t.prefix;return[new Ki(e),new Eh(e),new qt(e),new ro(e),new Fn(e),new fr(e),new cs(e),new On(e),new Zt(e),new ch(e),new be(e),new ys(e),new H(e),new wi(e),new fn(e),new Fo(e),new th(e),new qi(e),new So(e),new Ot(e),new he(e),new Zr(e),new _n(e)]}ph=new WeakMap,gh=new WeakMap,vh=new WeakMap,fh=new WeakMap,mh=new WeakMap,wh=new WeakMap,bh=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return xt}));var s,n,r=i(1),o=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class a{constructor(){this.name="click-plugin",s.set(this,void 0),n.set(this,void 0),this.description="CuiWindowClickPlugin",o(this,s,void 0),o(this,n,this.onWindowClick.bind(this))}init(t){o(this,s,t.bus),window.addEventListener("click",h(this,n))}destroy(){window.removeEventListener("click",h(this,n))}onWindowClick(t){h(this,s)&&h(this,s).emit(r.i.WINDOW_CLICK,null,t)}}s=new WeakMap,n=new WeakMap;var c,l,u,d,p,g,v,f=i(0),m=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},w=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class b{constructor(t,e){c.set(this,void 0),l.set(this,void 0),u.set(this,void 0),d.set(this,void 0),p.set(this,void 0),g.set(this,void 0),v.set(this,void 0),m(this,u,!1),m(this,d,!0),m(this,p,!1),m(this,c,void 0),m(this,l,null!=e?e:[]),m(this,g,this.onKeyDown.bind(this)),m(this,v,this.onKeyUp.bind(this))}setCallback(t){m(this,c,t)}isInProgress(){return w(this,u)}attach(){document.addEventListener("keydown",w(this,g)),w(this,d)&&document.addEventListener("keyup",w(this,v)),m(this,p,!0)}detach(){document.removeEventListener("keydown",w(this,g)),w(this,d)&&document.addEventListener("keyup",w(this,v)),m(this,p,!1)}isAttached(){return w(this,p)}onKeyDown(t){if(!w(this,u)){m(this,u,!0);try{Object(f.x)(w(this,l))&&!w(this,l).includes(t.code)||!w(this,c)||w(this,c).call(this,t)}catch(t){console.error(t)}finally{w(this,d)||m(this,u,!1)}}}onKeyUp(t){m(this,u,!1)}}c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,v=new WeakMap;var k,y,C=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},E=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class M{constructor(t){k.set(this,void 0),y.set(this,void 0),C(this,y,t),C(this,k,new b(!0)),E(this,k).setCallback(this.onKeyDown.bind(this))}connect(){E(this,k).attach()}disconnect(){E(this,k).detach()}onKeyDown(t){E(this,y).emit(r.i.KEYDOWN,null,{timestamp:Date.now(),event:t})}}k=new WeakMap,y=new WeakMap;var O,A=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},W=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class x{constructor(t){this.name="keys-observer",O.set(this,void 0),this.description="CuiKeysObserverPlugin",this.setup=t,A(this,O,void 0)}init(t){A(this,O,new M(t.bus)),W(this,O).connect()}destroy(){W(this,O)&&W(this,O).disconnect()}}O=new WeakMap;var T,S,j,L,P,D=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},I=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class N{constructor(t){T.set(this,void 0),S.set(this,void 0),j.set(this,void 0),L.set(this,void 0),P.set(this,void 0),D(this,T,t),D(this,j,!1),D(this,S,void 0),D(this,L,!1),D(this,P,this.event.bind(this))}setCallback(t){D(this,S,t)}isInProgress(){return I(this,L)}attach(){window.matchMedia&&!I(this,j)&&I(this,T)&&(window.matchMedia(I(this,T)).addEventListener("change",I(this,P)),D(this,j,!0))}detach(){I(this,j)&&(window.matchMedia(I(this,T)).removeEventListener("change",I(this,P)),D(this,j,!1))}isAttached(){return I(this,j)}event(t){if(!I(this,L)&&I(this,S)){D(this,L,!0);try{I(this,S).call(this,t)}catch(t){console.error(t)}finally{D(this,L,!1)}}}}T=new WeakMap,S=new WeakMap,j=new WeakMap,L=new WeakMap,P=new WeakMap;var B,H,_=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},R=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ${constructor(t){this.description="Dark vs Light mode auto switcher",this.name="auto-light",B.set(this,void 0),H.set(this,void 0),this.description="CuiAutoLightModePlugin",this.setup=t,_(this,H,void 0),_(this,B,void 0)}init(t){_(this,H,t),this.setup.autoLight&&"dark"===Object(f.v)()&&R(this,H).setLightMode("dark"),_(this,B,new N("(prefers-color-scheme: dark)")),R(this,B).setCallback(this.onChange.bind(this)),R(this,B).attach()}destroy(){R(this,B)&&R(this,B).detach()}onChange(t){var e;if(!R(this,H))return;let i=R(this,H).setup.plugins[this.description];null!==(e=null==i?void 0:i.autoLight)&&void 0!==e&&e&&(t.matches?R(this,H).setLightMode("dark"):R(this,H).setLightMode("light"))}}B=new WeakMap,H=new WeakMap;var q,V,z=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},U=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class F{constructor(t){this.description="Auto print mode",this.name="auto-print",q.set(this,void 0),V.set(this,void 0),this.description="CuiAutoPrintModePlugin",this.setup=t,z(this,q,void 0),z(this,V,void 0)}init(t){z(this,V,t),this.setup.autoPrint&&Object(f.w)()&&U(this,V).setPrintMode(!0),z(this,q,new N("print")),U(this,q).setCallback(this.onChange.bind(this)),U(this,q).attach()}destroy(){U(this,q)&&U(this,q).detach()}onChange(t){var e,i;if(!U(this,V))return;this.setup=U(this,V).setup.plugins[this.description],null!==(i=null===(e=this.setup)||void 0===e?void 0:e.autoPrint)&&void 0!==i&&i&&(t.matches?U(this,V).setPrintMode(!0):U(this,V).setPrintMode(!1))}}q=new WeakMap,V=new WeakMap;var G,K,Y,X,Z,J,Q=i(3),tt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},et=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class it{constructor(t,e,i,s){G.set(this,void 0),K.set(this,void 0),Y.set(this,void 0),X.set(this,void 0),tt(this,G,0),tt(this,Y,0),tt(this,K,0),tt(this,X,0),this.set(t,e,i,s)}static create(t){if(!Object(f.x)(t))throw new Q.d("Given color value is not in a valid format");let e;if(t.startsWith("#"))e=new st(t);else{if(!t.startsWith("rgb"))throw new Q.d("Unknown color string format");e=new nt(t)}let i=e.parse();if(!i)throw new Q.d("Color was not parsed");return i}set(t,e,i,s){tt(this,X,Object(f.s)(null!=s?s:1,0,1)),tt(this,Y,Object(f.s)(i,0,255)),tt(this,G,Object(f.s)(t,0,255)),tt(this,K,Object(f.s)(e,0,255))}setRed(t){tt(this,G,Object(f.s)(t,0,255))}setGreen(t){tt(this,K,Object(f.s)(t,0,255))}setBlue(t){tt(this,Y,Object(f.s)(t,0,255))}opacity(t){return tt(this,X,Object(f.s)(t,0,1)),this}lighten(t){return this.shade(t),this}darken(t){return this.shade(-t),this}invert(){return tt(this,Y,255-et(this,Y)),tt(this,G,255-et(this,G)),tt(this,K,255-et(this,K)),this}getColorValue(t){t&&t.toLowerCase();switch(t){case"red":return et(this,G);case"green":return et(this,K);case"blue":return et(this,Y);case"alpha":return et(this,X)}return-1}toCssString(){return`rgba(${et(this,G)}, ${et(this,K)}, ${et(this,Y)}, ${et(this,X)})`}shade(t,e=!0){tt(this,G,this.shadeSingle(et(this,G),t,e)),tt(this,K,this.shadeSingle(et(this,K),t,e)),tt(this,Y,this.shadeSingle(et(this,Y),t,e))}shadeSingle(t,e,i=!0){let s=(i?t:255)*e/100,n=t+Math.round(s);return Object(f.s)(n,0,255)}clone(){return new it(et(this,G),et(this,K),et(this,Y),et(this,X))}}G=new WeakMap,K=new WeakMap,Y=new WeakMap,X=new WeakMap;class st{constructor(t){Z.set(this,void 0),tt(this,Z,t)}trim(){tt(this,Z,et(this,Z)?et(this,Z).trim():"")}isValid(){return Object(f.x)(et(this,Z))&&et(this,Z).startsWith("#")}parse(){let t=0,e=0,i=0,s=1,n=et(this,Z).length;if(4===et(this,Z).length)t=parseInt(et(this,Z)[1]+et(this,Z)[1],16),i=parseInt(et(this,Z)[2]+et(this,Z)[2],16),e=parseInt(et(this,Z)[3]+et(this,Z)[3],16);else if(t=parseInt(et(this,Z)[1]+et(this,Z)[2],16),i=parseInt(et(this,Z)[3]+et(this,Z)[4],16),e=parseInt(et(this,Z)[5]+et(this,Z)[6],16),n>7){let t=parseInt(et(this,Z)[7]+et(this,Z)[8],16);s=parseFloat((t/255).toFixed(2))}return new it(t,i,e,s)}}Z=new WeakMap;class nt{constructor(t){J.set(this,void 0),tt(this,J,t)}trim(){tt(this,J,Object(f.x)(et(this,J))?et(this,J).trim():"")}isValid(){return Object(f.x)(et(this,J))&&et(this,J).startsWith("rgb")}parse(){let t=et(this,J).length,e=(et(this,J).startsWith("rgba")?et(this,J).substring(5,t-1):et(this,J).substring(4,t-1)).split(",");if(!Object(f.y)(e.length,3,4))return;let i=parseInt(e[0]),s=parseInt(e[1]),n=parseInt(e[2]),r=4===e.length?parseFloat(e[3]):1;return new it(i,s,n,r)}}J=new WeakMap;var rt,ot,ht,at,ct=i(4),lt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ut=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const dt={light:{background:r.g.colorLightBackground,base:r.g.colorLightBase,active:r.g.colorLightActive,muted:r.g.colorLightMuted},dark:{background:r.g.colorDarkBackground,base:r.g.colorDarkBase,active:r.g.colorDarkActive,muted:r.g.colorDarkMuted}},pt={accent:{base:r.g.colorAccent,muted:r.g.colorAccentMuted,active:r.g.colorAccentActive,shade:r.g.colorAccentShade,shadeDark:r.g.colorAccentShadeDark},secondary:{base:r.g.colorSecondary,muted:r.g.colorSecondaryMuted,active:r.g.colorSecondaryActive,shade:r.g.colorSecondaryShade,shadeDark:r.g.colorSecondaryShadeDark},error:{base:r.g.colorError,muted:r.g.colorErrorMuted,active:r.g.colorErrorActive,shade:r.g.colorErrorShade,shadeDark:r.g.colorErrorShadeDark},warning:{base:r.g.colorWarning,muted:r.g.colorWarningMuted,active:r.g.colorWarningActive,shade:r.g.colorWarningShade,shadeDark:r.g.colorWarningShadeDark},success:{base:r.g.colorSuccess,muted:r.g.colorSuccessMuted,active:r.g.colorSuccessActive,shade:r.g.colorSuccessShade,shadeDark:r.g.colorSuccessShadeDark}};class gt{constructor(t,e){rt.set(this,void 0),ot.set(this,void 0),lt(this,rt,dt[t]),lt(this,ot,e)}setBackgroundColor(t){this.setColor(ut(this,rt).background,t)}setBaseColor(t){this.setColor(ut(this,rt).base,t)}setActiveColor(t){this.setColor(ut(this,rt).active,t)}setMutedColor(t){this.setColor(ut(this,rt).muted,t)}setBaseColors(t){if(!ut(this,rt))return;let e={};e[ut(this,rt).background]=t.background?t.background.toCssString():"",e[ut(this,rt).active]=t.active?t.active.toCssString():"",e[ut(this,rt).muted]=t.muted?t.muted.toCssString():"",e[ut(this,rt).base]=t.base?t.base.toCssString():"",ut(this,ot).setProperties(e)}setColor(t,e){ut(this,ot).setProperty(t,e.toCssString())}}rt=new WeakMap,ot=new WeakMap;class vt{constructor(t,e){ht.set(this,void 0),at.set(this,void 0),lt(this,ht,e),lt(this,at,pt[t])}setBaseColor(t){this.setColor(ut(this,at).base,t)}setMutedColor(t){this.setColor(ut(this,at).muted,t)}setActiveColor(t){this.setColor(ut(this,at).active,t)}setShadeColor(t){this.setColor(ut(this,at).shade,t)}setShadeDarkColor(t){this.setColor(ut(this,at).shadeDark,t)}setColors(t){if(!ut(this,at))return;let e={};e[ut(this,at).shade]=t.shade?t.shade.toCssString():"",e[ut(this,at).shadeDark]=t.shadeDark?t.shadeDark.toCssString():"",e[ut(this,at).active]=t.active?t.active.toCssString():"",e[ut(this,at).muted]=t.muted?t.muted.toCssString():"",e[ut(this,at).base]=t.base?t.base.toCssString():"",ut(this,ht).setProperties(e)}setAutoColors(t){let e={};e[ut(this,at).base]=t.toCssString(),e[ut(this,at).shade]=t.lighten(30).toCssString(),e[ut(this,at).shadeDark]=t.darken(30).toCssString(),e[ut(this,at).active]=t.darken(10).toCssString(),e[ut(this,at).muted]=t.lighten(10).toCssString(),ut(this,ht).setProperties(e)}setColor(t,e){ut(this,ht).setProperty(t,e.toCssString())}}ht=new WeakMap,at=new WeakMap;var ft,mt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},wt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class bt{constructor(t){ft.set(this,void 0),mt(this,ft,t)}setProperty(t,e){Object(f.b)(t,e)&&wt(this,ft).interactions.mutate(()=>{wt(this,ft).setProperty(t,e)},null)}setProperties(t){Object(f.x)(t)&&wt(this,ft).interactions.mutate(()=>{for(let e in t)Object(f.x)(t[e])&&wt(this,ft).setProperty(e,t[e])},null)}}ft=new WeakMap;var kt,yt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ct=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Et{constructor(t){kt.set(this,void 0),yt(this,kt,new bt(t))}setBaseFontSize(t,e){this.setBaseUnitValue(r.g.fontSize,t,e)}setAnimationTime(t,e){this.setBaseUnitValue(r.g.animationTime,t,null!=e?e:"ms")}setAnimationTimeLong(t,e){this.setBaseUnitValue(r.g.setAnimationTimeLong,t,null!=e?e:"ms")}setAnimationTimeShort(t,e){this.setBaseUnitValue(r.g.setAnimationTimeShort,t,null!=e?e:"ms")}setBaseLineHeight(t,e){this.setBaseUnitValue(r.g.lineHeight,t,e)}setBaseMargin(t,e){this.setBaseUnitValue(r.g.margin,t,e)}setBasePadding(t,e){this.setBaseUnitValue(r.g.padding,t,e)}setBaseBorderRadius(t,e){this.setBaseUnitValue(r.g.borderRadius,t,e)}setComponentSpace(t,e){this.setBaseUnitValue(r.g.componentSpace,t,e)}setAccordionIcon(t){Object(f.x)(t)&&this.setCSSVariable(r.g.accordionIcon,t)}setScrollbarWidth(t,e){this.setBaseUnitValue(r.g.scrollbarWidth,t,e)}setAppBackgroundColor(t){Object(f.x)(t)&&this.setCSSVariable(r.g.colorLightAppBackground,t.toCssString())}setDarkAppBackgroundColor(t){Object(f.x)(t)&&this.setCSSVariable(r.g.colorDarkAppBackground,t.toCssString())}getBaseColorsSetter(){return new gt("light",Ct(this,kt))}getDarkBaseColorsSetter(){return new gt("dark",Ct(this,kt))}getAccentThemeColorsSetter(){return new vt("accent",Ct(this,kt))}getSecondaryThemeColorsSetter(){return new vt("secondary",Ct(this,kt))}getErrorThemeColorsSetter(){return new vt("error",Ct(this,kt))}getWarningThemeColorsSetter(){return new vt("warning",Ct(this,kt))}getSuccessThemeColorsSetter(){return new vt("success",Ct(this,kt))}setCSSVariable(t,e){Ct(this,kt).setProperty(t,e)}setBaseUnitValue(t,e,i){if(!Object(f.x)(e))return;let s=`${e}${null!=i?i:"px"}`;this.setCSSVariable(t,s)}}kt=new WeakMap;var Mt,Ot=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},At=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Wt{constructor(t){this.name="css-variables-plugin",Mt.set(this,void 0),this.description="CuiCSSVariablesPlugin",this.setup=t,Ot(this,Mt,ct.a.get("CuiCSSVariablesPlugin")),this.handler=void 0}init(t){this.handler=new Et(t),t.bus.on("csschange",this.onCssChange.bind(this))}destroy(){}onCssChange(t){if(!this.handler)return;let e=null,i=null;switch(t.method){case"baseFontSize":if(!this.isArgNumber(t.arg))return;this.handler.setBaseFontSize(t.arg.value,t.arg.unit);break;case"baseLineHeight":if(!this.isArgNumber(t.arg))return;this.handler.setBaseLineHeight(t.arg.value,t.arg.unit);break;case"animationTime":if(!this.isArgNumber(t.arg))return;this.handler.setAnimationTime(t.arg.value,t.arg.unit);break;case"animationTimeLong":if(!this.isArgNumber(t.arg))return;this.handler.setAnimationTimeLong(t.arg.value,t.arg.unit);break;case"animationTimeShort":if(!this.isArgNumber(t.arg))return;this.handler.setAnimationTimeShort(t.arg.value,t.arg.unit);break;case"margin":if(!this.isArgNumber(t.arg))return;this.handler.setBaseMargin(t.arg.value,t.arg.unit);break;case"padding":if(!this.isArgNumber(t.arg))return;this.handler.setBasePadding(t.arg.value,t.arg.unit);break;case"borderRadius":if(!this.isArgNumber(t.arg))return;this.handler.setBaseBorderRadius(t.arg.value,t.arg.unit);break;case"componentSpace":if(!this.isArgNumber(t.arg))return;this.handler.setComponentSpace(t.arg.value,t.arg.unit);break;case"scrollbarWidth":if(!this.isArgNumber(t.arg))return;this.handler.setScrollbarWidth(t.arg.value,t.arg.unit);break;case"accordionIcon":if(!Object(f.x)(t.arg))return;this.handler.setAccordionIcon(t.arg);break;case"appLightBackground":if(!Object(f.x)(t.arg))return;this.handler.setAppBackgroundColor(it.create(t.arg));break;case"appDarkBackground":case"appDarkBackground":if(!Object(f.x)(t.arg))return;this.handler.setDarkAppBackgroundColor(it.create(t.arg));break;case"mainColorBackground":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setBackgroundColor(it.create(t.arg.color));break;case"mainColor":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setBaseColor(it.create(t.arg.color));break;case"mainColorMuted":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setMutedColor(it.create(t.arg.color));break;case"mainColorActive":if(!this.isArgColor(t.arg))return;e=this.getBaseColorSetter(t.arg.palette),e&&e.setActiveColor(it.create(t.arg.color));break;case"themeAutoColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setAutoColors(it.create(t.arg.color));case"themeBaseColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setAutoColors(it.create(t.arg.color));case"themeMutedColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setMutedColor(it.create(t.arg.color));case"themeActiveColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setActiveColor(it.create(t.arg.color));case"themeShadeColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setShadeColor(it.create(t.arg.color));case"themeShadeDarkColor":if(!this.isArgColor(t.arg))return;i=this.getAccentColorSetter(t.arg.palette),i&&i.setShadeDarkColor(it.create(t.arg.color));default:At(this,Mt).warning("Unknown event method","onCssChange")}}isArgNumber(t){return Object(f.x)(t)&&Object(f.x)(t.value)}isArgColor(t){return Object(f.x)(t)&&Object(f.x)(t.palette)&&Object(f.x)(t.color)}getBaseColorSetter(t){if(!this.handler)return;switch(t.trim().toLowerCase()){case"light":return this.handler.getBaseColorsSetter();case"dark":return this.handler.getDarkBaseColorsSetter()}}getAccentColorSetter(t){if(!this.handler)return;switch(t.trim().toLowerCase()){case"accent":return this.handler.getAccentThemeColorsSetter();case"secondary":return this.handler.getSecondaryThemeColorsSetter();case"error":return this.handler.getErrorThemeColorsSetter();case"warning":return this.handler.getWarningThemeColorsSetter();case"success":return this.handler.getSuccessThemeColorsSetter();default:return}}}function xt(t){let e=!t||t.autoLight,i=!t||t.autoPrint;return[new $({autoLight:e}),new F({autoPrint:i}),new x({}),new a,new Wt({})]}Mt=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return At}));var s,n,r,o,h,a,c=i(8),l=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class d{constructor(){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,!1),h.set(this,void 0),a.set(this,void 0),l(this,r,window.requestAnimationFrame.bind(window)),l(this,s,[]),l(this,n,[]),l(this,h,5),l(this,a,void 0)}onError(t){l(this,a,t)}mutate(t,e,...i){u(this,n).push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){u(this,s).push(this.createTask(t,e,...i)),this.schedule()}createTask(t,e,...i){return e||i?t.bind(e,...i):t}run(t){let e=null;for(;e=t.shift();)e()}schedule(t){if(!u(this,o)){if(l(this,o,!0),t&&t>=u(this,h))throw new Error("Fast Dom limit reached");u(this,r).call(this,this.flush.bind(this,t))}}flush(t){let e=null!=t?t:0,i=null,r=u(this,s),h=u(this,n);try{this.run(h),this.run(r)}catch(t){u(this,a)?u(this,a).call(this,t):console.error("An error has been captured in interactions: "+t.message),i=t}l(this,o,!1),(i||u(this,s).length||u(this,n).length)&&this.schedule(e+1)}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap;class p{constructor(){this.isRunning=!1,this.tasks=[],this.raf=window.requestAnimationFrame.bind(window)}mutate(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}schedule(){this.isRunning||(this.isRunning=!0,this.raf(this.flush.bind(this)))}flush(){let t=null;for(;t=this.tasks.shift();)try{t()}catch(t){}this.isRunning=!1}createTask(t,e,...i){return e||i?t.bind(e,...i):t}}var g,v,f=i(3),m=i(0),w=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},b=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class k{constructor(t){g.set(this,void 0),v.set(this,void 0),w(this,g,[]),w(this,v,[]),t&&t.forEach(t=>{if(!Object(m.x)(t.key))throw w(this,g,[]),w(this,v,[]),new f.b("Key is empty");this.add(t.key,t.value)})}add(t,e){if(this.throwOnEmptyKey(t),this.containsKey(t))throw new Error("Key already exists");b(this,g).push(t),b(this,v).push(e)}remove(t){if(!Object(m.x)(t))return;let e=b(this,g).indexOf(t);e>=0&&(b(this,g).splice(e,1),b(this,v).splice(e,1))}get(t){this.throwOnEmptyKey(t);let e=this.indexOf(t);if(!(e<0))return b(this,v)[e]}containsKey(t){return Object(m.x)(t)&&this.indexOf(t)>=0}keys(){return b(this,g)}values(){return b(this,v)}indexOf(t){return Object(m.x)(t)?b(this,g).indexOf(t):-1}update(t,e){this.throwOnEmptyKey(t);let i=this.indexOf(t);if(i<0)throw new f.g(`Item with key [${t}] not found`);b(this,v)[i]=e}clear(){w(this,v,[]),w(this,g,[])}throwOnEmptyKey(t){if(!Object(m.x)(t))throw new f.b("Key is empty")}}g=new WeakMap,v=new WeakMap;var y,C,E=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},M=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class O{constructor(t){y.set(this,void 0),C.set(this,void 0),E(this,y,new k),E(this,C,null!=t?t:500)}put(t,e){Object(m.x)(t)&&(this.has(t)?M(this,y).update(t,e):(this.clean(),M(this,y).add(t,e)))}get(t){if(!this.has(t))return;let e=M(this,y).get(t);if(e&&e.refresh())return e;M(this,y).remove(t)}has(t){return!!Object(m.x)(t)&&M(this,y).containsKey(t)}remove(t){return!!Object(m.x)(t)&&(!!this.has(t)&&(M(this,y).remove(t),!0))}clear(){M(this,y).clear()}clean(){M(this,y).keys().length>=M(this,C)&&M(this,y).remove(M(this,y).keys()[0])}}y=new WeakMap,C=new WeakMap;var A,W,x,T=i(4),S=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},j=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},L=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class P{constructor(){this.queue=[],this.isBusy=!1}idMatches(t,e){return!Object(m.x)(t)||Object(m.x)(t)&&t==e}}class D extends P{constructor(t){super(),A.set(this,void 0),W.set(this,void 0),j(this,W,t),j(this,A,T.a.get("SimpleEventEmitHandler"))}handle(t,e,i){return S(this,void 0,void 0,(function*(){Object(m.x)(t)?(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&(yield this.perform()),this.isBusy=!1)):L(this,A).warning("No events provided")}))}perform(){return S(this,void 0,void 0,(function*(){let t=this.queue.shift();if(t)for(let e in t.events){let i=t.events[e];try{this.idMatches(t.cuid,i.$cuid)&&(yield L(this,W).execute(i.callback,t.args))}catch(t){L(this,A).error(t)}}}))}}A=new WeakMap,W=new WeakMap;class I extends P{constructor(t){super(),x.set(this,void 0),j(this,x,t)}handle(t,e,i){return S(this,void 0,void 0,(function*(){Object(m.x)(t)&&(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&this.perform(),this.isBusy=!1))}))}perform(){return S(this,void 0,void 0,(function*(){let t=this.queue.shift(),e=[];if(!t)return Promise.all(e);for(let i in t.events){let s=t.events[i];this.idMatches(t.cuid,s.$cuid)&&e.push(L(this,x).execute(s.callback,t.args))}return Promise.all(e)}))}}x=new WeakMap;var N=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))};class B{execute(t,e){return N(this,void 0,void 0,(function*(){e=null!=e?e:[],t(...e)}))}}var H,_,R,$,q,V,z,U,F=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},G=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},K=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Y{constructor(t,e){H.set(this,void 0),_.set(this,void 0),R.set(this,void 0),$.set(this,void 0),G(this,H,{}),G(this,R,t),G(this,$,null!=e?e:"CuiEventBus"),G(this,_,T.a.get(K(this,$)))}on(t,e,i){if(!Object(m.b)(t,e))throw new f.b("Missing argument");let s=K(this,$)+"-"+Object(m.k)();return K(this,H)[t]||(K(this,H)[t]={}),this.isAttached(K(this,H)[t],s,i)?null:(K(this,_).debug(`Attaching new event: [${t}] for: [${s}]`),K(this,H)[t][s]={callback:e,$cuid:this.getCuid(i)},s)}detach(t,e){if(!Object(m.b)(t,e))throw new f.b("Missing argument");let i=K(this,H)[t];K(this,_).debug(`Detaching item: [${e}] from [${t}]`),this.isAttached(i,e)&&delete i[e]}detachAll(t){Object(m.x)(t)&&K(this,H)[t]?delete K(this,H)[t]:K(this,_).error("Event name is missing or incorrect","detachAll")}emit(t,e,...i){return F(this,void 0,void 0,(function*(){if(!Object(m.x)(t))throw new f.b("Event name is incorrect");let s=K(this,H)[t];return Object(m.x)(s)&&(K(this,_).debug(`Emit: [${t}]`),yield K(this,R).handle(K(this,H)[t],e,i)),!0}))}isSubscribing(t,e,i){let s=K(this,H)[t];return this.isAttached(s,e,i)}detachByCuid(t,e){if(!Object(m.b)(t,e))return;let i=K(this,H)[t];Object(m.x)(i)&&Object(m.j)(Object.assign({},i),(t,s)=>{s.$cuid===e&&delete i[t]})}isAttached(t,e,i){return Object(m.x)(i)?Object(m.x)(t)&&Object(m.x)(e)&&Object(m.x)(t[e])&&t[e].$cuid==i.$cuid:Object(m.x)(t)&&Object(m.x)(e)&&Object(m.x)(t[e])}getCuid(t){return Object(m.x)(t)?t.$cuid:null}}H=new WeakMap,_=new WeakMap,R=new WeakMap,$=new WeakMap;class X{constructor(t){if(q.set(this,void 0),V.set(this,void 0),z.set(this,void 0),U.set(this,void 0),G(this,V,T.a.get("CuiEventBus")),G(this,z,[]),G(this,q,{}),G(this,U,0),Object(m.x)(t)){K(this,V).debug("Initiating buses"),(1===t.length?t:t.sort((t,e)=>t.priority-e.priority)).forEach((t,e)=>{K(this,z).push(this.initBusInstance(t.name,t.handler)),G(this,q,Object.assign(Object.assign({},K(this,q)),this.mapEvents(t.eventsDef,e))),K(this,V).debug(`Bus ${t.name} has been initialized with number: ${e}`)}),K(this,z).push(this.initBusInstance("DefaultEventBus","tasked")),G(this,U,K(this,z).length-1),K(this,V).debug("Bus initialization finished")}}on(t,e,i){if(!Object(m.b)(t,e))throw new f.b("Missing argument");return this.get(t).on(t,e,i)}detach(t,e,i){if(!Object(m.b)(t,e))throw new f.b("Missing argument");this.get(t).detach(t,e,i)}detachAll(t){this.get(t).detachAll(t)}emit(t,e,...i){return F(this,void 0,void 0,(function*(){if(!Object(m.x)(t))throw new f.b("Event name is incorrect");return this.get(t).emit(t,e,...i)}))}isSubscribing(t,e,i){return this.get(t).isSubscribing(t,e,i)}detachByCuid(t,e){Object(m.b)(t,e)&&this.get(t).detachByCuid(t,e)}initBusInstance(t,e){if(!Object(m.b)(t,e))throw new f.b("Bus name or handler name is incorrect");let i=new B,s=class{static get(t,e){switch(t){case"tasked":return new I(e);default:return new D(e)}}}.get(e,i);return new Y(s,t)}mapEvents(t,e){return t.reduce((t,i)=>t[i]?t:Object.assign(Object.assign({},t),{[i]:e}),{})}get(t){let e=K(this,q)[t];return K(this,z)[null!=e?e:K(this,U)]}}q=new WeakMap,V=new WeakMap,z=new WeakMap,U=new WeakMap;new WeakMap,new WeakMap;var Z,J=i(1),Q=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class tt{constructor(t){Z.set(this,void 0),Q(this,Z,t)}append(t){if(Object(m.x)(t)){const e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),s=document.createTextNode(t);i.type="text/css",i.appendChild(s),e.appendChild(i)}return!0}}Z=new WeakMap;var et,it,st,nt,rt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ot=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ht{constructor(t){et.set(this,void 0),it.set(this,void 0),st.set(this,15),nt.set(this,15),rt(this,et,document.documentElement),rt(this,it,t)}setAppBackground(t,e){this.setPropertyIn(J.c.light,t.toCssString()),this.setPropertyIn(J.c.dark,e.toCssString())}setComponentBackground(t,e){this.setPropertyIn(J.d.light,t.toCssString()),this.setPropertyIn(J.d.dark,e.toCssString())}setBordersColors(t,e){this.setPropertyIn(J.e.light,t.toCssString()),this.setPropertyIn(J.e.dark,e.toCssString())}setColor(t,e){var i,s;const n=J.f[t],r=e.base;if(!Object(m.x)(n)||!Object(m.x)(r))return;const o=null!==(i=e.muted)&&void 0!==i?i:r.clone().lighten(ot(this,st)),h=null!==(s=e.active)&&void 0!==s?s:r.clone().darken(ot(this,nt));ot(this,it).mutate(()=>{this.setProperty(n.base,r.toCssString()),this.setProperty(n.active,h.toCssString()),this.setProperty(n.muted,o.toCssString())},this)}setLightenFactor(t){rt(this,st,Object(m.s)(t,0,100))}setDarkenFactor(t){rt(this,nt,Object(m.s)(t,0,100))}setProperty(t,e){ot(this,et).style.setProperty(t,e)}setPropertyIn(t,e){Object(m.b)(e,t)&&ot(this,it).mutate(this.setProperty,this,t,e)}}et=new WeakMap,it=new WeakMap,st=new WeakMap,nt=new WeakMap;var at,ct,lt,ut,dt,pt,gt,vt,ft=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},mt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class wt{constructor(t,e){at.set(this,void 0),ct.set(this,void 0),lt.set(this,void 0),ut.set(this,void 0),dt.set(this,void 0),pt.set(this,void 0),gt.set(this,void 0),vt.set(this,void 0),ft(this,at,[]),ft(this,ct,[]),ft(this,lt,window.innerWidth),ft(this,ut,!1),ft(this,dt,Object(m.d)(window.innerWidth)),ft(this,pt,null!=e?e:0),ft(this,gt,t),ft(this,vt,this.listener.bind(this))}observe(t){mt(this,at).findIndex(e=>e===t)<0&&mt(this,at).push(t)}unobserve(t){let e=mt(this,at).findIndex(e=>e===t);e>=0&&mt(this,at).splice(e,1)}connect(){window.addEventListener("resize",mt(this,vt))}disconnect(){window.removeEventListener("resize",mt(this,vt))}pushUpdateToItems(t){mt(this,at).length<1||(ft(this,ct,[]),mt(this,at).forEach(e=>{mt(this,ct).push(e.resize(t))}),Promise.all(mt(this,ct)),ft(this,ct,[]))}listener(t){if(mt(this,ut))return;ft(this,ut,!0);const e=window.innerWidth-mt(this,lt);if(Math.abs(e)>=mt(this,pt)){const t=Object(m.e)(window.innerWidth);if(t!==mt(this,dt)){const e={current:t,previous:mt(this,dt),width:window.innerWidth,height:window.innerHeight,timestamp:Date.now()};mt(this,gt).emit(J.i.RESIZE,"",e),this.pushUpdateToItems(e),ft(this,dt,t)}}ft(this,ut,!1)}}at=new WeakMap,ct=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap,pt=new WeakMap,gt=new WeakMap,vt=new WeakMap;var bt,kt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},yt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ct{constructor(t){bt.set(this,void 0),kt(this,bt,t)}pushState(t,e,i,s,n){this.checkAndCall(()=>{yt(this,bt).pushState(t,e,i,s,n)})}registerElement(t,e,i){this.checkAndCall(()=>{yt(this,bt).registerElement(t,e,i)})}unregisterElement(t,e){this.checkAndCall(()=>{yt(this,bt).unregisterElement(t,e)})}setProperty(t,e,i,s){this.checkAndCall(()=>{yt(this,bt).setProperty(t,e,i,s)})}log(t,e,i){this.checkAndCall(()=>{yt(this,bt).log(t,e,i)})}checkAndCall(t){Object(m.x)(yt(this,bt))&&t()}}bt=new WeakMap;var Et,Mt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ot=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class At{constructor(t){Et.set(this,void 0),this.setup=(new c.a).fromInit(t),this.interactions=class{static get(t,e){switch(t){case"async":const t=new d;return e&&t.onError(e),t;default:return new p}}}.get(t.interaction,this.onInteractionError.bind(this)),this.cache=new O(this.setup.cacheSize),this.bus=class{static get(t){return Object(m.x)(t)?new X(t):new Y(new I(new B))}}.get(t.busSetup),this.colors=new ht(this.interactions),this.development=new Ct(t.development),this.styleAppender=new tt(this.interactions),Mt(this,Et,new wt(this.bus,this.setup.resizeThreshold)),Ot(this,Et).connect()}setLightMode(t){const e=Object(m.p)(this.setup.prefix,J.a.dark),i=document.body.classList;"dark"!==t||i.contains(e)?"light"===t&&i.contains(e)&&this.interactions.mutate(()=>{i.remove(e)},this):this.interactions.mutate(()=>{i.add(e)},this)}getLightMode(){const t=Object(m.p)(this.setup.prefix,J.a.dark);return document.body.classList.contains(t)?"dark":"light"}setPrintMode(t){const e=Object(m.p)(this.setup.prefix,J.a.print),i=document.body.classList;t&&!i.contains(e)?i.add(e):!t&&i.contains(e)&&i.remove(e)}isPrintMode(){const t=Object(m.p)(this.setup.prefix,J.a.print);return document.body.classList.contains(t)}setProperty(t,e){if(!Object(m.b)(t,e))throw new f.c("Property or value was not provided");let i=Object(m.E)(t,this.setup.prefix);document.documentElement.style.setProperty(i,e)}onInteractionError(t){console.error("An error has been captured from interactions"),console.error(t)}}Et=new WeakMap}]]);
//# sourceMappingURL=vendors~index.min.js.map