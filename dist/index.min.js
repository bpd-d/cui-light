!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("cui-light",[],e):"object"==typeof exports?exports["cui-light"]=e():t["cui-light"]=e()}(window,(function(){return function(t){function e(e){for(var s,o,a=e[0],h=e[1],c=e[2],l=0,d=[];l<a.length;l++)o=a[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s]);for(u&&u(e);d.length;)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,a=1;a<i.length;a++){var h=i[a];0!==n[h]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},n={0:0},r=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var a=window.webpackJsonpcui_light=window.webpackJsonpcui_light||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=h;return r.push([17,1]),i()}({17:function(t,e,i){"use strict";i.r(e),i.d(e,"CUI_LIGHT_VERSION",(function(){return ue})),i.d(e,"CUI_LIGHT_CORE_VER",(function(){return le})),i.d(e,"CUI_LIGHT_COMPONENTS_VER",(function(){return de})),i.d(e,"CUI_LIGHT_PLUGINS_VER",(function(){return pe})),i.d(e,"CuiInstance",(function(){return Yt}));var s,n,r,o,a,h,c=i(0),u=i(8),l=i(1),d=i(9),p=i(4),f=i(16),v=i(3),m=i(10),g=i(2),b=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},w=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},x=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class y{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),w(this,s,t),w(this,n,!1),w(this,r,p.a.get("ElementManager")),w(this,a,e),w(this,o,Date.now()),w(this,h,new m.a(e.interactions))}toggleClass(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},"toggleClass")}))}toggleClassAs(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{let i=e.classList;x(this,a).interactions.fetch(()=>{i.contains(t)?x(this,a).interactions.mutate(i.remove,i,t):x(this,a).interactions.mutate(i.add,i,t)},this)},"toggleClassAs")}))}setClass(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.classList.contains(t)||e.classList.add(t)},"setClass")}))}setClassAs(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{let i=e.classList;x(this,a).interactions.fetch(()=>{i.contains(t)||x(this,a).interactions.mutate(i.add,i,t)},this)},"setClassAs")}))}removeClass(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.classList.contains(t)&&e.classList.remove(t)},"removeClass")}))}removeClassAs(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{let i=e.classList;x(this,a).interactions.fetch(()=>{i.contains(t)&&x(this,a).interactions.mutate(i.remove,i,t)},this)},"removeClass")}))}getAttribute(t){return Object(c.x)(t)?x(this,s).reduce((e,i)=>{let s=i.getAttribute(t);return null!=s&&e.push(s),e},[]):[]}setAttribute(t,e){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{i.setAttribute(t,null!=e?e:"")},"setAttribute")}))}setAttributeAs(t,e){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{x(this,a).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},"setAttributeAs")}))}removeAttribute(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.removeAttribute(t)},"removeAttribute")}))}removeAttributeAs(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{x(this,a).interactions.mutate(e.removeAttribute,e,t)},"removeAttributeAs")}))}toggleAttribute(t,e){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{i.hasAttribute(t)?i.removeAttribute(t):i.setAttribute(t,null!=e?e:"")},"toggleAttribute")}))}toggleAttributeAs(t,e){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{x(this,a).interactions.fetch(()=>{i.hasAttribute(t)?x(this,a).interactions.mutate(i.removeAttribute,i,t):x(this,a).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},this)},"toggleAttributeAs")}))}click(t){return b(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.addEventListener("click",t)},"click")}))}event(t,e){return b(this,void 0,void 0,(function*(){return!(!Object(c.x)(t)||!Object(c.x)(e))&&this.call(i=>{i.addEventListener(t,e)},"event")}))}call(t,e){return b(this,void 0,void 0,(function*(){return x(this,n)&&x(this,r).error("Element is locked",e),this.lock(),x(this,s).forEach((e,i)=>{t(e,i)}),this.unlock(),!0}))}animate(t,e){return b(this,void 0,void 0,(function*(){if(!Object(c.x)(t))return!1;const i=null!=e?e:x(this,a).setup.animationTime;return this.call(e=>{this.change(()=>{e.classList.add(t),e.classList.add(l.a.animProgress),setTimeout(()=>{this.change(()=>{e.classList.remove(t),e.classList.remove(l.a.animProgress)})},i)})})}))}open(t,e,i){return b(this,void 0,void 0,(function*(){if(!Object(c.b)(t,e))return!1;const s=null!=i?i:x(this,a).setup.animationTime,n=new g.b(e);return this.call(e=>{x(this,h).performAction(e,n,null!=s?s:0).then(()=>{e.classList.add(t)})})}))}close(t,e,i){return b(this,void 0,void 0,(function*(){if(!Object(c.b)(t,e))return!1;const s=null!=i?i:x(this,a).setup.animationTime,n=new g.b(e);return this.call(e=>{x(this,h).performAction(e,n,null!=s?s:0).then(()=>{e.classList.remove(t)})})}))}emit(t,...e){Object(c.x)(t)?this.call(i=>{let s=i.$cuid;Object(c.x)(s)&&(x(this,r).debug(`Emitting event ${t} to ${s}`),x(this,a).bus.emit(t,s,...e))},"emit"):x(this,r).warning("Not enough data to emit event","emit")}on(t,e){let i=[];return Object(c.b)(t,e)?(this.call(s=>{let n=s;if(Object(c.x)(n)){let s=x(this,a).bus.on(t,e,n);null!=s&&i.push(s)}},"on"),i):(x(this,r).error("Incorrect arguments","on"),i)}detach(t,e){Object(c.b)(t,e)||x(this,r).error("Incorrect arguments","detach"),this.call(i=>{let s=i;Object(c.x)(s)&&x(this,a).bus.detach(t,e,s)},"detach")}read(t,...e){x(this,a).interactions.fetch(t,this,...e)}change(t,...e){x(this,a).interactions.mutate(t,this,...e)}elements(){return x(this,s)}count(){return x(this,s).length}lock(){w(this,n,!0)}unlock(){w(this,n,!1)}isLocked(){return x(this,n)}refresh(){return Date.now()-x(this,o)<36e4}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap;var O,k,C,j,M,A,L=i(5),E=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},W=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class T{constructor(t,e,i){O.set(this,void 0),k.set(this,void 0),C.set(this,void 0),j.set(this,void 0),M.set(this,void 0),A.set(this,void 0),E(this,j,t),E(this,O,E(this,C,E(this,k,void 0))),E(this,M,null!=i?i:""),E(this,A,e)}createHeader(t,e,i){Object(c.x)(e)||(e=[]),Object(c.x)(i)||(i=[]);let s=new L.a("div");s.setClasses(W(this,j)+"-dialog-header",...e),E(this,O,s.build());let n=new L.a("span").setClasses(this.getPrefixedString("-dialog-title")).build(t);W(this,O).appendChild(n),this.appendChildrens(W(this,O),...i)}createFooter(t,e){Object(c.x)(t)||(t=[]),Object(c.x)(e)||(e=[]),E(this,C,new L.a("div").setClasses(this.getPrefixedString("-dialog-footer"),...t).build()),this.appendChildrens(W(this,C),...e)}createBody(t,e){Object(c.x)(t)||(t=[]),Object(c.x)(e)||(e=[]),E(this,k,new L.a("div").setClasses(this.getPrefixedString("-dialog-body"),...t).build()),this.appendChildrens(W(this,k),...e)}build(t){let e=[this.getPrefixedString("-dialog")];W(this,A)&&e.push(this.getPrefixedString("-reverse-auto"));let i=new L.a("div").setId(t).setClasses(...e).setAttributes({[this.getPrefixedString("-dialog")]:W(this,M)}).build(),s=new L.a("div").setClasses(this.getPrefixedString("-dialog-container")).build();return W(this,O)&&s.appendChild(W(this,O)),W(this,k)&&s.appendChild(W(this,k)),W(this,C)&&s.appendChild(W(this,C)),i.appendChild(s),i}appendChildrens(t,...e){Object(c.x)(e)&&e.forEach(e=>t.appendChild(e))}getPrefixedString(t){return W(this,j)+t}}O=new WeakMap,k=new WeakMap,C=new WeakMap,j=new WeakMap,M=new WeakMap,A=new WeakMap;var I,P,S,_,N,$,H,F,B=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},U=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class V{constructor(t,e,i){I.set(this,void 0),P.set(this,void 0),S.set(this,void 0),_.set(this,void 0),N.set(this,void 0),B(this,I,{yes:i.onYes,no:i.onNo,cancel:i.onCancel,ok:i.onOk}),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,B(this,P,t),B(this,S,e),this.reverse=!1,B(this,N,null),this.closeStr=U(this,P).setup.prefix+"-close",this.iconStr=U(this,P).setup.prefix+"-icon",B(this,_,void 0)}getId(){return U(this,S)}show(t){let e=document.getElementById(U(this,S));Object(c.x)(e)?this.updateElement(e):(e=this.createElement(),t.appendChild(e)),setTimeout(()=>{B(this,_,new y([e],U(this,P)));let t=U(this,_).on("closed",this.onClose.bind(this));B(this,N,t.length>0?t[0]:null),U(this,_).emit("open")},100)}updateElement(t){let e=t.querySelector(`.${this.prefix}-dialog-title`),i=t.querySelector(`.${this.prefix}-dialog-body>p`);U(this,P).interactions.mutate(()=>{e&&(e.innerHTML=this.title),i&&(i.innerHTML=this.content)},null)}onClose(t){try{if(Object(c.x)(t)&&t.state&&U(this,I)&&Object(c.x)(U(this,I)[t.state])){let e=U(this,I)[t.state];e&&e()}}finally{null!=U(this,N)&&(U(this,_)&&U(this,_).detach("closed",U(this,N)),B(this,N,null)),B(this,_,void 0)}}}I=new WeakMap,P=new WeakMap,S=new WeakMap,_=new WeakMap,N=new WeakMap;class G extends V{constructor(t,e,i){var s;super(t,e,i),$.set(this,void 0),B(this,$,e),this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new T(this.prefix,this.reverse);return t.createHeader(this.title,[],[new L.a("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody([],[new L.a("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new L.a("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: cancel"}).build("Cancel"),new L.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(U(this,$))}}$=new WeakMap;class q extends V{constructor(t,e,i){var s;super(t,e,i),H.set(this,void 0),B(this,H,e),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new T(this.prefix,this.reverse);return t.createHeader(this.title,[]),t.createBody([],[new L.a("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new L.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(U(this,H))}}H=new WeakMap;class D extends V{constructor(t,e,i){var s;super(t,e,i),F.set(this,void 0),B(this,F,e),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new T(this.prefix,this.reverse);return t.createHeader(this.title,[],[new L.a("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody([],[new L.a("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new L.a("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: no"}).build("No"),new L.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: yes"}).build("Yes")]),t.build(U(this,F))}}F=new WeakMap;var z,R,Y,J,K,Z=i(7),Q=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},X=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class tt{constructor(t){z.set(this,void 0),R.set(this,void 0),Y.set(this,void 0),J.set(this,void 0),K.set(this,void 0),Q(this,z,t),Q(this,R,new Z.a),X(this,R).setCallback(this.onMove.bind(this)),Q(this,K,void 0),Q(this,Y,!1),Q(this,J,null)}attach(){X(this,R).isAttached()||(X(this,R).attach(),Q(this,J,X(this,z).on(l.i.MOVE_LOCK,this.onMoveLock.bind(this))))}detach(){X(this,R).isAttached()&&(X(this,R).detach(),null!=X(this,J)&&X(this,z).detach(l.i.MOVE_LOCK,X(this,J)))}isAttached(){return X(this,R).isAttached()}onMove(t){if(!X(this,Y))switch(t.type){case"down":Q(this,K,t);break;case"move":X(this,K)&&(X(this,z).emit(l.i.GLOBAL_MOVE,null,X(this,K)),Q(this,K,void 0)),X(this,z).emit(l.i.GLOBAL_MOVE,null,t);break;case"up":if(X(this,K))return void Q(this,K,void 0);X(this,z).emit(l.i.GLOBAL_MOVE,null,t)}}onMoveLock(t){Q(this,Y,t)}}z=new WeakMap,R=new WeakMap,Y=new WeakMap,J=new WeakMap,K=new WeakMap;var et,it,st,nt,rt,ot,at,ht,ct=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},ut=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},lt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class dt{constructor(t,e,i){et.set(this,void 0),it.set(this,void 0),st.set(this,void 0),nt.set(this,void 0),rt.set(this,void 0),ot.set(this,void 0),at.set(this,void 0),ht.set(this,void 0),ut(this,et,t),ut(this,it,`.${e}-toast`),ut(this,st,e+"-toast"),ut(this,nt,e+"-active"),ut(this,rt,i),ut(this,ot,!1),ut(this,at,e+"-toast-animation-in"),ut(this,ht,e+"-toast-animation-out")}show(t){return ct(this,void 0,void 0,(function*(){if(lt(this,ot))return!1;ut(this,ot,!0);let e=document.querySelector(lt(this,it));return Object(c.x)(e)||(e=document.createElement("div"),e.classList.add(lt(this,st)),document.body.appendChild(e),yield Object(c.F)(10)),lt(this,et).mutate(()=>{e.textContent=t,e.classList.add(l.a.animProgress),e.classList.add(lt(this,at))},this),yield Object(c.F)(lt(this,rt)),lt(this,et).mutate(()=>{e.classList.remove(l.a.animProgress),e.classList.remove(lt(this,at)),e.classList.add(lt(this,nt))},this),yield Object(c.F)(3e3),lt(this,et).mutate(()=>{e.classList.add(l.a.animProgress),e.classList.add(lt(this,ht))},this),setTimeout(()=>{lt(this,et).mutate(()=>{e.classList.remove(l.a.animProgress),e.classList.remove(lt(this,ht)),e.classList.remove(lt(this,nt))},this),ut(this,ot,!1)},lt(this,rt)),!0}))}}et=new WeakMap,it=new WeakMap,st=new WeakMap,nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,at=new WeakMap,ht=new WeakMap;var pt,ft,vt,mt,gt,bt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},wt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class yt{constructor(t){pt.set(this,void 0),ft.set(this,void 0),vt.set(this,void 0),mt.set(this,void 0),gt.set(this,void 0),wt(this,gt,t),wt(this,ft,p.a.get("CollectionManager")),wt(this,pt,[]),wt(this,vt,!1),wt(this,mt,"")}setElements(t){wt(this,pt,t)}setToggle(t){wt(this,mt,t)}addAnimationClass(t,e,i,s){e.classList.add(l.a.animProgress),t.classList.add(s),e.classList.add(i)}setFinalClasses(t,e,i,s){e.classList.remove(l.a.animProgress),t.classList.remove(s),e.classList.remove(i),t.classList.remove(xt(this,mt)),e.classList.add(xt(this,mt))}verifyIndex(t,e,i){return t>=0&&t!==e&&t<i}setCurrent(t,e){return bt(this,void 0,void 0,(function*(){return this.lock(),xt(this,ft).debug(`Switching index from: ${e} to ${t}`),e>-1&&xt(this,pt)[e].classList.remove(xt(this,mt)),xt(this,pt)[t].classList.add(xt(this,mt)),this.unlock(),!0}))}setCurrentWithAnimation(t,e,i,s,n){return bt(this,void 0,void 0,(function*(){this.lock(),xt(this,ft).debug(`Switching index from: ${n} to ${t}`);const r=xt(this,pt)[n],o=xt(this,pt)[t];return xt(this,gt).mutate(this.addAnimationClass,this,r,o,e,i),setTimeout(()=>{xt(this,gt).mutate(this.setFinalClasses,this,r,o,e,i),this.unlock()},s),!0}))}getCurrentIndex(){if(!Object(c.x)(xt(this,mt)))return-1;let t=this.count();for(let e=0;e<t;e++)if(xt(this,pt)[e].classList.contains(xt(this,mt)))return e;return-1}elements(){return xt(this,pt)}check(){return xt(this,vt)?(xt(this,ft).warning("Object locked. Operation in progress","Check"),!1):Object(c.x)(xt(this,mt))?!(this.count()<=0)||(xt(this,ft).warning("Elements list is empty","Check"),!1):(xt(this,ft).warning("Toggle is not set. Call setToggleClass","Check"),!1)}count(){return xt(this,pt)?xt(this,pt).length:-1}lock(){wt(this,vt,!0)}unlock(){wt(this,vt,!1)}}pt=new WeakMap,ft=new WeakMap,vt=new WeakMap,mt=new WeakMap,gt=new WeakMap;var Ot,kt,Ct,jt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Mt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},At=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Lt{constructor(t,e){Ot.set(this,void 0),kt.set(this,void 0),Ct.set(this,void 0),Mt(this,Ot,p.a.get("CollectionManager")),Mt(this,Ct,new yt(e)),At(this,Ct).setElements(t),Mt(this,kt,Date.now())}setToggle(t){At(this,Ct).setToggle(t)}setElements(t){At(this,Ct).setElements(t)}click(t){At(this,Ct).elements().forEach((e,i)=>{e.addEventListener("click",()=>{this.set(i).then(()=>{t&&t(e,i)})})})}next(){return jt(this,void 0,void 0,(function*(){if(!At(this,Ct).check())return!1;let t=At(this,Ct).getCurrentIndex()+1;return this.set(t>=this.length()?0:t)}))}previous(){return jt(this,void 0,void 0,(function*(){if(!At(this,Ct).check())return!1;let t=At(this,Ct).getCurrentIndex()-1;return this.set(t<0?this.length()-1:t)}))}set(t){return jt(this,void 0,void 0,(function*(){let e=At(this,Ct).getCurrentIndex();return!(!At(this,Ct).check()||!At(this,Ct).verifyIndex(t,e,this.length()))&&At(this,Ct).setCurrent(t,e)}))}setWithAnimation(t,e,i,s){return jt(this,void 0,void 0,(function*(){let n=At(this,Ct).getCurrentIndex();return!(!At(this,Ct).check()||!At(this,Ct).verifyIndex(t,n,this.length()))&&At(this,Ct).setCurrentWithAnimation(t,e,i,s,n)}))}getCurrentIndex(){return At(this,Ct).getCurrentIndex()}length(){return At(this,Ct).count()}refresh(){return this.length()>0&&Date.now()-At(this,kt)>36e4}}Ot=new WeakMap,kt=new WeakMap,Ct=new WeakMap;var Et,Wt,Tt,It=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Pt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},St=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _t{constructor(t){Et.set(this,void 0),Wt.set(this,void 0),Tt.set(this,void 0),Pt(this,Et,null!=t?t:[]),Pt(this,Tt,p.a.get("CuiPluginManager")),Pt(this,Wt,[])}init(t){St(this,Tt).debug("Plugins initialization started: "+St(this,Et).length),Pt(this,Wt,St(this,Et).filter(t=>Object(c.x)(t.mutation))),St(this,Et).forEach(e=>{e.init(t),t.setup.plugins[e.description]=e.setup}),St(this,Tt).debug("Plugins have been initialized")}get(t){if(Object(c.x)(t))return St(this,Et).find(e=>e.name===t)}onMutation(t){return It(this,void 0,void 0,(function*(){let e=[];return St(this,Wt).forEach(i=>{e.push(i.mutation(t))}),!(yield Promise.all(e)).find(t=>{})}))}}Et=new WeakMap,Wt=new WeakMap,Tt=new WeakMap;var Nt,$t,Ht,Ft,Bt,Ut,Vt,Gt,qt,Dt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},zt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Rt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Yt{constructor(t,e,i){Nt.set(this,void 0),$t.set(this,void 0),Ht.set(this,void 0),Ft.set(this,void 0),Bt.set(this,void 0),Ut.set(this,void 0),Vt.set(this,void 0),Gt.set(this,void 0),qt.set(this,void 0),l.l.prefix=t.prefix,l.l.logLevel=t.logLevel,zt(this,Bt,new _t(e)),zt(this,Ut,null!=i?i:[]),zt(this,Ft,new f.a(t)),zt(this,Nt,p.a.get("CuiInstance")),zt(this,Vt,t.root),zt(this,Gt,new tt(Rt(this,Ft).bus)),zt(this,$t,void 0),zt(this,Ht,void 0),zt(this,qt,[])}init(){var t;if(Rt(this,Nt).debug("Instance started","init"),!Object(c.x)(window.MutationObserver))throw new v.e("Mutation observer does not exists");zt(this,Ht,new dt(Rt(this,Ft).interactions,Rt(this,Ft).setup.prefix,null!==(t=Rt(this,Ft).setup.animationTimeLong)&&void 0!==t?t:0)),zt(this,qt,Rt(this,Ut).map(t=>t.attribute));const e=Object(c.x)(Rt(this,qt))?Rt(this,Vt).querySelectorAll(Object(c.B)(Rt(this,qt))):null;if(Object(c.x)(e)){Rt(this,Nt).debug(`Initiating ${e.length} elements`);try{e.forEach(t=>{Object(c.D)(t,Rt(this,Ut),Rt(this,qt),Rt(this,Ft))})}catch(t){Rt(this,Nt).exception(t)}}return Rt(this,Nt).debug("Init plugins","init"),Rt(this,Bt).init(Rt(this,Ft)),Object(c.b)(Rt(this,Ut),Rt(this,qt))&&(Rt(this,Nt).debug("Init mutation observer","init"),zt(this,$t,new d.b(Rt(this,Vt),Rt(this,Ft))),Rt(this,$t).setComponents(Rt(this,Ut)).setAttributes(Rt(this,qt)),Rt(this,$t).setPlugins(Rt(this,Bt)),Rt(this,$t).start()),Rt(this,Nt).debug("Setting CSS globals","init"),Rt(this,Ft).interactions.mutate(()=>{Rt(this,Ft).setProperty(l.g.animationTimeLong,Rt(this,Ft).setup.animationTimeLong+"ms"),Rt(this,Ft).setProperty(l.g.animationTime,Rt(this,Ft).setup.animationTime+"ms"),Rt(this,Ft).setProperty(l.g.animationTimeShort,Rt(this,Ft).setup.animationTimeShort+"ms")},null),Rt(this,Gt).attach(),Rt(this,Ft).bus.emit(l.i.INSTANCE_INITIALIZED,null),this}finish(){Rt(this,$t)&&Rt(this,$t).stop(),Rt(this,Gt).detach(),Rt(this,Ft).bus.emit(l.i.INSTANCE_FINISHED,null)}get(t){const e=this.all(t);if(!e)return;return new y(e,Rt(this,Ft))}collection(t){const e=this.all(t);if(!Object(c.x)(e))return;return new Lt(e,Rt(this,Ft).interactions)}toast(t){return Dt(this,void 0,void 0,(function*(){return!!Object(c.b)(t,Rt(this,Ht))&&Rt(this,Ht).show(t)}))}select(t){return document.querySelector(t)}all(t){const e=document.querySelectorAll(t);if(Object(c.x)(e))return[...e]}getUtils(){return Rt(this,Ft)}on(t,e,i){Object(c.b)(t,e)||Rt(this,Nt).error("Incorrect arguments","on"),Rt(this,Ft).bus.on(t,e,i)}detach(t,e){Object(c.b)(t,e)||Rt(this,Nt).error("Incorrect arguments","detach"),Rt(this,Ft).bus.detach(t,e)}detachAll(t){Object(c.x)(t)||Rt(this,Nt).error("Incorrect arguments","detachAll"),Rt(this,Ft).bus.detachAll(t)}emit(t,e,...i){if(!Object(c.b)(t,e))return void Rt(this,Nt).warning("Not enough data to emit event","emit");let s=("string"==typeof e?document.querySelector(e):e).$cuid;Object(c.x)(s)?Rt(this,Ft).bus.emit(t,s,...i):Rt(this,Nt).warning("Element is not a cUI element","emit")}alert(t,e,i){let s=class{static get(t,e,i,s){return"Info"===e?new q(s,t,i):"YesNoCancel"===e?new D(s,t,i):"OkCancel"===e?new G(s,t,i):void 0}}.get(t,e,i,Rt(this,Ft));s?s.show(Rt(this,Vt)):Rt(this,Nt).error("Possibly incorrect alert type")}getPlugin(t){return Rt(this,Bt).get(t)}createCuiElement(t,e,i){return Object(c.x)(e)&&Rt(this,qt).includes(e)?!!Object(c.a)(t,e,i)||(Rt(this,Nt).error("Element cannot be created: Missing data"),!1):(Rt(this,Nt).error("Element cannot be created: Unknown attribute"),!1)}}Nt=new WeakMap,$t=new WeakMap,Ht=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,Ut=new WeakMap,Vt=new WeakMap,Gt=new WeakMap,qt=new WeakMap;var Jt,Kt=i(6),Zt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Qt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Xt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class te{constructor(){Jt.set(this,void 0),Qt(this,Jt,window)}init(t){var e,i;return Zt(this,void 0,void 0,(function*(){let s=Object.assign(Object.assign({},new u.b),t.setup);const n=s.app,r={result:!1};if(Object(c.x)(Xt(this,Jt)[n]))return r.message="Instance is already initialized",r;if(Object(c.x)(t.icons))for(let e in t.icons)l.j[e]=t.icons[e];if(Object(c.x)(t.swipeAnimations))for(let e in t.swipeAnimations)Kt.a[e]=t.swipeAnimations[e];try{Xt(this,Jt)[n]=new Yt(s,null!==(e=t.plugins)&&void 0!==e?e:[],null!==(i=t.components)&&void 0!==i?i:[]),Xt(this,Jt)[n].init()}catch(t){return console.error(t),r.message="An error occured during initialization",r}return r.result=!0,r}))}}Jt=new WeakMap;var ee,ie=i(14),se=i(15),ne=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},re=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},oe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};ee=new WeakMap;var ae=i(11),he=i(12),ce=i(13);const ue="0.2.4",le=ce.a,de=ae.a,pe=he.a;window.cuiInit=new class{constructor(){ee.set(this,void 0),re(this,ee,!1)}init(t){var e,i;return ne(this,void 0,void 0,(function*(){if(oe(this,ee))return console.log("Module is already initialized"),!1;const s=new te,n=Object(se.a)({autoLight:!0,autoPrint:!0}),r=Object(ie.a)({prefix:null===(e=t.setup)||void 0===e?void 0:e.prefix});let o=n;t.plugins&&(o=Object.assign(Object.assign({},n),t.plugins));let a=yield s.init({setup:t.setup,icons:t.icons,plugins:o,components:Object(c.x)(t.components)?[...r,...t.components]:r,swipeAnimations:t.swipeAnimations});return a.result?(re(this,ee,!0),!0):(console.error(`A cUI instance failed to initialize: [${null!==(i=a.message)&&void 0!==i?i:"#"}]`),console.log("Cui Light failed to init"),!1)}))}}}})}));
//# sourceMappingURL=index.min.js.map