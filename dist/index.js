!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("cui-light",[],e):"object"==typeof exports?exports["cui-light"]=e():t["cui-light"]=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=28)}([function(t,e,i){"use strict";i.d(e,"x",(function(){return r})),i.d(e,"n",(function(){return o})),i.d(e,"F",(function(){return h})),i.d(e,"f",(function(){return a})),i.d(e,"r",(function(){return c})),i.d(e,"s",(function(){return u})),i.d(e,"w",(function(){return l})),i.d(e,"g",(function(){return d})),i.d(e,"B",(function(){return p})),i.d(e,"u",(function(){return f})),i.d(e,"v",(function(){return g})),i.d(e,"a",(function(){return v})),i.d(e,"c",(function(){return m})),i.d(e,"p",(function(){return b})),i.d(e,"o",(function(){return k})),i.d(e,"m",(function(){return E})),i.d(e,"y",(function(){return O})),i.d(e,"j",(function(){return C})),i.d(e,"C",(function(){return M})),i.d(e,"A",(function(){return x})),i.d(e,"b",(function(){return S})),i.d(e,"t",(function(){return A})),i.d(e,"z",(function(){return T})),i.d(e,"E",(function(){return W})),i.d(e,"i",(function(){return L})),i.d(e,"D",(function(){return I})),i.d(e,"e",(function(){return N})),i.d(e,"q",(function(){return P})),i.d(e,"k",(function(){return D})),i.d(e,"h",(function(){return _})),i.d(e,"d",(function(){return H})),i.d(e,"l",(function(){return $}));var s=i(3),n=i(2);function r(t,e=!0){return null!=t&&(!e||!function(t){if("string"==typeof t)return 0===t.length;if("boolean"==typeof t)return t;if(Array.isArray(t))return 0===t.length;return!1}(t))}function o(t,e){if(!r(t)||!r(e))throw new s.b("Missing argument value");return`${t}-${e}`}function h(t){return new Promise(e=>setTimeout(()=>{e(!0)},t))}function a(t){if(!r(t))return null;let e=document.createElement("template");return e.innerHTML=t,e.content.children.length>0?e.content.children[0]:null}function c(t,e,i){return t<e?e:t>i?i:t}function u(t,e,i,s){return null==t||isNaN(t)?s:c(t,e,i)}function l(t,e){return e<0||e>1?0:t+t*e}function d(t,e){return e<0||e>1?0:t-t*e}function p(t){return r(t)?`[${t.join("],[")}]`:""}function f(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function g(){return window.matchMedia&&window.matchMedia("print").matches}function v(...t){if(!r(t))return!1;let e=t.length;for(let i=0;i<e;i++)if(!r(t[i]))return!1;return!0}function m(t){return t<=640?"small":t>640&&t<=960?"medium":t>960&&t<=1200?"large":"xlarge"}function w(t){let e=function(t){let e=null;if(r(t)&&t.startsWith("{")&&t.endsWith("}")){try{e=function(t){return t&&t.length>0?JSON.parse(t):{}}(t)}catch(t){console.error((i="An exception occured",s="Functions",n="parseJsonString",`[${(new Date).toLocaleString()}][${null!=s?s:"-"}][${null!=n?n:"-"}][${i}]`),t)}return e}var i,s,n;return null}(t.trim());return r(e)||(t.includes(";")||t.includes(":")?(e={},t.split(";").forEach(t=>{let i=t.split(":");2===i.length&&(e[i[0].trim()]=i[1].trim())})):e=t),e}function b(t){if(!r(t))return-1;let e=t.offsetTop-parseInt(y(t,"margin-top"))-parseInt(y(t,"padding-top"))-parseInt(y(t,"border-top-width"));return e<0?t.offsetTop:e}function k(t){if(!r(t))return-1;let e=t.offsetLeft-parseInt(y(t,"margin-left"))-parseInt(y(t,"padding-left"))-parseInt(y(t,"border-left-width"));return e<0?t.offsetLeft:e}function E(t,e){let i=parseInt(t);return isNaN(i)?e:i}function y(t,e){return r(t)&&r(e)?t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):null:null}function O(t,e,i){return r(t)&&t>=e&&t<=i}function C(t){return(null!=t?t:"")+"-active"}function M(t,e){return v(t,e)?w(t.getAttribute(e)):null}function x(t){return!!r(t)&&["y","t","true","yes"].includes(t.toLowerCase())}function S(t,e){return r(t)?x(t):e}function A(t,e){return r(t)?t.toLowerCase():e}function T(t){return"string"==typeof t}function W(t,e){return r(t)?t.replace("{prefix}",null!=e?e:""):t}function L(){let t=j(1,1e3),e=j(1,100);return`${Math.floor(Math.random()*e)}-${Math.floor(t)}`}function j(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function I(t,e,i,o){let h=t;h.$handlers={};let a=function(t,e){return t&&r(t.hasAttribute)?e.filter(e=>t.hasAttribute(e)):null}(t,i);r(a)&&(h.$cuid=t.hasAttribute(n.h)?t.getAttribute(n.h):function(t){return`${r(t)?t:"cui-element"}-${n.b.next().value}`}(t.tagName),t.setAttribute(n.h,h.$cuid),a.forEach(i=>{let n=e.find(t=>t.attribute===i);if(r(n))try{o.styleAppender.append(n.getStyle());let e=n.get(t,o);h.$handlers[n.attribute]=e,h.$handlers[n.attribute].handle(M(t,n.attribute))}catch(t){throw new s.f(t.message)}}))}function*N(){let t=0;for(;;){((yield t++)||t>2e5)&&(t=0)}}function P(t){let e=t.parentElement;return r(e)&&r(e.$cuid)?e:P(e)}function D(t){let e=0;return t?(Array.from(t.children).forEach(t=>{e+=t.offsetHeight}),e>0?e+2:e):-1}function _(t,e){if(v(t,e))for(let i in t)t.hasOwnProperty(i)&&e(i,t[i])}function H(t,e,i){let s=-1;switch(t){case"prev":s=e<=0?i-1:e-1;break;case"next":s=e<i-1?e+1:0;break;case"first":s=0;break;case"last":s=i-1;default:s=E(t,-1)}return s}function $(t,e){let i=t.length;if(t&&0!==i)for(let s=0;s<i;s++)if(e(t[s],s))return t[s]}},function(t,e,i){"use strict";i(26),i(3);var s=i(13);i.o(s,"CLASSES")&&i.d(e,"CLASSES",(function(){return s.CLASSES})),i.o(s,"CuiActionsFatory")&&i.d(e,"CuiActionsFatory",(function(){return s.CuiActionsFatory})),i.o(s,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return s.CuiActionsHelper})),i.o(s,"CuiActionsListFactory")&&i.d(e,"CuiActionsListFactory",(function(){return s.CuiActionsListFactory})),i.o(s,"EVENTS")&&i.d(e,"EVENTS",(function(){return s.EVENTS})),i.o(s,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return s.SCOPE_SELECTOR})),i.o(s,"boolStringOrDefault")&&i.d(e,"boolStringOrDefault",(function(){return s.boolStringOrDefault})),i.o(s,"calculateNextIndex")&&i.d(e,"calculateNextIndex",(function(){return s.calculateNextIndex})),i.o(s,"enumerateObject")&&i.d(e,"enumerateObject",(function(){return s.enumerateObject})),i.o(s,"getActiveClass")&&i.d(e,"getActiveClass",(function(){return s.getActiveClass})),i.o(s,"getChildrenHeight")&&i.d(e,"getChildrenHeight",(function(){return s.getChildrenHeight})),i.o(s,"getIntOrDefault")&&i.d(e,"getIntOrDefault",(function(){return s.getIntOrDefault})),i.o(s,"getName")&&i.d(e,"getName",(function(){return s.getName})),i.o(s,"getStringOrDefault")&&i.d(e,"getStringOrDefault",(function(){return s.getStringOrDefault})),i.o(s,"is")&&i.d(e,"is",(function(){return s.is})),i.o(s,"isInRange")&&i.d(e,"isInRange",(function(){return s.isInRange})),i.o(s,"isStringTrue")&&i.d(e,"isStringTrue",(function(){return s.isStringTrue})),i.o(s,"replacePrefix")&&i.d(e,"replacePrefix",(function(){return s.replacePrefix}));var n=i(14);i.o(n,"CLASSES")&&i.d(e,"CLASSES",(function(){return n.CLASSES})),i.o(n,"CuiActionsFatory")&&i.d(e,"CuiActionsFatory",(function(){return n.CuiActionsFatory})),i.o(n,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return n.CuiActionsHelper})),i.o(n,"CuiActionsListFactory")&&i.d(e,"CuiActionsListFactory",(function(){return n.CuiActionsListFactory})),i.o(n,"EVENTS")&&i.d(e,"EVENTS",(function(){return n.EVENTS})),i.o(n,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return n.SCOPE_SELECTOR})),i.o(n,"boolStringOrDefault")&&i.d(e,"boolStringOrDefault",(function(){return n.boolStringOrDefault})),i.o(n,"calculateNextIndex")&&i.d(e,"calculateNextIndex",(function(){return n.calculateNextIndex})),i.o(n,"enumerateObject")&&i.d(e,"enumerateObject",(function(){return n.enumerateObject})),i.o(n,"getActiveClass")&&i.d(e,"getActiveClass",(function(){return n.getActiveClass})),i.o(n,"getChildrenHeight")&&i.d(e,"getChildrenHeight",(function(){return n.getChildrenHeight})),i.o(n,"getIntOrDefault")&&i.d(e,"getIntOrDefault",(function(){return n.getIntOrDefault})),i.o(n,"getName")&&i.d(e,"getName",(function(){return n.getName})),i.o(n,"getStringOrDefault")&&i.d(e,"getStringOrDefault",(function(){return n.getStringOrDefault})),i.o(n,"is")&&i.d(e,"is",(function(){return n.is})),i.o(n,"isInRange")&&i.d(e,"isInRange",(function(){return n.isInRange})),i.o(n,"isStringTrue")&&i.d(e,"isStringTrue",(function(){return n.isStringTrue})),i.o(n,"replacePrefix")&&i.d(e,"replacePrefix",(function(){return n.replacePrefix}));i(6),i(7);var r=i(4);i.d(e,"CuiActionsFatory",(function(){return r.a})),i.d(e,"CuiActionsListFactory",(function(){return r.b}));i(18);var o=i(0);i.d(e,"boolStringOrDefault",(function(){return o.b})),i.d(e,"calculateNextIndex",(function(){return o.d})),i.d(e,"enumerateObject",(function(){return o.h})),i.d(e,"getActiveClass",(function(){return o.j})),i.d(e,"getChildrenHeight",(function(){return o.k})),i.d(e,"getIntOrDefault",(function(){return o.m})),i.d(e,"getName",(function(){return o.n})),i.d(e,"getStringOrDefault",(function(){return o.t})),i.d(e,"is",(function(){return o.x})),i.d(e,"isInRange",(function(){return o.y})),i.d(e,"isStringTrue",(function(){return o.A})),i.d(e,"replacePrefix",(function(){return o.E}));i(10),i(15);var h=i(27);i.o(h,"CLASSES")&&i.d(e,"CLASSES",(function(){return h.CLASSES})),i.o(h,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return h.CuiActionsHelper})),i.o(h,"EVENTS")&&i.d(e,"EVENTS",(function(){return h.EVENTS})),i.o(h,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return h.SCOPE_SELECTOR}));var a=i(2);i.d(e,"CLASSES",(function(){return a.a})),i.d(e,"EVENTS",(function(){return a.i})),i.d(e,"SCOPE_SELECTOR",(function(){return a.k}));i(20),i(5),i(17);var c=i(16);i.d(e,"CuiActionsHelper",(function(){return c.a}));i(12),i(11),i(19),i(21),i(8),i(9)},function(t,e,i){"use strict";i.d(e,"h",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"j",(function(){return o})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return c})),i.d(e,"f",(function(){return u})),i.d(e,"k",(function(){return l})),i.d(e,"g",(function(){return d})),i.d(e,"l",(function(){return p})),i.d(e,"i",(function(){return f})),i.d(e,"b",(function(){return g}));var s=i(0);const n="cuid",r={dark:"dark",animProgress:"animation-progress",print:"print",active:"active",swipingOn:"swiping-on"},o={close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 1.9999999,1.9999999 18,18"></path><path d="M 18,1.9999999 1.9999999,18"></path></svg>',accordion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 5.0000475,7.4490018 10.000024,12.551028 15,7.4490018"></path></svg>',special_menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path class="menu_handle_2" d="M 1,10 H 19"></path><path class="menu_handle_1" d="M 1,4.8571429 H 19"></path><path  class="menu_handle_3" d="M 1,15.142857 H 19"></path></svg>',special_fail:'<svg xmlns="http://www.w3.org/2000/svg" class="special-fail" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7.000001 A 43,43 0 0 1 92.999999,50 43,43 0 0 1 50,92.999999 43,43 0 0 1 7.0000011,50 43,43 0 0 1 50,7.000001 Z"></path><path class="arm_1" d="M 28.536809,28.536809 71.342023,71.342023"></path><path class="arm_2" d="M 71.342023,28.536809 28.536809,71.342023"></path></svg>',special_success:'<svg xmlns="http://www.w3.org/2000/svg" class="special-success" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7 A 43,43 0 0 1 93,50 43,43 0 0 1 50,93 43,43 0 0 1 7,50 43,43 0 0 1 50,7 Z"></path><path class="arm" d="M 22.988405,48.234784 36.946233,72.410453 75.516456,33.84023"></path></svg>'},h={light:"--cui-color-light-app-background",dark:"--cui-color-dark-app-background"},a={light:"--cui-color-light-background",dark:"--cui-color-dark-background "},c={light:"--cui-color-light-border",dark:"--cui-color-dark-border"},u={light:{base:"--cui-color-light-base",muted:"--cui-color-light-muted",active:"--cui-color-light-active"},dark:{base:"--cui-color-dark-base",muted:"--cui-color-dark-muted",active:"--cui-color-dark-active"},accent:{base:"--cui-color-primary",muted:"--cui-color-primary-muted",active:"--cui-color-primary-active"},secondary:{base:"--cui-color-secondary",muted:"--cui-color-secondary-muted",active:"--cui-color-secondary-active"},success:{base:"--cui-color-success",muted:"--cui-color-success-muted",active:"--cui-color-success-active"},warning:{base:"--cui-color-warning",muted:"--cui-color-warning-muted",active:"--cui-color-warning-active"},error:{base:"--cui-color-error",muted:"--cui-color-error-muted",active:"--cui-color-error-active"}},l=":scope ",d={fontSize:"--{prefix}-font-size",lineHeight:"--{prefix}-line-height",animationTime:"--{prefix}-animation-time",animationTimeLong:"--{prefix}-animation-time-long",animationTimeShort:"--{prefix}-animation-time-short",colorLightAppBackground:"--{prefix}-color-light-app-background",colorLightBackground:"--{prefix}-color-light-background",colorLightBorder:"--{prefix}-color-light-border",colorLightBase:"--{prefix}-color-light-base",colorLightActive:"--{prefix}-color-light-active",colorLightMuted:"--{prefix}-color-light-muted",colorDarkAppBackground:"--{prefix}-color-dark-app-background",colorDarkBackground:"--{prefix}-color-dark-background",colorDarkBorder:"--{prefix}-color-dark-border",colorDarkBase:"--{prefix}-color-dark-base",colorDarkActive:"--{prefix}-color-dark-active",colorDarkMuted:"--{prefix}-color-dark-muted",colorAccent:"--{prefix}-color-primary",colorAccentActive:"--{prefix}-color-primary-active",colorAccentMuted:"--{prefix}-color-primary-muted",colorAccentShade:"--{prefix}-color-primary-shade",colorAccentShadeDark:"--{prefix}-color-primary-shade-dark",colorSecondary:"--{prefix}-color-secondary",colorSecondaryActive:"--{prefix}-color-secondary-active",colorSecondaryMuted:"--{prefix}-color-secondary-muted",colorSecondaryShade:"--{prefix}-color-secondary-shade",colorSecondaryShadeDark:"--{prefix}-color-secondary-shade-dark",colorWarning:"--{prefix}-color-warning",colorWarningActive:"--{prefix}-color-warning-active",colorWarningMuted:"--{prefix}-color-warning-muted",colorWarningShade:"--{prefix}-color-warning-shade",colorWarningShadeDark:"--{prefix}-color-warning-shade-dark",colorSuccess:"--{prefix}-color-success",colorSuccessActive:"--{prefix}-color-success-active",colorSuccessMuted:"--{prefix}-color-success-muted",colorSuccessShade:"--{prefix}-color-success-shade",colorSuccessShadeDark:"--{prefix}-color-success-shade-dark",colorError:"--{prefix}-color-error",colorErrorActive:"--{prefix}-color-error-active",colorErrorMuted:"--{prefix}-color-error-muted",colorErrorShade:"--{prefix}-color-error-shade",colorErrorShadeDark:"--{prefix}-color-error-shade-dark",inputBackground:"--{prefix}-input-background-color",colorShade:"--{prefix}-color-shade",colorShadeDarker:"--{prefix}-color-shade-darker",colorShadeLight:"--{prefix}-color-shade-light",colorShadeLighter:"--{prefix}-color-shade-light-lighter",outline:"--{prefix}-outline",borderRadius:"--{prefix}-border-radius",padding:"--{prefix}-padding",margin:"--{prefix}-margin",scrollbarWidth:"--{prefix}-scrollbar-width",componentSpace:"--{prefix}-component-space"};class p{}p.logLevel="none",p.prefix="cui";const f={INSTANCE_INITIALIZED:"instance-initialized",INSTANCE_FINISHED:"instance-finished",RESIZE:"resize",OPEN:"open",OPENED:"opened",CLOSE:"close",CLOSED:"closed",TOGGLE:"toggle",TOGGLED:"toggled",SWITCH:"switch",SWITCHED:"switched",ON_SCROLL:"scroll",TARGET_CHANGE:"targetchange",INTERSECTION:"intersection",KEYDOWN:"keydown",SCROLLBY:"scrollby",WINDOW_CLICK:"windowclick",OFFSET:"offset",PROGRESS_CHANGE:"progresschange",PROGRESS_CHANGED:"progresschanged",CHANGE:"change",CHANGED:"changed",GLOBAL_MOVE:"globalmove",MOVE_LOCK:"movelock"},g=Object(s.e)()},function(t,e,i){"use strict";i.d(e,"e",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return h})),i.d(e,"f",(function(){return a})),i.d(e,"a",(function(){return c}));class s extends Error{constructor(t,e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=t}}class n extends s{constructor(t){super("ItemNotFoundError",t)}}class r extends s{constructor(t){super("ArgumentError",t)}}class o extends s{constructor(t){super("CuiInstanceInitError",t)}}class h extends s{constructor(t){super("CuiScrollSpyOutOfRangeError",t)}}class a extends s{constructor(t){super("RegisterElementError",t)}}class c extends s{constructor(t){super("AnimatorError",t)}}},function(t,e,i){"use strict";i.d(e,"c",(function(){return u})),i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return g}));var s,n,r,o,h=i(0),a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},c=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class u{constructor(t){s.set(this,void 0),a(this,s,t)}add(t,e){Object(h.a)(t,c(this,s))&&!t.classList.contains(c(this,s))&&t.classList.add(c(this,s))}remove(t,e){Object(h.a)(t,c(this,s))&&t.classList.contains(c(this,s))&&t.classList.remove(c(this,s))}toggle(t,e){Object(h.a)(t,c(this,s))&&(t.classList.contains(c(this,s))?t.classList.remove(c(this,s)):t.classList.add(c(this,s)))}}s=new WeakMap;class l{constructor(t){n.set(this,void 0),a(this,n,t)}add(t,e){switch(c(this,n)){case"dark-mode":e.setLightMode("dark");break;case"light-mode":e.setLightMode("light")}}remove(t,e){switch(c(this,n)){case"dark-mode":e.setLightMode("light");break;case"light-mode":e.setLightMode("dark")}}toggle(t,e){switch(c(this,n)){case"dark-mode":case"light-mode":this.setDarkMode(e)}}setDarkMode(t){"dark"===t.getLightMode()?t.setLightMode("light"):t.setLightMode("dark")}}n=new WeakMap;class d{constructor(t){var e,i;r.set(this,void 0),o.set(this,void 0),e=this,i=this,[{set value(t){a(e,r,t)}}.value,{set value(t){a(i,o,t)}}.value]=t.split(",")}add(t,e){Object(h.a)(t,c(this,r),c(this,o))&&t.setAttribute(c(this,r),c(this,o))}remove(t,e){Object(h.a)(t,c(this,r),c(this,o))&&t.hasAttribute(c(this,r))&&t.removeAttribute(c(this,r))}toggle(t,e){Object(h.a)(t,c(this,r),c(this,o))&&(t.hasAttribute(c(this,r))?t.removeAttribute(c(this,r)):t.setAttribute(c(this,r),c(this,o)))}}r=new WeakMap,o=new WeakMap;class p{constructor(){}add(t,e){}remove(t,e){}toggle(t,e){}}class f{static get(t){if(!Object(h.x)(t))return new p;switch(t[0]){case".":return new u(t.substring(1));case"~":return new l(t.substring(1));case"&":return new d(t.substring(1));default:return new u(t)}}}class g{static get(t){if(!Object(h.x)(t))return[];return t.split(",").map(t=>f.get(t.trim()))}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i(15),n=i(2);class r{static get(t,e){return new s.a(t,null!=e?e:n.l.logLevel)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}));class s{constructor(){this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.plugins={}}fromInit(t){return this.prefix=t.prefix,this.logLevel=t.logLevel,this.cacheSize=t.cacheSize,this.autoLightMode=t.autoLightMode,this.animationTime=t.animationTime,this.animationTimeShort=t.animationTimeShort,this.animationTimeLong=t.animationTimeLong,this.scrollThreshold=t.scrollThreshold,this.resizeThreshold=t.resizeThreshold,this}}class n{constructor(){this.prefix="cui",this.app="$cui",this.logLevel="warning",this.interaction="async",this.animationTime=300,this.animationTimeShort=150,this.animationTimeLong=500,this.cacheSize=500,this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.root=document.body,this.busSetup=void 0}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return P}));var s,n,r=i(6),o=i(17),h=i(18),a=i(0),c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t){s.set(this,void 0),n.set(this,void 0),c(this,s,new h.a),c(this,n,null!=t?t:500)}put(t,e){Object(a.x)(t)&&(this.has(t)?u(this,s).update(t,e):(this.clean(),u(this,s).add(t,e)))}get(t){if(!Object(a.x)(t))return null;if(this.has(t)){let e=u(this,s).get(t);if(e.refresh())return e;u(this,s).remove(t)}return null}has(t){return!!Object(a.x)(t)&&u(this,s).containsKey(t)}remove(t){return!!Object(a.x)(t)&&(!!this.has(t)&&(u(this,s).remove(t),!0))}clear(){u(this,s).clear()}clean(){u(this,s).keys().length>=u(this,n)&&u(this,s).remove(u(this,s).keys()[0])}}s=new WeakMap,n=new WeakMap;var d,p,f,g,v=i(19),m=i(2),w=i(20),b=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},k=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class E{constructor(t){d.set(this,void 0),p.set(this,void 0),f.set(this,15),g.set(this,15),b(this,d,document.documentElement),b(this,p,t)}setAppBackground(t,e){this.setPropertyIn(m.c.light,t.toCssString()),this.setPropertyIn(m.c.dark,e.toCssString())}setComponentBackground(t,e){this.setPropertyIn(m.d.light,t.toCssString()),this.setPropertyIn(m.d.dark,e.toCssString())}setBordersColors(t,e){this.setPropertyIn(m.e.light,t.toCssString()),this.setPropertyIn(m.e.dark,e.toCssString())}setColor(t,e){var i,s;const n=m.f[t],r=e.base;if(!Object(a.x)(n)||!Object(a.x)(r))return;const o=null!==(i=e.muted)&&void 0!==i?i:r.clone().lighten(k(this,f)),h=null!==(s=e.active)&&void 0!==s?s:r.clone().darken(k(this,g));k(this,p).mutate(()=>{this.setProperty(n.base,r.toCssString()),this.setProperty(n.active,h.toCssString()),this.setProperty(n.muted,o.toCssString())},this)}setLightenFactor(t){b(this,f,Object(a.r)(t,0,100))}setDarkenFactor(t){b(this,g,Object(a.r)(t,0,100))}setProperty(t,e){k(this,d).style.setProperty(t,e)}setPropertyIn(t,e){Object(a.a)(e,t)&&k(this,p).mutate(this.setProperty,this,t,e)}}d=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap;var y,O,C,M,x,S,A,T=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},W=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class L{constructor(t,e){y.set(this,void 0),O.set(this,void 0),C.set(this,void 0),M.set(this,void 0),x.set(this,void 0),S.set(this,void 0),A.set(this,void 0),T(this,y,[]),T(this,O,[]),T(this,C,window.innerWidth),T(this,M,!1),T(this,x,Object(a.c)(window.innerWidth)),T(this,S,null!=e?e:0),T(this,A,t)}observe(t){W(this,y).findIndex(e=>e===t)<0&&W(this,y).push(t)}unobserve(t){let e=W(this,y).findIndex(e=>e===t);e>=0&&W(this,y).splice(e,1)}connect(){window.addEventListener("resize",this.listener.bind(this))}disconnect(){window.removeEventListener("resize",this.listener.bind(this))}listener(t){if(W(this,M))return;T(this,M,!0);const e=window.innerWidth-W(this,C);if(Math.abs(e)>=W(this,S)){const t=Object(a.c)(window.innerWidth);if(t!==W(this,x)){const e={current:t,previous:W(this,x),width:window.innerWidth,height:window.innerHeight,timestamp:Date.now()};W(this,A).emit(m.i.RESIZE,null,e),W(this,y).length>0&&(T(this,O,[]),W(this,y).forEach(t=>{W(this,O).push(t.resize(e))}),Promise.all(W(this,O)),T(this,O,[])),T(this,x,t)}}T(this,M,!1)}}y=new WeakMap,O=new WeakMap,C=new WeakMap,M=new WeakMap,x=new WeakMap,S=new WeakMap,A=new WeakMap;var j,I=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},N=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class P{constructor(t){j.set(this,void 0),this.setup=(new r.a).fromInit(t),this.interactions=o.a.get(t.interaction),this.cache=new l(this.setup.cacheSize),this.bus=v.a.get(t.busSetup),this.colors=new E(this.interactions),this.styleAppender=new w.a(this.interactions),I(this,j,new L(this.bus,this.setup.resizeThreshold)),N(this,j).connect()}setLightMode(t){const e=Object(a.n)(this.setup.prefix,m.a.dark),i=document.body.classList;"dark"!==t||i.contains(e)?"light"===t&&i.contains(e)&&this.interactions.mutate(()=>{i.remove(e)},this):this.interactions.mutate(()=>{i.add(e)},this)}getLightMode(){const t=Object(a.n)(this.setup.prefix,m.a.dark);return document.body.classList.contains(t)?"dark":"light"}setPrintMode(t){const e=Object(a.n)(this.setup.prefix,m.a.print),i=document.body.classList;t&&!i.contains(e)?i.add(e):!t&&i.contains(e)&&i.remove(e)}isPrintMode(){const t=Object(a.n)(this.setup.prefix,m.a.print);return document.body.classList.contains(t)}setProperty(t,e){let i=Object(a.E)(t,this.setup.prefix);document.documentElement.style.setProperty(i,e)}}j=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n,r,o,h=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h(this,s,t),h(this,r,!1)}setCallback(t){h(this,n,t)}isInProgress(){return a(this,o)}attach(){window.matchMedia&&!a(this,r)&&a(this,s)&&(window.matchMedia(a(this,s)).addEventListener("change",this.event.bind(this)),h(this,r,!0))}detach(){a(this,r)&&(window.matchMedia(a(this,s)).removeEventListener("change",this.event.bind(this)),h(this,r,!1))}isAttached(){return a(this,r)}event(t){if(!a(this,o)){h(this,o,!0);try{a(this,n).call(this,t)}catch(t){console.error(t)}finally{h(this,o,!1)}}}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var s,n,r,o,h,a,c,u,l=i(0),d=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},p=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class f{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d(this,s,t),d(this,n,!1),d(this,r,Object(l.s)(e,0,100,0)),d(this,o,d(this,h,0)),d(this,c,!1),d(this,u,t instanceof Window)}setCallback(t){d(this,a,t)}attach(){p(this,s).addEventListener("scroll",this.listener.bind(this)),d(this,c,!0)}detach(){p(this,s).removeEventListener("scroll",this.listener.bind(this)),d(this,c,!1)}isInProgress(){return p(this,n)}isAttached(){return p(this,c)}listener(t){let e=this.getLeft(),i=this.getTop();d(this,o,p(this,o)+e),d(this,h,p(this,h)+i),!p(this,n)&&this.passedThreshold()&&(d(this,n,!0),requestAnimationFrame(()=>{p(this,a).call(this,{base:t,top:i,left:e}),d(this,n,!1),d(this,o,0),d(this,h,0)}))}passedThreshold(){return p(this,r)<=0||p(this,o)>=p(this,r)||p(this,h)>=p(this,r)}getTop(){return p(this,u)?window.pageYOffset:p(this,s).scrollTop}getLeft(){return p(this,u)?window.pageXOffset:p(this,s).scrollLeft}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return h}));var s,n=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},r=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class o{constructor(){this.isScheduled=!1,s.set(this,void 0),this.raf=window.requestAnimationFrame.bind(window),this.writes=[],this.reads=[],n(this,s,5)}mutate(t,e,...i){this.reads.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.writes.push(this.createTask(t,e,...i)),this.schedule()}createTask(t,e,...i){return e||i?t.bind(e,...i):t}run(t){let e=null;for(;e=t.shift();)e()}schedule(t){if(!this.isScheduled){if(this.isScheduled=!0,t>=r(this,s))throw new Error("Fast Dom limit reached");this.raf(this.flush.bind(this,t))}}flush(t){let e=null!=t?t:0,i=null,s=this.writes,n=this.reads;try{this.run(n),this.run(s)}catch(t){i=t,console.error(t)}this.isScheduled=!1,i&&this.schedule(e+1),(this.writes.length||this.reads.length)&&this.schedule(t+1)}}s=new WeakMap;class h{constructor(){this.isRunning=!1,this.tasks=[],this.raf=window.requestAnimationFrame.bind(window)}mutate(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}schedule(){this.isRunning||(this.isRunning=!0,this.raf(this.flush.bind(this)))}flush(){let t=null;for(;t=this.tasks.shift();)try{t()}catch(t){}this.isRunning=!1}createTask(t,e,...i){return e||i?t.bind(e,...i):t}}},function(t,e,i){"use strict";i.d(e,"b",(function(){return p})),i.d(e,"a",(function(){return f}));var s,n,r,o=i(0),h=i(5),a=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(){this.queue=[],this.isBusy=!1}idMatches(t,e){return!Object(o.x)(t)||Object(o.x)(t)&&t==e}}class d extends l{constructor(t){super(),s.set(this,void 0),n.set(this,void 0),c(this,n,t),c(this,s,h.a.get("SimpleEventEmitHandler"))}handle(t,e,i){return a(this,void 0,void 0,(function*(){Object(o.x)(t)?(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&(yield this.perform()),this.isBusy=!1)):u(this,s).warning("No events provided")}))}perform(){return a(this,void 0,void 0,(function*(){let t=this.queue.shift();for(let e in t.events){let i=t.events[e];try{this.idMatches(t.cuid,i.$cuid)&&(yield u(this,n).execute(i.callback,t.args))}catch(t){u(this,s).error(t)}}}))}}s=new WeakMap,n=new WeakMap;class p extends l{constructor(t){super(),r.set(this,void 0),c(this,r,t)}handle(t,e,i){return a(this,void 0,void 0,(function*(){Object(o.x)(t)&&(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&this.perform(),this.isBusy=!1))}))}perform(){return a(this,void 0,void 0,(function*(){let t=this.queue.shift(),e=[];for(let i in t.events){let s=t.events[i];this.idMatches(t.cuid,s.$cuid)&&e.push(u(this,r).execute(s.callback,t.args))}return Promise.all(e)}))}}r=new WeakMap;class f{static get(t,e){switch(t){case"tasked":return new p(e);default:return new d(e)}}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))};class n{execute(t,e){return s(this,void 0,void 0,(function*(){e=null!=e?e:[],t(...e)}))}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));class s{constructor(t,e){this.level=e,this.component=t,this.id="-"}setLevel(t){this.level=t}setId(t){this.id=t}debug(t,e){"debug"===this.level&&console.log(this.prepString(t,"debug",e))}error(t,e){"error"!==this.level&&"debug"!==this.level&&"warning"!==this.level||console.error(this.prepString(t,"error",e))}warning(t,e){"warning"!==this.level&&"debug"!==this.level||console.warn(this.prepString(t,"warning",e))}exception(t,e){console.error(this.prepString(`An exception occured: ${t.name}: ${t.message}`,"exception",e)),"debug"===this.level&&console.error(t.stack)}performance(t,e){if("debug"!==this.level)return;let i=Date.now();t(),console.log(this.prepString(`Performance measure: ${Date.now()-i}ms`,"performance",e))}prepString(t,e,i){return`[${(new Date).toLocaleString()}][${e}][${this.component}][${null!=i?i:"-"}][${this.id}][${t}]`}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n=i(2),r=i(0),o=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},h=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),h(this,s,t)}performAction(t,e,i,r){return o(this,void 0,void 0,(function*(){return new Promise(o=>{a(this,s).mutate(()=>{e.add(t),t.classList.add(n.a.animProgress),setTimeout(()=>{a(this,s).mutate(()=>{e.remove(t),t.classList.remove(n.a.animProgress),r&&r(),o(!0)},null)},i)},null)})}))}performActions(t,e,i,r){return o(this,void 0,void 0,(function*(){return new Promise(o=>{a(this,s).mutate(()=>{e.forEach(e=>e.add(t)),t.classList.add(n.a.animProgress),setTimeout(()=>{a(this,s).mutate(()=>{e.forEach(e=>e.remove(t)),t.classList.remove(n.a.animProgress),r&&r(),o(!0)},null)},i)},null)})}))}performSwitchAction(t,e,i,h,c,u){return o(this,void 0,void 0,(function*(){return new Promise(o=>{a(this,s).mutate(()=>{i.add(t),t.classList.add(n.a.animProgress),Object(r.x)(e)&&(h.add(e),e.classList.add(n.a.animProgress)),setTimeout(()=>{a(this,s).mutate(()=>{i.remove(t),h.remove(e),t.classList.remove(n.a.animProgress),e.classList.remove(n.a.animProgress),c(),o(!0)},null)},u)},null)})}))}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(10);class n{static get(t){switch(t){case"async":return new s.a;default:return new s.b}}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n,r=i(3),o=i(0),h=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),n.set(this,void 0),h(this,s,[]),h(this,n,[]),t&&t.forEach(t=>{if(!Object(o.x)(t.key))throw h(this,s,[]),h(this,n,[]),new r.b("Key is empty");this.add(t.key,t.value)})}add(t,e){if(this.throwOnEmptyKey(t),this.containsKey(t))throw new Error("Key already exists");a(this,s).push(t),a(this,n).push(e)}remove(t){if(!Object(o.x)(t))return;let e=a(this,s).indexOf(t);e>=0&&(a(this,s).splice(e,1),a(this,n).splice(e,1))}get(t){this.throwOnEmptyKey(t);let e=this.indexOf(t);if(!(e<0))return a(this,n)[e]}containsKey(t){return Object(o.x)(t)&&this.indexOf(t)>=0}keys(){return a(this,s)}values(){return a(this,n)}indexOf(t){return Object(o.x)(t)?a(this,s).indexOf(t):-1}update(t,e){this.throwOnEmptyKey(t);let i=this.indexOf(t);if(i<0)throw new r.e(`Item with key [${t}] not found`);a(this,n)[i]=e}clear(){h(this,n,[]),h(this,s,[])}throwOnEmptyKey(t){if(!Object(o.x)(t))throw new r.b("Key is empty")}}s=new WeakMap,n=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return E}));var s,n,r,o,h,a,c,u,l=i(0),d=i(3),p=i(5),f=i(11),g=i(12),v=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},m=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},w=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class b{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),m(this,s,{}),m(this,r,t),m(this,o,null!=e?e:"CuiEventBus"),m(this,n,p.a.get(w(this,o)))}on(t,e,i){if(!Object(l.a)(t,e))throw new d.b("Missing argument");let r=w(this,o)+"-"+Object(l.i)();return w(this,s)[t]||(w(this,s)[t]={}),this.isAttached(w(this,s)[t],r,i)?null:(w(this,n).debug(`Attaching new event: [${t}] for: [${r}]`),w(this,s)[t][r]={callback:e,$cuid:this.getCuid(i)},r)}detach(t,e){if(!Object(l.a)(t,e))throw new d.b("Missing argument");let i=w(this,s)[t];w(this,n).debug(`Detaching item: [${e}] from [${t}]`),this.isAttached(i,e)&&delete i[e]}detachAll(t){Object(l.x)(t)&&w(this,s)[t]?delete w(this,s)[t]:w(this,n).error("Event name is missing or incorrect","detachAll")}emit(t,e,...i){return v(this,void 0,void 0,(function*(){if(!Object(l.x)(t))throw new d.b("Event name is incorrect");let o=w(this,s)[t];return Object(l.x)(o)&&(w(this,n).debug(`Emit: [${t}]`),yield w(this,r).handle(w(this,s)[t],e,i)),!0}))}isSubscribing(t,e,i){let n=w(this,s)[t];return this.isAttached(n,e,i)}detachByCuid(t,e){if(!Object(l.a)(t,e))return;let i=w(this,s)[t];Object(l.x)(i)&&Object(l.h)(Object.assign({},i),(t,s)=>{s.$cuid===e&&delete i[t]})}isAttached(t,e,i){return Object(l.x)(i)?Object(l.x)(t)&&Object(l.x)(e)&&Object(l.x)(t[e])&&t[e].$cuid==i.$cuid:Object(l.x)(t)&&Object(l.x)(e)&&Object(l.x)(t[e])}getCuid(t){return Object(l.x)(t)?t.$cuid:null}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap;class k{constructor(t){if(h.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),m(this,a,p.a.get("CuiEventBus")),m(this,c,[]),Object(l.x)(t)){w(this,a).debug("Initiating buses"),(1===t.length?t:t.sort((t,e)=>t.priority-e.priority)).forEach((t,e)=>{w(this,c).push(this.initBusInstance(t.name,t.handler)),m(this,h,Object.assign(Object.assign({},w(this,h)),this.mapEvents(t.eventsDef,e))),w(this,a).debug(`Bus ${t.name} has been initialized with number: ${e}`)}),w(this,c).push(this.initBusInstance("DefaultEventBus","tasked")),m(this,u,w(this,c).length-1),w(this,a).debug("Bus initialization finished")}}on(t,e,i){if(!Object(l.a)(t,e))throw new d.b("Missing argument");return this.get(t).on(t,e,i)}detach(t,e,i){if(!Object(l.a)(t,e))throw new d.b("Missing argument");this.get(t).detach(t,e,i)}detachAll(t){this.get(t).detachAll(t)}emit(t,e,...i){return v(this,void 0,void 0,(function*(){if(!Object(l.x)(t))throw new d.b("Event name is incorrect");return this.get(t).emit(t,e,...i)}))}isSubscribing(t,e,i){return this.get(t).isSubscribing(t,e,i)}detachByCuid(t,e){Object(l.a)(t,e)&&this.get(t).detachByCuid(t,e)}initBusInstance(t,e){if(!Object(l.a)(t,e))throw new d.b("Bus name or handler name is incorrect");let i=new g.a,s=f.a.get(e,i);return new b(s,t)}mapEvents(t,e){return t.reduce((t,i)=>t[i]?t:Object.assign(Object.assign({},t),{[i]:e}),{})}get(t){let e=w(this,h)[t];return w(this,c)[null!=e?e:w(this,u)]}}h=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap;class E{static get(t){return Object(l.x)(t)?new k(t):new b(new f.b(new g.a))}}new WeakMap,new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s,n=i(0),r=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class o{constructor(t){s.set(this,void 0),r(this,s,t)}append(t){if(Object(n.x)(t)){const e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),s=document.createTextNode(t);i.type="text/css",i.appendChild(s),e.appendChild(i)}return!0}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s,n,r,o,h,a=i(0),c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h.set(this,void 0),c(this,n,e),c(this,r,!1),c(this,o,!0)}setCallback(t){c(this,s,t)}isInProgress(){return u(this,r)}attach(){document.addEventListener("keydown",this.onKeyDown.bind(this)),u(this,o)&&document.addEventListener("keyup",this.onKeyUp.bind(this)),c(this,h,!0)}detach(){document.removeEventListener("keydown",this.onKeyDown.bind(this)),u(this,o)&&document.addEventListener("keyup",this.onKeyUp.bind(this)),c(this,h,!1)}isAttached(){return u(this,h)}onKeyDown(t){if(!u(this,r)){c(this,r,!0);try{Object(a.x)(u(this,n))&&!u(this,n).includes(t.code)||u(this,s).call(this,t)}catch(t){console.error(t)}finally{u(this,o)||c(this,r,!1)}}}onKeyUp(t){c(this,r,!1)}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap},function(t,e,i){"use strict";i.d(e,"b",(function(){return Ar})),i.d(e,"a",(function(){return Tr}));var s,n,r=i(6),o=i(0),h=i(23),a=i(2),c=i(8),u=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},l=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class d{constructor(t){this.description="Dark vs Light mode auto switcher",this.name="auto-light",s.set(this,void 0),n.set(this,void 0),this.description="CuiAutoLightModePlugin",this.setup=t}init(t){u(this,n,t),this.setup.autoLight&&"dark"===Object(o.u)()&&l(this,n).setLightMode("dark"),u(this,s,new c.a("(prefers-color-scheme: dark)")),l(this,s).setCallback(this.onChange.bind(this)),l(this,s).attach()}destroy(){l(this,s).detach()}onChange(t){var e;let i=l(this,n).setup.plugins[this.description];null!==(e=null==i?void 0:i.autoLight)&&void 0!==e&&e&&(t.matches?l(this,n).setLightMode("dark"):l(this,n).setLightMode("light"))}}s=new WeakMap,n=new WeakMap;var p=i(5),f=i(1),g=i(24);class v{static setLabel(t,e){t.hasAttribute("aria-label")||t.setAttribute("aria-label",e)}static setAria(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}static removeAria(t,e){t.hasAttribute(e)&&t.removeAttribute(e)}}var m,w,b,k,E,y,O,C,M,x=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},S=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},A=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class T{constructor(t){m.set(this,void 0),S(this,m,t)}hasClass(t,e){return t&&e.classList.contains(t)}setClass(t,e){this.setClasses([t],e)}setClasses(t,e){e&&e.classList.add(...t)}setClassesAs(t,...e){A(this,m).mutate(this.setClasses,this,e,t)}removeClass(t,e){this.removeClasses([t],e)}removeClasses(t,e){e&&e.classList.remove(...t)}removeClassesAs(t,...e){A(this,m).mutate(this.removeClasses,this,e,t)}removeAttribute(t,e){e&&e.hasAttribute(t)&&e.removeAttribute(t)}setStyle(t,e,i){t&&t.style&&Object(f.is)(i)&&(t.style[e]=i)}}m=new WeakMap;class W{constructor(t,e,i){w.set(this,void 0),this._log=p.a.get(t),this.utils=i,this.element=e,this.cuid=e.$cuid,this.isLocked=!1,this._log.setId(this.cuid),this.activeClassName=Object(f.getActiveClass)(i.setup.prefix),this.helper=new T(i.interactions),S(this,w,[])}mutate(t,...e){this.utils.interactions.mutate(t,this,...e)}fetch(t,...e){this.utils.interactions.fetch(t,this,...e)}getEventName(t){return[t,this.cuid].join("-")}emitEvent(t,...e){A(this,w).includes(t)||A(this,w).push(t),this.utils.bus.emit(t,this.cuid,...e)}onEvent(t,e){return this.utils.bus.on(t,e,this.element)}detachEvent(t,e){null!=e&&(this.utils.bus.detach(t,e),e=null)}getId(){return this.cuid}checkLockAndWarn(t){return!!this.isLocked&&(this._log.warning("Component is locked",t),!0)}isActive(){return this.element.classList.contains(this.activeClassName)}detachEmiitedEvents(){A(this,w).forEach(t=>{this.utils.bus.detachByCuid(t,this.cuid),this._log.debug("Detaching event: "+t+" on component delete")})}}w=new WeakMap;class L extends W{constructor(t,e,i,s,n){super(t,e,n),b.set(this,void 0),this.args=s,this.actionsHelper=new f.CuiActionsHelper(n.interactions),this.prevArgs=null,this.isInitialized=!1,S(this,b,i)}handle(t){this._log.debug("Init","handle"),this.isInitialized?this._log.warning("Trying to initialize component again","handle"):(this.args.parse(t),this.element.classList.contains(A(this,b))||this.element.classList.add(A(this,b)),this.onHandle(),this.isInitialized=!0)}refresh(t){this._log.debug("Update","refresh"),this.isInitialized?(this.prevArgs=Object.assign({},this.args),this.args.parse(t),this.onRefresh()):this._log.error("Cannot update not initialized component","refresh")}destroy(){this._log.debug("Destroy","destroy"),this.onRemove(),this.detachEmiitedEvents(),this.isInitialized=!1}}b=new WeakMap;class j extends L{constructor(t,e,i,s,n){super(t,e,i,s,n)}onHandle(){this.onInit()}onRefresh(){this.onUpdate()}onRemove(){this.onDestroy()}performAction(t,e,i,s){return x(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performActions(this.element,t,e,s))&&(i(),!0)}))}}class I extends L{constructor(t,e,i,s,n){super(t,e,i,s,n),k.set(this,void 0),E.set(this,void 0),y.set(this,void 0),O.set(this,void 0),C.set(this,void 0)}onHandle(){S(this,k,this.onEvent(f.EVENTS.OPEN,this.openFromEvent.bind(this))),S(this,E,this.onEvent(f.EVENTS.CLOSE,this.closeFromEvent.bind(this))),S(this,O,f.CuiActionsListFactory.get(this.args.openAct)),S(this,C,f.CuiActionsListFactory.get(this.args.closeAct)),this.onInit()}onRefresh(){this.args.openAct!==this.prevArgs.openAct&&S(this,O,f.CuiActionsListFactory.get(this.args.openAct)),this.args.closeAct!==this.prevArgs.closeAct&&S(this,C,f.CuiActionsListFactory.get(this.args.closeAct)),this.onUpdate()}onRemove(){this.detachEvent(f.EVENTS.CLOSE,A(this,E)),this.detachEvent(f.EVENTS.OPEN,A(this,k)),this.onDestroy()}open(t){return x(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?(this._log.warning("Component is already opened"),!1):((this.args.escClose||Object(f.is)(this.args.keyClose))&&S(this,y,this.onEvent(f.EVENTS.KEYDOWN,this.onKeyClose.bind(this))),this.onBeforeOpen()?(this.isLocked=!0,this.performAction(A(this,O),this.args.timeout,this.onActionFinish.bind(this,this.onAfterOpen.bind(this),f.EVENTS.OPENED,t),()=>{this.helper.setClass(this.activeClassName,this.element),v.setAria(this.element,"aria-expanded","true")})):void 0))}))}close(t){return x(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("close")&&(this.isActive()?(this.detachEvent(f.EVENTS.KEYDOWN,A(this,y)),this.onBeforeClose()?(this.isLocked=!0,this.performAction(A(this,C),this.args.timeout,this.onActionFinish.bind(this,this.onAfterClose.bind(this),f.EVENTS.CLOSED,t),()=>{this.helper.removeClass(this.activeClassName,this.element),v.setAria(this.element,"aria-expanded","false")})):void 0):(this._log.warning("Component is already closed"),!1))}))}performAction(t,e,i,s){return x(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performActions(this.element,t,e,s))&&(i(),!0)}))}openFromEvent(t){this.open(t)}closeFromEvent(t){this.close(t)}onActionFinish(t,e,i){t(),this.emitEvent(e,{timestamp:Date.now(),state:i}),this.isLocked=!1}onKeyClose(t){return x(this,void 0,void 0,(function*(){(this.args.escClose&&"Escape"===t.event.key||Object(f.is)(this.args.keyClose)&&t.event.key===this.args.keyClose)&&(yield this.close("Closed by key"))}))}}k=new WeakMap,E=new WeakMap,y=new WeakMap,O=new WeakMap,C=new WeakMap;class N extends L{constructor(t,e,i,s,n){super(t,e,i,s,n),M.set(this,void 0),S(this,M,new g.a(e)),A(this,M).onMutation(this.mutation.bind(this))}onHandle(){this.onInit(),A(this,M).observe()}onRefresh(){A(this,M).unobserve(),this.onUpdate(),A(this,M).observe()}onRemove(){A(this,M).unobserve(),this.onDestroy()}mutation(t){this._log.debug("Element mutation","mutation"),this.onMutation(t.reduce((t,e)=>("childList"!==e.type||(e.addedNodes.length>0&&t.added.push(...e.addedNodes),e.removedNodes.length>0&&t.removed.push(...e.removedNodes)),t),{added:[],removed:[]}))}}M=new WeakMap;var P,D,_,H,$=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},R=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class B{parse(t){Object(o.x)(t)||(this.icon=null),Object(o.z)(t)?this.icon=t:this.icon=Object(o.t)(t.icon,"")}}class V{constructor(t){this.attribute=(null!=t?t:"cui")+"-icon"}getStyle(){return null}get(t,e){return new F(t,e,this.attribute)}}class F extends j{constructor(t,e,i){super("CuiIconHandler",t,i,new B,e),P.set(this,void 0),$(this,P,null)}onInit(){null===R(this,P)?(this.addIcon(this.args.icon),$(this,P,this.args.icon)):this._log.debug("Icon already initialized")}onUpdate(){this.args.icon!==R(this,P)&&(this.addIcon(this.args.icon),$(this,P,this.args.icon))}onDestroy(){const t=this.element.querySelector("svg");Object(o.x)(t)&&t.remove(),$(this,P,null)}addIcon(t){const e=t?a.j[t]:null;if(!e)return;const i=new q(e).build(),s=this.element.querySelector("svg");Object(o.x)(s)&&s.remove(),this.element.childNodes.length>0?this.mutate(this.insertBefore,i):this.mutate(this.appendChild,i)}insertBefore(t){this.element.insertBefore(t,this.element.firstChild)}appendChild(t){this.element.appendChild(t)}}P=new WeakMap;class q{constructor(t){D.set(this,void 0),_.set(this,void 0),H.set(this,void 0),$(this,D,t),$(this,_,1)}setStyle(t){return $(this,H,t),this}setScale(t){return $(this,_,t),this}build(){let t=Object(o.f)(R(this,D));if(Object(o.x)(t)&&R(this,_)){(new z).append(t,R(this,_))}return t}}D=new WeakMap,_=new WeakMap,H=new WeakMap;class z{append(t,e){let i=t.hasAttribute("width")?parseInt(t.getAttribute("width")):20,s=t.hasAttribute("height")?parseInt(t.getAttribute("height")):20;t.setAttribute("width",(i*e).toString()),t.setAttribute("height",(s*e).toString())}}var U,K,G,Y,X,Z=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},J=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Q{constructor(){this.progress=0}parse(t){Object(o.x)(t)?Object(o.z)(t)?this.progress=Object(o.m)(t,0):this.progress=Object(o.m)(t.progress,0):this.progress=0}}class tt{constructor(t){this.attribute=(null!=t?t:"cui")+"-circle-progress",a.j.special_circle_progress='<svg xmlns="http://www.w3.org/2000/svg"  class="circle-progress" viewBox="0 0 100 100" width="100" height="100"><path class="circle-progress-path" d="M 50,5.3660047 A 44.867708,44.633994 0 0 1 94.867709,49.999997 44.867708,44.633994 0 0 1 50,94.633995 44.867708,44.633994 0 0 1 5.1322908,50.000001 44.867708,44.633994 0 0 1 50,5.3660047"></path></svg>'}getStyle(){return null}get(t,e){return new et(t,e,this.attribute)}}class et extends j{constructor(t,e,i){super("CuiCircleHandler",t,i,new Q,e),U.set(this,void 0),K.set(this,void 0),G.set(this,void 0),Y.set(this,void 0),X.set(this,void 0),Z(this,U,Z(this,K,0)),Z(this,G,null),Z(this,Y,i),Z(this,X,null)}onInit(){const t=new q(a.j.special_circle_progress).build(),e=this.element.querySelector("svg");Object(o.x)(e)&&e.remove(),this.element.appendChild(t),Z(this,G,this.element.querySelector(".circle-progress-path")),Z(this,K,J(this,G).getTotalLength()),Z(this,U,J(this,K)/100),this.fetch(this.readStyle),Z(this,X,this.onEvent(a.i.PROGRESS_CHANGE,this.onSetProgress.bind(this)))}onUpdate(){this.fetch(this.readStyle),this.emitEvent(a.i.PROGRESS_CHANGED,{timestamp:Date.now(),progress:this.args.progress})}onDestroy(){this.detachEvent(a.i.PROGRESS_CHANGE,J(this,X))}onSetProgress(t){Object(o.x)(t)&&this.element.setAttribute(J(this,Y),t)}updateStyle(t){J(this,G).style.strokeDashoffset=t}readStyle(){if(this.prevArgs&&this.args.progress===this.prevArgs.progress)return;const t=Object(o.r)(this.args.progress,0,100);this.mutate(this.updateStyle,J(this,K)-J(this,U)*t)}}U=new WeakMap,K=new WeakMap,G=new WeakMap,Y=new WeakMap,X=new WeakMap;class it{constructor(){this.spinner=null}parse(t){Object(o.z)(t)?this.spinner=t:this.spinner=Object(o.t)(t.spinner,null)}}class st{constructor(){this.attribute="data-spinner",a.j.special_circle_double='<svg xmlns="http://www.w3.org/2000/svg" class="circle-double" viewBox="0 0 100 100" width="100" height="100"><path class="circle-double-outer" d="M 50.000002,6.1070619 A 44.867709,44.126654 0 0 1 94.867708,50.233712 44.867709,44.126654 0 0 1 50.000002,94.36037 44.867709,44.126654 0 0 1 5.132292,50.233717 44.867709,44.126654 0 0 1 50.000002,6.1070619"></path><path class="circle-double-inner" d="M 50.000001,15.59972 A 35.383463,34.633995 0 0 1 85.383464,50.233711 35.383463,34.633995 0 0 1 50.000001,84.86771 35.383463,34.633995 0 0 1 14.616536,50.233716 35.383463,34.633995 0 0 1 50.000001,15.59972"></path></svg>'}getStyle(){return null}get(t,e){return new nt(t,e,this.attribute)}}class nt extends j{constructor(t,e,i){super("CuiSpinnerHandler",t,i,new it,e)}onInit(){const t=Object(o.x)(this.args.spinner)?a.j["spinner_"+this.args.spinner]:null;if(!Object(o.x)(t))return;const e=new q(t).build();this.element.innerHTML="",this.mutate(this.addSpinner,e,this.args.spinner)}onUpdate(){throw new Error("Method not implemented.")}onDestroy(){this.element.innerHTML=""}addSpinner(t,e){this.element.appendChild(t),this.element.classList.add("animation-spinner-"+e)}}var rt,ot=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class ht{constructor(){this.attribute="cui-dummy"}getStyle(){return null}get(t,e){return new at(t,e,this.attribute)}}class at extends W{constructor(t,e,i){super("CuiDummyHandler",t,e),rt.set(this,void 0),ot(this,rt,i)}handle(t){}refresh(t){}destroy(){}}rt=new WeakMap;var ct,ut,lt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},dt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class pt{constructor(t){this.attribute=Object(o.x)(t)?t+"scroll":"cui-scroll"}getStyle(){return null}get(t,e){return new gt(t,e,this.attribute)}}class ft{constructor(){this.target=null,this.parent=null,this.behavior="auto"}parse(t){this.target=Object(o.t)(t.target,""),this.parent=Object(o.t)(t.parent,""),this.behavior=Object(o.x)(t.behavior)&&"smooth"===t.behavior.toLowerCase()?"smooth":"auto"}}class gt extends j{constructor(t,e,i){super("CuiScrollHandler",t,i,new ft,e),ct.set(this,void 0),ut.set(this,void 0),this.element=t,lt(this,ct,null),lt(this,ut,null)}onInit(){this.element.addEventListener("click",this.onClick.bind(this)),this.setTargets()}onUpdate(){this.setTargets()}onDestroy(){this.element.removeEventListener("click",this.onClick.bind(this))}onClick(t){if(!Object(o.x)(dt(this,ut)))return;let e=Object(o.p)(dt(this,ut))-dt(this,ct).offsetTop,i=e-dt(this,ct).scrollTop;dt(this,ct).scrollBy({top:i,behavior:this.args.behavior}),this.emitEvent(a.i.ON_SCROLL,{to:e,by:i,target:dt(this,ut),parent:dt(this,ct),timestamp:Date.now()}),t.preventDefault()}setTargets(){lt(this,ut,document.querySelector(this.args.target)),Object(o.x)(dt(this,ut))&&lt(this,ct,Object(o.x)(this.args.parent)?document.querySelector(this.args.parent):dt(this,ut).parentElement)}}ct=new WeakMap,ut=new WeakMap;var vt,mt,wt,bt,kt,Et,yt,Ot,Ct=i(9),Mt=i(4),xt=i(3),St=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},At=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Tt{constructor(){this.offset=0}parse(t){if(!t.selector)throw new Error("Incorrect arguments");this.selector=t.selector,this.action=Mt.a.get(t.action),this.link=t.link,this.linkAction=Mt.a.get(t.linkAction),this.offset=Object(o.s)(parseInt(t.offset),-1,1,0)}}class Wt{constructor(t){this.attribute=(null!=t?t:"cui")+"-scrollspy"}getStyle(){return null}get(t,e){return new Lt(t,e,this.attribute)}}class Lt extends j{constructor(t,e,i){super("CuiScrollspyHandler",t,i,new Tt,e),vt.set(this,void 0),mt.set(this,void 0),wt.set(this,void 0),bt.set(this,void 0),kt.set(this,void 0),Et.set(this,void 0),yt.set(this,void 0),Ot.set(this,void 0),this.element=t,St(this,vt,new Ct.a(this.element,this.utils.setup.scrollThreshold)),St(this,mt,[]),St(this,wt,[]),St(this,bt,St(this,kt,St(this,Et,-1)))}onInit(){St(this,yt,this.element.scrollTop),St(this,Ot,this.element.scrollLeft),this.parseAttribute();let t=this.calculateCurrent(At(this,yt));this.setCurrent(t),this.setCurrentLink(t,-1),St(this,bt,t),At(this,vt).setCallback(this.onScroll.bind(this)),At(this,vt).attach()}onUpdate(){St(this,yt,this.element.scrollTop),St(this,Ot,this.element.scrollLeft),this.parseAttribute(),this.calculateCurrent(At(this,yt))}onDestroy(){At(this,vt).detach()}onScroll(t){let e=-1;if(e=Math.abs(t.left-At(this,Ot))>Math.abs(t.top-At(this,yt))?this.calculateCurrentLeft(t.left):this.calculateCurrent(t.top),e!==At(this,bt)){let i=this.setCurrent(e);this.setCurrentLink(e,At(this,bt)),St(this,bt,e),this.emitEvent(a.i.TARGET_CHANGE,{top:t.top,left:t.left,target:i,timestamp:Date.now()})}St(this,yt,this.element.scrollTop),St(this,Ot,this.element.scrollLeft)}parseAttribute(){St(this,wt,[...this.element.querySelectorAll(this.args.selector)]),St(this,mt,this.args.link?[...document.querySelectorAll(this.args.link)]:[]),St(this,kt,At(this,wt).length),St(this,Et,At(this,mt).length)}calculateCurrent(t){return At(this,wt).findIndex(e=>{let i=Object(o.p)(e)-this.element.offsetTop,s=i*this.args.offset;return i+s<=t&&t<i+e.clientHeight+s})}calculateCurrentLeft(t){return At(this,wt).findIndex(e=>{let i=Object(o.o)(e)-this.element.offsetLeft,s=i*this.args.offset;return i+s<=t&&t<i+e.clientWidth+s})}setCurrent(t){if(!Object(o.y)(t,0,At(this,kt)))throw new xt.d("New index is out of targets length");let e=At(this,wt)[t];return this.args.action.add(e),this.args.action.remove(At(this,wt)[At(this,bt)]),e}setCurrentLink(t,e){At(this,Et)>0&&(Object(o.y)(t,0,At(this,Et))&&this.args.linkAction.add(At(this,mt)[t]),Object(o.y)(e,0,At(this,Et))&&this.args.linkAction.remove(At(this,mt)[e]))}}vt=new WeakMap,mt=new WeakMap,wt=new WeakMap,bt=new WeakMap,kt=new WeakMap,Et=new WeakMap,yt=new WeakMap,Ot=new WeakMap;var jt,It,Nt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Pt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Dt{constructor(t){this.description="Auto print mode",this.name="auto-print",jt.set(this,void 0),It.set(this,void 0),this.description="CuiAutoPrintModePlugin",this.setup=t}init(t){Nt(this,It,t),this.setup.autoPrint&&Object(o.v)()&&Pt(this,It).setPrintMode(!0),Nt(this,jt,new c.a("print")),Pt(this,jt).setCallback(this.onChange.bind(this)),Pt(this,jt).attach()}destroy(){Pt(this,jt).detach()}onChange(t){var e,i;this.setup=Pt(this,It).setup.plugins[this.description],null!==(i=null===(e=this.setup)||void 0===e?void 0:e.autoPrint)&&void 0!==i&&i&&(console.log(t.matches),t.matches?Pt(this,It).setPrintMode(!0):Pt(this,It).setPrintMode(!1))}}jt=new WeakMap,It=new WeakMap;var _t,Ht,$t,Rt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Bt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Vt{constructor(t,e){_t.set(this,void 0),Ht.set(this,void 0),$t.set(this,void 0),Rt(this,_t,t),Rt(this,Ht,null!=e?e:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1])}setCallback(t){Rt(this,$t,t)}connect(){this.observer=new IntersectionObserver(Bt(this,$t),{root:Bt(this,_t),rootMargin:"0px",threshold:Bt(this,Ht)})}observe(t){this.observer.observe(t)}unobserve(t){this.observer.unobserve(t)}disconnect(){this.observer.disconnect()}}_t=new WeakMap,Ht=new WeakMap,$t=new WeakMap;var Ft,qt,zt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ut=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Kt{constructor(){this.target="div",this.action=Mt.a.get("dummy"),this.offset=0}parse(t){this.target=Object(o.x)(t.target)?t.target:"div",this.action=Object(o.x)(t.action)?Mt.a.get(t.action):Mt.a.get("dummy"),this.offset=Object(o.s)(parseInt(t.offset),0,1,0)}}class Gt{constructor(t){this.attribute=(null!=t?t:"cui")+"-intersection"}getStyle(){return null}get(t,e){return new Yt(t,e,this.attribute)}}class Yt extends j{constructor(t,e,i){super("CuiIntersectionHandler",t,i,new Kt,e),Ft.set(this,void 0),qt.set(this,void 0),zt(this,Ft,new Vt(this.element)),zt(this,qt,[])}onInit(){this.parseArguments(),Ut(this,Ft).setCallback(this.onIntersection.bind(this)),Ut(this,Ft).connect(),Ut(this,qt).forEach(t=>{Ut(this,Ft).observe(t)})}onUpdate(){this.parseArguments()}onDestroy(){Ut(this,Ft).disconnect()}parseArguments(){null!==this.prevArgs&&this.prevArgs.target===this.args.target||zt(this,qt,[...document.querySelectorAll(this.args.target)])}onIntersection(t,e){if(!Object(o.x)(Ut(this,qt)))return;let i=null;t.forEach(t=>{i=this.getAction(t.target),t.isIntersecting&&t.intersectionRatio>=this.args.offset?i.add(t.target):i.remove(t.target),this.emitIntersection(t)})}getAction(t){return t.hasAttribute("action")?Mt.a.get(t.getAttribute("action")):this.args.action}emitIntersection(t){this.emitEvent(a.i.INTERSECTION,{entry:t,offset:this.args.offset,timestamp:Date.now()})}}Ft=new WeakMap,qt=new WeakMap;var Xt,Zt,Jt,Qt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},te=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ee=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ie{constructor(t){Xt.set(this,void 0),this.target="",this.action=void 0,this.timeout=0,this.prevent=!1,this.state="",te(this,Xt,t)}parse(t){if(Object(o.x)(t)&&Object(o.z)(t))return this.target=t,this.action=t.actions,this.timeout=ee(this,Xt),this.prevent=!1,void(this.state="");this.target=Object(o.t)(t.target,null),this.action=t.action,this.timeout=Object(o.m)(t.timeout,ee(this,Xt)),this.prevent=Object(o.A)(t.prevent),this.state=t.state}}Xt=new WeakMap;class se{constructor(t){Zt.set(this,void 0),te(this,Zt,null!=t?t:"cui"),this.attribute=ee(this,Zt)+"-open"}getStyle(){return null}get(t,e){return new ne(t,e,this.attribute,ee(this,Zt))}}Zt=new WeakMap;class ne extends j{constructor(t,e,i,s){super("CuiOpenHandler",t,i,new ie(e.setup.animationTime),e),Jt.set(this,void 0),te(this,Jt,null),this.onClick=this.onClick.bind(this)}onInit(){this.element.addEventListener("click",this.onClick),te(this,Jt,this.onEvent(a.i.OPEN,this.onOpen.bind(this)))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(a.i.OPEN,ee(this,Jt))}onClick(t){this.onOpen(t),this.args.prevent&&t.preventDefault()}onOpen(t){if(this.isLocked)return;const e=this.getTarget(this.args.target);Object(o.x)(e)?(this.isLocked=!0,this.run(e).then(i=>{this.activateTarget(t,e,i)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return Qt(this,void 0,void 0,(function*(){let e=t.$cuid;if(Object(o.x)(e))return this.utils.bus.emit(a.i.OPEN,e,this.args.state);if(Object(o.a)(this.args.timeout,this.args.action)){let e=Mt.b.get(this.args.action);return this.actionsHelper.performActions(t,e,this.args.timeout)}return!0}))}activateTarget(t,e,i){Object(o.x)(e)&&this.helper.hasClass(this.activeClassName,e)&&this.helper.setClassesAs(e,this.activeClassName),i&&this.emitOpen(t)}emitOpen(t){this.emitEvent(a.i.OPENED,{event:t,state:this.args.state,timestamp:Date.now()})}getTarget(t){if(Object(o.x)(t))return document.querySelector(t);let e=this.element.parentElement,i=Object(o.x)(e)?e.querySelectorAll(`[${a.h}]`):void 0;return!i||i.length<2?void 0:Object(o.l)([...i],t=>t!==this.element)}}Jt=new WeakMap;var re,oe,he,ae,ce=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},ue=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},le=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class de{constructor(t){re.set(this,void 0),this.target="",this.action=null,this.timeout=t,this.prevent=!1,this.state=null,ue(this,re,t)}parse(t){if(Object(o.x)(t)&&Object(o.z)(t))return this.target=t,this.action=null,this.timeout=le(this,re),this.prevent=!1,void(this.state=null);this.target=Object(o.t)(t.target,null),this.action=t.action,this.timeout=Object(o.m)(t.timeout,le(this,re)),this.prevent=t.prevent&&Object(o.A)(t.prevent),this.state=t.state}}re=new WeakMap;class pe{constructor(t){oe.set(this,void 0),ue(this,oe,null!=t?t:"cui"),this.attribute=le(this,oe)+"-close"}getStyle(){return null}get(t,e){return new fe(t,e,this.attribute,le(this,oe))}}oe=new WeakMap;class fe extends j{constructor(t,e,i,s){super("CuiCloseHandler",t,i,new de(e.setup.animationTime),e),he.set(this,void 0),ae.set(this,void 0),ue(this,ae,null),this.onClick=this.onClick.bind(this)}onInit(){this.element.addEventListener("click",this.onClick),ue(this,ae,this.onEvent(a.i.CLOSE,this.onClose.bind(this)))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(a.i.CLOSE,le(this,ae))}onClick(t){this.onClose(t),this.args.prevent&&t.preventDefault()}onClose(t){if(this.isLocked)return;const e=this.getTarget();Object(o.x)(e)?(this.isLocked=!0,this.run(e).then(i=>{this.onActionFinish(t,e,i)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return ce(this,void 0,void 0,(function*(){let e=t.$cuid;if(Object(o.x)(e))return this.utils.bus.emit(a.i.CLOSE,e,this.args.state);if(Object(o.a)(this.args.action,this.args.timeout)){let e=Mt.b.get(this.args.action);return le(this,he).performActions(t,e,this.args.timeout)}return!0}))}onActionFinish(t,e,i){Object(o.x)(e)&&this.helper.hasClass(this.activeClassName,e)&&this.helper.removeClassesAs(e,this.activeClassName),i&&this.emitClose(t)}getTarget(){return Object(o.x)(this.args.target)?document.querySelector(this.args.target):Object(o.q)(this.element)}emitClose(t){this.emitEvent(a.i.CLOSED,{timestamp:Date.now(),state:this.args.state,event:t})}}he=new WeakMap,ae=new WeakMap;var ge,ve,me,we,be=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ke=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ee{constructor(){this.action=null,this.target=null}parse(t){Object(o.x)(t)&&Object(o.z)(t)?this.action=t:(this.target=Object(o.t)(t.target,null),this.action=t.action)}}class ye{constructor(t){this.attribute=(null!=t?t:"cui")+"-toggle"}getStyle(){return null}get(t,e){return new Oe(t,e,this.attribute)}}class Oe extends j{constructor(t,e,i){super("CuiToggleHandler",t,i,new Ee,e),ge.set(this,void 0),ve.set(this,void 0),me.set(this,void 0),we.set(this,void 0),be(this,ge,this.element),be(this,ve,e),be(this,me,null),be(this,we,[]),this.onClick=this.onClick.bind(this)}onInit(){be(this,ge,this.getTarget()),be(this,we,Mt.b.get(this.args.action)),this.element.addEventListener("click",this.onClick),be(this,me,this.onEvent(a.i.TOGGLE,this.toggle.bind(this)))}onUpdate(){be(this,ge,this.getTarget()),be(this,we,Mt.b.get(this.args.action))}onDestroy(){this.element.removeEventListener("click",this.onClick),this.detachEvent(a.i.TOGGLE,ke(this,me))}toggle(){ke(this,we).forEach(t=>t.toggle(ke(this,ge),ke(this,ve))),this.emitEvent(a.i.TOGGLED,{action:this.args.action,target:ke(this,ge),timestamp:Date.now()})}onClick(t){this.toggle(),t.preventDefault()}getTarget(){return Object(o.x)(this.args.target)?document.querySelector(this.args.target):this.element}}ge=new WeakMap,ve=new WeakMap,me=new WeakMap,we=new WeakMap;var Ce,Me=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Se{constructor(){}parse(t){}}class Ae{constructor(){this.attribute="cui-resize"}getStyle(){return null}get(t,e){return new Te(t,e,this.attribute)}}class Te extends j{constructor(t,e,i){super("CuiResizeHandler",t,i,new Se,e),Ce.set(this,void 0),Me(this,Ce,null)}onInit(){Me(this,Ce,this.utils.bus.on(a.i.RESIZE,this.resize.bind(this)))}onUpdate(){}onDestroy(){null!==xe(this,Ce)&&(this.utils.bus.detach(a.i.RESIZE,xe(this,Ce)),Me(this,Ce,null))}resize(t){console.log(t)}}Ce=new WeakMap;var We,Le,je=i(21),Ie=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ne=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Pe{constructor(t){We.set(this,void 0),Le.set(this,void 0),Ie(this,Le,t),Ie(this,We,new je.a(!0)),Ne(this,We).setCallback(this.onKeyDown.bind(this))}connect(){Ne(this,We).attach()}disconnect(){Ne(this,We).detach()}onKeyDown(t){Ne(this,Le).emit(a.i.KEYDOWN,null,{timestamp:Date.now(),event:t})}}We=new WeakMap,Le=new WeakMap;var De,_e=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},He=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class $e{constructor(t){this.name="keys-observer",De.set(this,void 0),this.description="CuiKeysObserverPlugin",this.setup=t}init(t){_e(this,De,new Pe(t.bus)),He(this,De).connect()}destroy(){He(this,De).disconnect()}}De=new WeakMap;var Re,Be,Ve,Fe,qe,ze,Ue,Ke=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ge=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ye{constructor(t,e){Re.set(this,void 0),Be.set(this,void 0),this.escClose=!1,this.outClose=!1,Ke(this,Re,e),Ke(this,Be,t)}parse(t){this.escClose=Object(o.A)(t.escClose),this.outClose=Object(o.A)(t.outClose),this.keyClose=t.keyClose,this.timeout=Object(o.m)(t.timeout,Ge(this,Re)),this.openAct=Object(o.t)(t.openAct,Object(o.E)(".{prefix}-dialog-default-in",Ge(this,Be))),this.closeAct=Object(o.t)(t.closeAct,Object(o.E)(".{prefix}-dialog-default-out",Ge(this,Be)))}}Re=new WeakMap,Be=new WeakMap;class Xe{constructor(t){Ve.set(this,void 0),Ke(this,Ve,null!=t?t:"cui"),this.attribute=Ge(this,Ve)+"-dialog"}getStyle(){return null}get(t,e){return new Ze(t,e,this.attribute,Ge(this,Ve))}}Ve=new WeakMap;class Ze extends I{constructor(t,e,i,s){super("CuiDialogHandler",t,i,new Ye(s,e.setup.animationTimeLong),e),Fe.set(this,void 0),qe.set(this,void 0),ze.set(this,void 0),Ue.set(this,void 0),Ke(this,qe,Object(o.E)("{prefix}-dialog-open",s)),Ke(this,ze,0),Ke(this,Ue,null)}onInit(){v.setAria(this.element,"aria-modal","")}onUpdate(){}onDestroy(){}onBeforeOpen(){return!this.isAnyActive()&&(Ke(this,ze,window.pageYOffset),!0)}onAfterOpen(){this.args.outClose&&Ke(this,Ue,this.onEvent(a.i.WINDOW_CLICK,this.onWindowClick.bind(this))),this.helper.setClass(Ge(this,qe),document.body),document.body.style.top=`-${Ge(this,ze)}px`}onAfterClose(){document.body.style.top="",window.scrollTo(0,-1*(Ge(this,ze)||0)),Ke(this,ze,0),this.helper.removeClass(Ge(this,qe),document.body),this.detachEvent(a.i.WINDOW_CLICK,Ge(this,Ue))}onBeforeClose(){return!0}isAnyActive(){return this.helper.hasClass(Ge(this,qe),document.body)}onWindowClick(t){let e=this.element.querySelector(Object(o.E)(".{prefix}-dialog-container",Ge(this,Fe)));e&&!e.contains(t.target)&&this.close("out").then(()=>{this._log.debug("Closed by click outside")})}}Fe=new WeakMap,qe=new WeakMap,ze=new WeakMap,Ue=new WeakMap;var Je,Qe,ti,ei,ii,si,ni,ri=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},oi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class hi{constructor(t,e){Je.set(this,void 0),Qe.set(this,void 0),ri(this,Je,t),this.escClose=!1,this.position="right",this.openAct=this.getDefaultOpenClass(),this.closeAct=this.getDefaultCloseClass(),ri(this,Qe,e),this.timeout=e,this.outClose=!1,this.keyClose=void 0}parse(t){Object(f.is)(t)&&(this.escClose=Object(f.isStringTrue)(t.escClose),this.outClose=Object(f.isStringTrue)(t.outClose),this.position=Object(f.getStringOrDefault)(t.position,"right"),this.openAct=Object(f.getStringOrDefault)(t.openAct,this.getDefaultOpenClass()),this.closeAct=Object(f.getStringOrDefault)(t.closeAct,this.getDefaultCloseClass()),this.timeout=Object(f.getIntOrDefault)(t.timeout,oi(this,Qe)),this.keyClose=t.keyClose)}getDefaultOpenClass(){return Object(f.replacePrefix)("right"===this.position?".{prefix}-offcanvas-default-right-in":".{prefix}-offcanvas-default-left-in",oi(this,Je))}getDefaultCloseClass(){return Object(f.replacePrefix)("right"===this.position?".{prefix}-offcanvas-default-right-out":".{prefix}-offcanvas-default-left-out",oi(this,Je))}}Je=new WeakMap,Qe=new WeakMap;class ai{constructor(t){ti.set(this,void 0),ri(this,ti,null!=t?t:"cui"),this.attribute=oi(this,ti)+"-off-canvas"}getStyle(){return null}get(t,e){return new ci(t,e,this.attribute,oi(this,ti))}}ti=new WeakMap;class ci extends I{constructor(t,e,i,s){super("CuiOffCanvasHandler",t,i,new hi(s,e.setup.animationTimeLong),e),ei.set(this,void 0),ii.set(this,void 0),si.set(this,void 0),ni.set(this,void 0),ri(this,ei,s),ri(this,ii,Object(f.replacePrefix)("{prefix}-off-canvas-open",s)),ri(this,ni,null),ri(this,si,0)}onInit(){this.mutate(()=>{this.setPositionLeft(),v.setAria(this.element,"aria-modal","")})}onUpdate(){this.setPositionLeft()}onDestroy(){}onBeforeOpen(){return!this.isAnyActive()&&(ri(this,si,window.pageYOffset),!0)}onAfterOpen(){this.args.outClose&&ri(this,ni,this.onEvent(f.EVENTS.WINDOW_CLICK,this.onWindowClick.bind(this))),this.helper.setClass(oi(this,ii),document.body),document.body.style.top=`-${scrollY}px`}onAfterClose(){this.detachEvent(f.EVENTS.WINDOW_CLICK,oi(this,ni)),this.helper.removeClass(oi(this,ii),document.body),document.body.style.top="",window.scrollTo(0,-1*oi(this,si))}onBeforeClose(){return!0}onWindowClick(t){const e=this.element.querySelector(Object(f.replacePrefix)(".{prefix}-off-canvas-container",oi(this,ei)));e&&!e.contains(t.target)&&this.close()}isAnyActive(){return this.helper.hasClass(oi(this,ii),document.body)}setPositionLeft(){let t=Object(f.getName)(oi(this,ei),"left");"left"!==this.args.position||this.helper.hasClass(t,this.element)?"right"==this.args.position&&this.helper.hasClass(t,this.element)&&this.helper.removeClass(t,this.element):this.helper.setClass(t,this.element)}}ei=new WeakMap,ii=new WeakMap,si=new WeakMap,ni=new WeakMap;var ui,li,di,pi,fi,gi,vi,mi=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},wi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},bi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ki{constructor(t,e){ui.set(this,void 0),li.set(this,void 0),di.set(this,void 0),wi(this,ui,Object(o.E)("> * > .{prefix}-accordion-title",t)),wi(this,li,Object(o.E)("> *",t)),wi(this,di,e),this.single=!1,this.selector=f.SCOPE_SELECTOR+bi(this,ui),this.items=f.SCOPE_SELECTOR+bi(this,li),this.timeout=bi(this,di)}parse(t){if(Object(o.x)(t))return this.single=Object(o.A)(t.single),this.selector=f.SCOPE_SELECTOR+Object(o.t)(t.selector,bi(this,ui)),this.items=f.SCOPE_SELECTOR+Object(o.t)(t.content,bi(this,li)),this.timeout=Object(o.m)(t.timeout,bi(this,di)),void(this.animation=Object(o.A)(t.animation))}isValid(){return!0}}ui=new WeakMap,li=new WeakMap,di=new WeakMap;class Ei{constructor(t){pi.set(this,void 0),wi(this,pi,null!=t?t:"cui"),this.attribute=bi(this,pi)+"-accordion"}getStyle(){return null}get(t,e){return new yi(t,e,this.attribute,bi(this,pi))}}pi=new WeakMap;class yi extends N{constructor(t,e,i,s){super("CuiAccordionHandler",t,i,new ki(s,e.setup.animationTime),e),fi.set(this,void 0),gi.set(this,void 0),vi.set(this,void 0),wi(this,vi,null)}onInit(){if(this.args.isValid()){try{this.initTargets(),wi(this,vi,this.onEvent(f.EVENTS.SWITCH,this.onSwitch.bind(this)))}catch(t){this._log.exception(t,"handle")}this._log.debug("Initialized","handle")}}onUpdate(){try{this.initTargets()}catch(t){this._log.exception(t,"handle")}}onDestroy(){this.detachEvent(f.EVENTS.SWITCH,bi(this,vi))}onMutation(t){(t.added.length>0||t.removed.length>0)&&this.initTargets()}switch(t){return mi(this,void 0,void 0,(function*(){if(this._log.debug("Switch to: "+t),t<0||this.isLocked||!this.isInitialized)return!1;if(wi(this,fi,this.queryItems()),bi(this,fi).length<=t)return!1;this.isLocked=!0;const e=bi(this,fi)[t];return this.helper.hasClass(this.activeClassName,e)?this.helper.removeClassesAs(e,this.activeClassName):(this.args.single&&this.closeAllExcept(t),this.helper.setClassesAs(e,this.activeClassName)),this.emitEvent(f.EVENTS.SWITCHED,{index:t,currentTarget:e,timestamp:Date.now()}),this.isLocked=!1,!0}))}onSwitch(t){this.switch(Object(o.m)(t,-1)).then(()=>{this._log.debug("Switch from event to "+t)})}initTargets(){wi(this,fi,this.queryItems());const t=this.element.querySelectorAll(this.args.selector);wi(this,gi,[]),t.forEach((t,e)=>{let i={element:t};this.setListener(i,e),bi(this,gi).push(i)})}closeAllExcept(t){this.mutate(()=>{bi(this,fi).forEach((e,i)=>{t!==i&&this.helper.hasClass(this.activeClassName,e)&&e.classList.remove(this.activeClassName)})})}setListener(t,e){t.listener=()=>{this.switch(e)},t.element.addEventListener("click",t.listener)}removeListener(t){t.listener&&t.element.removeEventListener("click",t.listener)}queryItems(){return[...this.element.querySelectorAll(this.args.items)]}}fi=new WeakMap,gi=new WeakMap,vi=new WeakMap;var Oi,Ci,Mi,xi,Si,Ai=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ti=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Wi{constructor(t){Oi.set(this,void 0),Ci.set(this,null),Mi.set(this,void 0),xi.set(this,void 0),Si.set(this,void 0),Ai(this,Oi,t),Ai(this,Mi,!1),Ai(this,xi,!1)}setCallback(t){Ai(this,Ci,t)}isInProgress(){return Ti(this,Mi)}attach(){Ti(this,Oi).addEventListener("mouseover",this.onMouseOver.bind(this)),Ti(this,Oi).addEventListener("mousemove",this.onMouseMove.bind(this)),Ti(this,Oi).addEventListener("mouseout",this.onMouseOut.bind(this)),Ai(this,Si,!0)}detach(){Ti(this,Oi).removeEventListener("mouseover",this.onMouseOver.bind(this)),Ti(this,Oi).removeEventListener("mousemove",this.onMouseMove.bind(this)),Ti(this,Oi).removeEventListener("mouseout",this.onMouseOut.bind(this)),Ai(this,Si,!1)}emit(t,e){Object(o.a)(Ti(this,Ci))&&(!e&&Ti(this,Mi)||(Ai(this,Mi,!0),window.requestAnimationFrame(this.invoke.bind(this,{isHovering:Ti(this,xi),event:t,timestamp:Date.now()}))))}isAttached(){return Ti(this,Si)}invoke(t){Ti(this,Ci).call(this,t),Ai(this,Mi,!1)}onMouseOver(t){Ai(this,xi,!0),this.emit(t,!0)}onMouseOut(t){Ai(this,xi,!1),this.emit(t,!0)}onMouseMove(t){this.emit(t,!1)}}Oi=new WeakMap,Ci=new WeakMap,Mi=new WeakMap,xi=new WeakMap,Si=new WeakMap;var Li,ji,Ii,Ni,Pi,Di,_i,Hi,$i,Ri,Bi,Vi,Fi=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},qi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},zi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ui{constructor(){this.escClose=!1,this.mode="click",this.trigger="> a, button",this.autoClose=!1,this.outClose=!1,this.prevent=!1}parse(t){this.escClose=t.escClose&&Object(o.A)(t.escClose),this.mode=Object(o.t)(t.mode,"click").toLowerCase(),this.trigger=a.k+Object(o.t)(t.trigger,"> a, button"),this.prevent=Object(o.A)(t.prevent),this.autoClose=Object(o.A)(t.autoClose),this.outClose=!t.outClose||Object(o.A)(t.outClose)}}class Ki{constructor(t){Li.set(this,void 0),qi(this,Li,null!=t?t:"cui"),this.attribute=zi(this,Li)+"-drop"}getStyle(){return null}get(t,e){return new Gi(t,e,this.attribute,zi(this,Li))}}Li=new WeakMap;class Gi extends j{constructor(t,e,i,s){super("CuidropHandler",t,i,new Ui,e),ji.set(this,void 0),Ii.set(this,void 0),Ni.set(this,void 0),Pi.set(this,void 0),Di.set(this,void 0),_i.set(this,void 0),Hi.set(this,void 0),$i.set(this,void 0),Ri.set(this,void 0),Bi.set(this,void 0),Vi.set(this,void 0),qi(this,Ni,i),qi(this,ji,s),qi(this,Hi,null),qi(this,Ii,Object(o.E)("{prefix}-drop-open",s)),qi(this,Di,new Wi(this.element)),zi(this,Di).setCallback(this.onTargetHover.bind(this)),qi(this,$i,null),qi(this,Ri,null),qi(this,Bi,null),qi(this,Vi,null),this.onTriggerClick=this.onTriggerClick.bind(this)}onInit(){qi(this,_i,this.element.parentElement.querySelector(this.args.trigger)),qi(this,Pi,new Wi(zi(this,_i))),this.setTriggerEvent(),v.setAria(this.element,"aria-dropdown",""),qi(this,Bi,this.onEvent(a.i.OPEN,this.open.bind(this))),qi(this,Vi,this.onEvent(a.i.CLOSE,this.close.bind(this))),this._log.debug("Initialized","handle")}onUpdate(){zi(this,Pi).isAttached()?zi(this,Pi).detach():"click"===this.prevArgs.mode&&zi(this,_i).removeEventListener("click",this.onTriggerClick),qi(this,_i,this.element.parentElement.querySelector(this.args.trigger)),qi(this,Pi,new Wi(zi(this,_i))),this.setTriggerEvent()}onDestroy(){this.detachEvent(a.i.OPEN,zi(this,Bi)),this.detachEvent(a.i.CLOSE,zi(this,Vi))}open(){return Fi(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?this.close():(this.isAnyActive()&&(yield this.findAndCloseOpenedDrop()),this.isLocked=!0,this._log.debug("Drop "+this.cuid,"open"),this.mutate(this.onOpen,this),this.args.escClose&&qi(this,$i,this.onEvent(a.i.KEYDOWN,this.onEscClose.bind(this))),this.args.outClose&&qi(this,Ri,this.onEvent(a.i.WINDOW_CLICK,this.onWindowClick.bind(this))),this.emitEvent(a.i.OPEN,{timestamp:Date.now()}),zi(this,Di).attach(),this.args.autoClose&&this.runAutoCloseTask(),this.isLocked=!1,!0))}))}close(){return Fi(this,void 0,void 0,(function*(){return!(this.checkLockAndWarn("close")||!this.isActive())&&(this.isLocked=!0,this._log.debug("Drop "+this.cuid,"close"),this.mutate(this.onClose,this),this.detachEvent(a.i.KEYDOWN,zi(this,$i)),this.detachEvent(a.i.WINDOW_CLICK,zi(this,Ri)),this.emitEvent(a.i.CLOSE,{timestamp:Date.now()}),zi(this,Di).detach(),this.isLocked=!1,!0)}))}onTargetHover(t){t.isHovering&&Object(o.x)(zi(this,Hi))?(clearTimeout(zi(this,Hi)),qi(this,Hi,null)):t.isHovering||Object(o.x)(zi(this,Hi))||!this.args.autoClose||this.runAutoCloseTask()}onClose(){this.helper.removeClass(this.activeClassName,this.element),this.helper.removeClass(zi(this,Ii),document.body),v.setAria(this.element,"aria-expanded","false")}onOpen(){this.helper.setClass(this.activeClassName,this.element),this.helper.setClass(zi(this,Ii),document.body),v.setAria(this.element,"aria-expanded","true")}onEscClose(t){"Escape"===t.event.key&&this.close()}onWindowClick(t){this.element.contains(t.target)||this.close()}isAnyActive(){return this.helper.hasClass(zi(this,Ii),document.body)}getAction(t){return new Mt.c(Object(o.E)(t,zi(this,ji)))}findAndCloseOpenedDrop(){return Fi(this,void 0,void 0,(function*(){const t=document.querySelector(`[${zi(this,Ni)}].${this.activeClassName}`);if(!Object(o.x)(t))return this._log.warning("Opened drop was not found"),!1;const e=t.$handlers[zi(this,Ni)];return Object(o.x)(e)?e.close():(this._log.warning("Drop handler was not found in the element"),!1)}))}onTriggerClick(t){this.isActive()?this.close():this.open(),this.args.prevent&&t.preventDefault()}onHoverEvent(t){t.isHovering&&!this.isActive()&&this.open(),this.args.prevent&&t.event.preventDefault()}setTriggerEvent(){"hover"===this.args.mode?(zi(this,Pi).setCallback(this.onHoverEvent.bind(this)),zi(this,Pi).attach()):zi(this,_i).addEventListener("click",this.onTriggerClick)}runAutoCloseTask(){qi(this,Hi,setTimeout(()=>{this.close()},5e3))}}ji=new WeakMap,Ii=new WeakMap,Ni=new WeakMap,Pi=new WeakMap,Di=new WeakMap,_i=new WeakMap,Hi=new WeakMap,$i=new WeakMap,Ri=new WeakMap,Bi=new WeakMap,Vi=new WeakMap;var Yi,Xi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Zi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ji{constructor(){this.name="click-plugin",Yi.set(this,void 0),this.description="CuiWindowClickPlugin"}init(t){Xi(this,Yi,t.bus),window.addEventListener("click",this.onWindowClick.bind(this))}destroy(){window.removeEventListener("click",this.onWindowClick.bind(this))}onWindowClick(t){Zi(this,Yi).emit(f.EVENTS.WINDOW_CLICK,null,t)}}Yi=new WeakMap;var Qi,ts,es,is,ss,ns,rs,os,hs,as=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},cs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class us{constructor(){this.offsetX=0,this.offsetY=0,this.target=null,this.root=!1,this.action=null}parse(t){this.target=t.target,this.action=t.action,this.offsetX=Object(o.m)(t.offsetX,-1),this.offsetY=Object(o.m)(t.offsetY,-1),this.root=Object(o.A)(t.root)}}class ls{constructor(t){this.attribute=(null!=t?t:"cui")+"-offset"}getStyle(){return null}get(t,e){return new ds(t,e,this.attribute)}}class ds extends j{constructor(t,e,i){super("CuiOffsetHandler",t,i,new us,e),Qi.set(this,void 0),ts.set(this,void 0),es.set(this,void 0),is.set(this,void 0),ss.set(this,void 0),ns.set(this,void 0),rs.set(this,void 0),os.set(this,void 0),hs.set(this,void 0),this.element=t,as(this,ts,this.element),as(this,es,e),as(this,is,!1),as(this,ss,null),as(this,ns,0),as(this,rs,0),as(this,os,20),as(this,hs,null)}onInit(){this.parseAttribute(),as(this,Qi,new Ct.a(this.args.root?window:this.element,this.utils.setup.scrollThreshold)),cs(this,Qi).setCallback(this.onScroll.bind(this)),cs(this,Qi).attach()}onUpdate(){this.parseAttribute()}onDestroy(){cs(this,Qi).detach()}onScroll(t){this.checkAndPerformActions(t.top,t.left)}parseAttribute(){as(this,hs,this.getRoot()),as(this,ts,this.args.target?this.getRoot().querySelector(this.args.target):this.element),as(this,ss,Mt.b.get(this.args.action)),this.checkAndPerformActions(this.element.scrollTop,this.element.scrollLeft)}matchesOffset(t,e){return this.args.offsetX>0&&e>=this.args.offsetX||this.args.offsetY>0&&t>=this.args.offsetY}checkAndPerformActions(t,e){let i=this.matchesOffset(t,e);if(i!==cs(this,is))return this.act(i),as(this,is,i),void this.callEvent(cs(this,is),e,t,...this.isOnEdge(e,t));this.exceededThreshold(e,t)&&(this.callEvent(cs(this,is),e,t,...this.isOnEdge(e,t)),as(this,ns,e),as(this,rs,t))}act(t){Object(o.a)(cs(this,ss),cs(this,ts))&&(this.isLocked=!0,cs(this,ss).forEach(e=>{t?e.add(cs(this,ts),cs(this,es)):e.remove(cs(this,ts),cs(this,es))}),this.isLocked=!1)}callEvent(t,e,i,s,n){this.emitEvent(f.EVENTS.OFFSET,{matches:cs(this,is),offsetX:e,offsetY:i,limitX:s,limitY:n,timestamp:Date.now()})}getRoot(){return this.args.root?document.body:this.element}exceededThreshold(t,e){return Math.abs(t-cs(this,ns))>cs(this,os)||Math.abs(e-cs(this,rs))>cs(this,os)}isOnEdge(t,e){let i=!1,s=!1;return cs(this,hs).scrollHeight-cs(this,hs).clientHeight<=e+cs(this,os)&&(i=!0),cs(this,hs).scrollWidth-cs(this,hs).clientWidth<=t+cs(this,os)&&(s=!0),[s,i]}}Qi=new WeakMap,ts=new WeakMap,es=new WeakMap,is=new WeakMap,ss=new WeakMap,ns=new WeakMap,rs=new WeakMap,os=new WeakMap,hs=new WeakMap;var ps,fs,gs,vs,ms=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ws=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class bs{constructor(t,e,i){ps.set(this,void 0),fs.set(this,void 0),gs.set(this,void 0),vs.set(this,void 0),ms(this,fs,e),ms(this,gs,t),ms(this,vs,i)}start(){this.canRun()&&(this.stop(),ms(this,ps,setTimeout(()=>{ws(this,vs).call(this),ms(this,ps,null),ws(this,fs)&&this.start()},ws(this,gs))))}stop(){ws(this,ps)&&(clearTimeout(ws(this,ps)),ms(this,ps,null))}getId(){return ws(this,ps)}canRun(){return Object(o.x)(ws(this,vs))&&ws(this,gs)>0}setCallback(t){ms(this,vs,t)}}ps=new WeakMap,fs=new WeakMap,gs=new WeakMap,vs=new WeakMap;var ks,Es,ys,Os,Cs,Ms,xs,Ss,As=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Ts=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ws=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ls{constructor(t,e){ks.set(this,void 0),Es.set(this,void 0),Ts(this,ks,t),Ts(this,Es,e)}parse(t){var e,i;this.targets=Object(f.getStringOrDefault)(t.targets,f.SCOPE_SELECTOR+"> li"),this.in=f.CuiActionsFatory.get(null!==(e=t.in)&&void 0!==e?e:Object(f.replacePrefix)(".{prefix}-switch-animation-default-in",Ws(this,ks))),this.out=f.CuiActionsFatory.get(null!==(i=t.out)&&void 0!==i?i:Object(f.replacePrefix)(".{prefix}-switch-animation-default-out",Ws(this,ks))),this.timeout=Object(f.getIntOrDefault)(t.timeout,Ws(this,Es)),this.links=t.links,this.switch=t.switch,this.autoTimeout=Object(f.getIntOrDefault)(t.autoTimeout,-1),this.height=Object(f.getStringOrDefault)(t.height,"auto")}}ks=new WeakMap,Es=new WeakMap;class js{constructor(t){this.attribute=(null!=t?t:"cui")+"-switch"}getStyle(){return null}get(t,e){return new Is(t,e,this.attribute)}}class Is extends N{constructor(t,e,i){super("CuiSwitchHandler",t,i,new Ls(e.setup.prefix,e.setup.animationTime),e),ys.set(this,void 0),Os.set(this,void 0),Cs.set(this,void 0),Ms.set(this,void 0),xs.set(this,void 0),Ss.set(this,void 0),Ts(this,ys,[]),Ts(this,Os,-1),Ts(this,Cs,[]),Ts(this,Ms,[]),Ts(this,Ss,null)}onInit(){Ts(this,Ss,this.onEvent(f.EVENTS.SWITCH,this.onPushSwitch.bind(this))),this.getTargets(),this.getLinks(),this.getActiveIndex(),this.getSwitches(),this.setSwitchesActive(Ws(this,Os)),this.setLinkActive(-1,Ws(this,Os)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(Ws(this,ys)[Ws(this,Os)]))}),Ts(this,xs,new bs(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),this.startTask()}onUpdate(){this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(Ws(this,ys)[Ws(this,Os)]))}),this.startTask()}onDestroy(){Ws(this,xs).stop(),this.detachEvent(f.EVENTS.SWITCH,Ws(this,Ss))}onMutation(t){this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(Ws(this,ys)[Ws(this,Os)]))})}switch(t){return As(this,void 0,void 0,(function*(){if(this.isLocked)return!1;this.getTargets(),this.getLinks(),this.getSwitches(),this.getActiveIndex();let e=Object(f.calculateNextIndex)(t,Ws(this,Os),Ws(this,ys).length);if(e==Ws(this,Os)||e<0||e>=Ws(this,ys).length)return this._log.warning(`Index ${t} is not within the suitable range`),!1;this.isLocked=!0,this.setSwitchesActive(e);let i=Ws(this,ys)[e];return yield this.actionsHelper.performSwitchAction(i,Ws(this,Os)>-1?Ws(this,ys)[Ws(this,Os)]:null,this.args.in,this.args.out,()=>{i.classList.add(this.activeClassName),Ws(this,Os)>-1&&Ws(this,ys)[Ws(this,Os)].classList.remove(this.activeClassName),this.setLinkActive(Ws(this,Os),e),this.helper.setStyle(this.element,"height",this.getElementHeight(i)),this.startTask(),this.isLocked=!1},this.args.timeout),this.emitEvent(f.EVENTS.SWITCHED,{timestamp:Date.now(),index:e}),!0}))}onPushSwitch(t){this.switch(t)}getActiveIndex(){Ts(this,Os,Object(f.is)(Ws(this,ys))?Ws(this,ys).findIndex(t=>this.helper.hasClass(this.activeClassName,t)):-1)}getElementHeight(t){return Object(f.is)(this.args.height)&&"auto"!==this.args.height?this.args.height:Object(f.getChildrenHeight)(t)+"px"}getTargets(){let t=this.element.querySelectorAll(this.args.targets);Ts(this,ys,t.length>0?[...t]:[])}getLinks(){Ts(this,Cs,Object(f.is)(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}getSwitches(){let t=Object(f.is)(this.args.switch)?document.querySelectorAll(this.args.switch):null;Ts(this,Ms,[]),t&&t.forEach(t=>{Ws(this,Ms).push(t)})}setLinkActive(t,e){Object(f.is)(Ws(this,Cs))&&(Object(f.isInRange)(t,0,Ws(this,Cs).length-1)&&this.helper.removeClass(this.activeClassName,Ws(this,Cs)[t]),Object(f.isInRange)(e,0,Ws(this,Cs).length-1)&&this.helper.setClass(this.activeClassName,Ws(this,Cs)[e]))}setSwitchesActive(t){Ws(this,Ms).forEach(e=>{this.setLinkSwitch(e.$cuid,t)})}setLinkSwitch(t,e){Object(f.is)(t)&&this.utils.bus.emit(f.EVENTS.SWITCH,t,e)}startTask(){Ws(this,xs).stop(),this.args.autoTimeout&&Ws(this,xs).start()}}ys=new WeakMap,Os=new WeakMap,Cs=new WeakMap,Ms=new WeakMap,xs=new WeakMap,Ss=new WeakMap;var Ns,Ps,Ds,_s,Hs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},$s=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Rs{constructor(){}parse(t){Object(f.is)(t)&&(this.target=t.target,this.index=t.index)}}class Bs{constructor(t){this.attribute=(null!=t?t:"cui")+"-switcher"}getStyle(){return null}get(t,e){return new Vs(t,e,this.attribute)}}class Vs extends j{constructor(t,e,i){super("CuiSwitcherHandler",t,i,new Rs,e),Ns.set(this,void 0),Ps.set(this,void 0),Ds.set(this,void 0),_s.set(this,void 0),Hs(this,Ns,null),Hs(this,Ps,"UL"===t.tagName),Hs(this,Ds,void 0),this.onClickEvent=this.onClickEvent.bind(this),Hs(this,_s,[])}onInit(){this.setEvents(),this.getTarget()}onUpdate(){this.getTarget()}onDestroy(){this.removeEvents()}getTarget(){Object(f.is)(this.args.target)||Hs(this,Ns,null);let t=document.querySelector(this.args.target);Object(f.is)(t)&&Hs(this,Ns,t.$cuid)}setEvents(){if($s(this,Ps)){this.element.querySelectorAll("li > a").forEach((t,e)=>{let i=this.onListItemClick.bind(this,e);$s(this,_s).push(i),t.addEventListener("click",i)})}else this.element.addEventListener("click",this.onClickEvent)}removeEvents(){if($s(this,Ps)){this.element.querySelectorAll("li > a").forEach((t,e)=>{$s(this,_s).length>e&&t.removeEventListener("click",$s(this,_s)[e])}),Hs(this,_s,[])}else this.element.removeEventListener("click",this.onClickEvent)}onClickEvent(t){this.getTarget(),Object(f.is)(this.args.index)&&this.onClick(this.args.index.trim())}onListItemClick(t,e){this.getTarget(),this.onClick(t)}onClick(t){Object(f.is)($s(this,Ns))&&this.utils.bus.emit(f.EVENTS.SWITCH,$s(this,Ns),t)}}Ns=new WeakMap,Ps=new WeakMap,Ds=new WeakMap,_s=new WeakMap;var Fs,qs=i(25),zs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Us=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ks{calculate(t,e,i,s){return[t,e]}}new WeakMap;class Gs{constructor(t){Fs.set(this,void 0),zs(this,Fs,t)}calculate(t,e,i,s){return[t-Us(this,Fs).offsetLeft,e-Us(this,Fs).offsetTop]}}Fs=new WeakMap;new WeakMap;var Ys,Xs,Zs,Js,Qs,tn,en,sn,nn,rn,on,hn,an,cn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},un=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ln{constructor(t,e){Ys.set(this,void 0),Xs.set(this,void 0),this.escClose=!1,this.keyClose=void 0,this.openAct="",this.closeAct="",this.timeout=e,cn(this,Ys,e),cn(this,Xs,t)}parse(t){this.escClose=Object(o.A)(t.escClose),this.keyClose=t.keyClose,this.timeout=Object(o.m)(t.timeout,un(this,Ys)),this.openAct=Object(o.t)(t.openAct,Object(o.E)(".{prefix}-float-default-in",un(this,Xs))),this.closeAct=Object(o.t)(t.closeAct,Object(o.E)(".{prefix}-float-default-out",un(this,Xs)))}}Ys=new WeakMap,Xs=new WeakMap;class dn{constructor(t){Zs.set(this,void 0),cn(this,Zs,null!=t?t:"cui"),this.attribute=un(this,Zs)+"-float"}getStyle(){return null}get(t,e){return new pn(t,e,this.attribute,un(this,Zs))}}Zs=new WeakMap;class pn extends I{constructor(t,e,i,s){super("CuiFloatHandler",t,i,new ln(s,e.setup.animationTimeLong),e),Js.set(this,void 0),Qs.set(this,void 0),tn.set(this,void 0),en.set(this,void 0),sn.set(this,void 0),nn.set(this,void 0),rn.set(this,void 0),on.set(this,void 0),hn.set(this,void 0),an.set(this,void 0),cn(this,Js,!1),cn(this,Qs,!1),cn(this,tn,0),cn(this,en,0),cn(this,nn,new qs.a),un(this,nn).preventDefault(!0),cn(this,rn,new Ks),cn(this,on,new Gs(t)),cn(this,sn,s),this.move=this.move.bind(this),this.resize=this.resize.bind(this)}onInit(){v.setAria(this.element,"aria-modal",""),cn(this,an,this.element.querySelector(Object(o.E)(".{prefix}-float-move",un(this,sn)))),cn(this,hn,this.element.querySelector(Object(o.E)(".{prefix}-float-resize",un(this,sn)))),un(this,nn).setCallback(this.onMove.bind(this))}onUpdate(){}onDestroy(){}onBeforeOpen(){return!0}onAfterOpen(){console.log("Opened float"),un(this,nn).attach()}onAfterClose(){console.log("Closed float"),un(this,nn).detach()}onBeforeClose(){return!0}onMove(t){switch(t.type){case"down":this.onMouseDown(t);break;case"up":this.onMouseUp(t);break;case"move":this.onMouseMove(t)}}onMouseDown(t){console.log("DOwn"),t.target===un(this,an)?cn(this,Js,!0):t.target===un(this,hn)&&cn(this,Qs,!0),cn(this,tn,t.x),cn(this,en,t.y),this.helper.setClassesAs(document.body,f.CLASSES.swipingOn),this.utils.bus.emit(f.EVENTS.MOVE_LOCK,null,!0)}onMouseMove(t){un(this,Js)?this.peform(t,this.move):un(this,Qs)&&this.peform(t,this.resize)}onMouseUp(t){cn(this,Js,!1),cn(this,Qs,!1),this.helper.removeClassesAs(document.body,f.CLASSES.swipingOn),this.utils.bus.emit(f.EVENTS.MOVE_LOCK,null,!1)}peform(t,e){this.mutate(()=>{Object(o.x)(e)&&e(this.element,t.x,t.y,t.x-un(this,tn),t.y-un(this,en)),cn(this,tn,t.x),cn(this,en,t.y)})}resize(t,e,i,s,n){let[r,o]=un(this,on).calculate(e,i,s,n);this.fitsWindow(t.offsetTop,t.offsetLeft,r,o)&&this.mutate(()=>{t.style.width=r+"px",t.style.height=o+"px"})}move(t,e,i,s,n){let[r,o]=un(this,rn).calculate(e,i,s,n);this.fitsWindow(o,r,t.offsetWidth,t.offsetHeight)&&this.mutate(()=>{t.style.left=r+"px",t.style.top=o+"px"})}fitsWindow(t,e,i,s){return t+s<window.innerHeight-10&&t>10&&e>10&&e+i<window.innerWidth-10}}Js=new WeakMap,Qs=new WeakMap,tn=new WeakMap,en=new WeakMap,sn=new WeakMap,nn=new WeakMap,rn=new WeakMap,on=new WeakMap,hn=new WeakMap,an=new WeakMap;var fn,gn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},vn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class mn{constructor(){this.length=this.to=this.from=-1,this.rtl=!1}setProperty(t){if(!t||!Object(o.x)(t.from)||!Object(o.x)(t.to))throw new xt.a("[OpacityAnimator] Property has incorrect format");this.from=t.from,this.to=t.to,this.length=Math.abs(this.to-this.from),this.rtl=this.from>this.to}perform(t,e,i){if(this.to<0)return;let s=this.length*e;t.style&&(t.style.opacity=this.rtl?Math.max(this.from-s,0):Math.max(this.from+s,1))}}class wn{constructor(t){if(fn.set(this,void 0),!Object(o.x)(t))throw new xt.a("[PropertyAnimator] Valid property is required");this.property=t,this.length=this.to=this.from=-1,this.rtl=!1,gn(this,fn,"")}setProperty(t){if(!t||!Object(o.x)(t.from)||!Object(o.x)(t.to))throw new xt.a("[PropertyAnimator] Property has incorrect format");this.from=t.from,this.to=t.to,this.length=Math.abs(this.to-this.from),this.rtl=this.from>this.to,gn(this,fn,t.unit)}perform(t,e,i){if(!this.property)return;let s=this.length*e;t.style&&(t.style[this.property]=this.createValue(this.rtl?this.from-s:this.from+s,vn(this,fn)))}createValue(t,e){return`${t}${null!=e?e:""}`}}fn=new WeakMap;class bn{constructor(){this.prop=void 0}setProperty(t){if(!t)throw new xt.a("[TransformAnimator] Property has incorrect format");this.prop=t}build(t){let e=[];for(let i in this.prop){let s=this.prop[i],n=Math.abs(s.to-s.from),r=s.from>s.to?s.from-n*t:s.from+n*t;e.push(this.buildSingle(i,r,s.unit))}return e.join(" ")}buildSingle(t,e,i){return`${t}(${e}${i})`}perform(t,e,i){this.prop&&t.style&&(t.style.transform=this.build(e))}}var kn,En,yn,On,Cn,Mn,xn,Sn,An,Tn,Wn,Ln,jn,In=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Nn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};new WeakMap,new WeakMap,new WeakMap,new WeakMap;class Pn{get(t){if(t)switch(t){case"opacity":return new mn;case"transform":return new bn;default:return new wn(t)}}}class Dn{constructor(t){kn.set(this,void 0),En.set(this,void 0),yn.set(this,void 0),On.set(this,void 0),Cn.set(this,void 0),Mn.set(this,void 0),xn.set(this,void 0),Sn.set(this,void 0),In(this,En,[]),In(this,Cn,void 0),In(this,On,void 0),In(this,Mn,null!=t&&t),In(this,yn,!1)}onFinish(t){In(this,kn,t)}setAnimators(t){In(this,En,t)}setElement(t){In(this,Cn,t)}setOnError(t){In(this,Sn,t)}animate(t,e,i){if(Nn(this,yn))return;if(!Nn(this,Cn)||0===Nn(this,En).length)return void this.reportError(new Error("Animation cannot be performed: element or animators are not set"));let s=null!=e?e:0,n=i||!1;In(this,yn,!0),requestAnimationFrame(this.animateAsync.bind(this,t,s,n))}isLocked(){return Nn(this,yn)}animateAsync(t,e,i,s){Nn(this,On)||In(this,On,s);let n=s-Nn(this,On),r=n/t,o=0;o=0===e?r:i?e-r*e:e+r*e,this.callUpdate(i?Math.max(o,0):Math.min(o,1),1),n<t&&!Nn(this,xn)?requestAnimationFrame(this.animateAsync.bind(this,t,e,i)):this.endAnimation(i)}endAnimation(t){Nn(this,Mn)&&Nn(this,Cn)&&Nn(this,Cn).removeAttribute("style"),Nn(this,kn)&&Nn(this,kn).call(this,Nn(this,Cn),t,Nn(this,xn)),In(this,xn,!1),In(this,On,void 0),In(this,yn,!1)}callUpdate(t,e){try{Nn(this,En).forEach(i=>i.perform(Nn(this,Cn),t,e))}catch(t){this.reportError(t),In(this,xn,!0)}}reportError(t){Nn(this,Sn)?Nn(this,Sn).call(this,t):(console.error("An error occured in CuiAnimtionEngine"),console.error(t))}}kn=new WeakMap,En=new WeakMap,yn=new WeakMap,On=new WeakMap,Cn=new WeakMap,Mn=new WeakMap,xn=new WeakMap,Sn=new WeakMap;class _n{constructor(t){An.set(this,void 0),Tn.set(this,void 0),Wn.set(this,void 0),Ln.set(this,void 0),jn.set(this,void 0),In(this,An,void 0),In(this,Tn,[]),In(this,Wn,new Dn(t)),In(this,Ln,new Pn)}setElement(t){In(this,An,t)}setOnFinish(t){Nn(this,Wn).onFinish(t)}setOnError(t){In(this,jn,t),Nn(this,Wn).setOnError(t)}setProps(t){if(Object(o.x)(t)){In(this,Tn,[]);try{for(let e in t){let i=Nn(this,Ln).get(e);if(!i)return;i.setProperty(t[e]),Nn(this,Tn).push(i)}}catch(t){this.reportError(t)}}}update(t){Nn(this,An)&&0!==Nn(this,Tn).length&&Nn(this,Tn).forEach(e=>e.perform(Nn(this,An),Math.min(t,1),1))}updateAsync(t){requestAnimationFrame(this.update.bind(this,t))}finish(t,e,i){Nn(this,Wn).setElement(Nn(this,An)),Nn(this,Wn).setAnimators(Nn(this,Tn)),Nn(this,Wn).animate(e,t,i)}reportError(t){Nn(this,jn)?Nn(this,jn).call(this,t):console.log(t)}}An=new WeakMap,Tn=new WeakMap,Wn=new WeakMap,Ln=new WeakMap,jn=new WeakMap;const Hn={slide:{current:{left:{transform:{translateX:{from:0,to:-100,unit:"%"}}},right:{transform:{translateX:{from:0,to:100,unit:"%"}}}},previous:{left:{transform:{translateX:{from:100,to:0,unit:"%"}}},right:{transform:{translateX:{from:-100,to:0,unit:"%"}}}}},fade:{current:{left:{opacity:{from:1,to:0}},right:{opacity:{from:1,to:0}}},previous:{left:{opacity:{from:0,to:1}},right:{opacity:{from:0,to:1}}}},push:{current:{left:{transform:{translateX:{from:0,to:-10,unit:"%"}}},right:{transform:{translateX:{from:0,to:10,unit:"%"}}}},previous:{left:{transform:{translateX:{from:100,to:0,unit:"%"}}},right:{transform:{translateX:{from:-100,to:0,unit:"%"}}}}}};var $n,Rn,Bn,Vn,Fn,qn,zn,Un,Kn,Gn,Yn,Xn,Zn,Jn,Qn,tr,er,ir,sr=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},nr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},rr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class or{constructor(t,e){$n.set(this,void 0),Rn.set(this,void 0),nr(this,$n,t),nr(this,Rn,e)}parse(t){this.targets=f.SCOPE_SELECTOR+Object(f.getStringOrDefault)(t.targets,"> li"),this.timeout=Object(f.getIntOrDefault)(t.timeout,rr(this,Rn)),this.links=t.links,this.autoTimeout=Object(f.getIntOrDefault)(t.autoTimeout,-1),this.height=Object(f.getStringOrDefault)(t.height,"auto"),this.animation=Object(f.getStringOrDefault)(t.animation,"slide"),this.loop=Object(f.boolStringOrDefault)(t.loop,!1)}}$n=new WeakMap,Rn=new WeakMap;class hr{constructor(t){this.attribute=(null!=t?t:"cui")+"-slider"}getStyle(){return null}get(t,e){return new ar(t,e,this.attribute)}}class ar extends N{constructor(t,e,i){super("CuiSliderHandler",t,i,new or(e.setup.prefix,e.setup.animationTime),e),Bn.set(this,void 0),Vn.set(this,void 0),Fn.set(this,void 0),qn.set(this,void 0),zn.set(this,void 0),Un.set(this,void 0),Kn.set(this,void 0),Gn.set(this,void 0),Yn.set(this,void 0),Xn.set(this,void 0),Zn.set(this,void 0),Jn.set(this,void 0),Qn.set(this,void 0),tr.set(this,void 0),er.set(this,void 0),ir.set(this,void 0),nr(this,Bn,[]),nr(this,Vn,-1),nr(this,Yn,-1),nr(this,Fn,[]),nr(this,zn,null),nr(this,Un,!1),nr(this,Kn,-1),nr(this,Gn,0),nr(this,Xn,null),nr(this,Zn,.5),nr(this,Jn,new _n),nr(this,Qn,new _n),rr(this,Jn).setOnFinish(this.onAnimationFinish.bind(this)),nr(this,er,0)}onInit(){nr(this,zn,this.onEvent(f.EVENTS.SWITCH,this.onPushSwitch.bind(this))),nr(this,ir,this.onEvent(f.EVENTS.GLOBAL_MOVE,this.onMove.bind(this))),this.getTargets(),this.getLinks(),this.getActiveIndex(),this.setLinkActive(-1,rr(this,Vn)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(rr(this,Bn)[rr(this,Vn)]))}),nr(this,qn,new bs(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),nr(this,tr,Hn[this.args.animation]),this.startTask()}onUpdate(){this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(rr(this,Bn)[rr(this,Vn)]))}),nr(this,tr,Hn[this.args.animation]),this.startTask()}onDestroy(){rr(this,qn).stop(),this.detachEvent(f.EVENTS.SWITCH,rr(this,zn)),this.detachEvent(f.EVENTS.GLOBAL_MOVE,rr(this,ir))}onMutation(t){}onMove(t){if(this.isLocked||!rr(this,tr))return;let e=rr(this,Bn)[rr(this,Vn)];switch(t.type){case"down":if(rr(this,Un)||!e.contains(t.target))return;nr(this,Un,!0),nr(this,Kn,t.x),rr(this,Jn).setElement(e),this.helper.setClassesAs(document.body,f.CLASSES.swipingOn);break;case"up":if(!rr(this,Un))break;this.isLocked=!0;let i=Math.abs(rr(this,Gn)),s=i*this.args.timeout,n=i<=rr(this,Zn);rr(this,Jn).finish(i,s,n),rr(this,Qn).finish(i,s,n),this.helper.removeClassesAs(document.body,f.CLASSES.swipingOn),nr(this,Un,!1);break;case"move":if(!rr(this,Un))break;let r=(t.x-rr(this,Kn))/e.offsetWidth;if(Math.abs(r-rr(this,Gn))<.02)break;let o=Object(f.calculateNextIndex)(rr(this,Gn)>0?"next":"prev",rr(this,Vn),rr(this,er));nr(this,Gn,this.adjustMoveRatio(r)),o!==rr(this,Yn)&&(rr(this,Xn)&&this.helper.removeClass(f.CLASSES.animProgress,rr(this,Xn)),nr(this,Xn,rr(this,Bn)[o]),nr(this,Yn,o),rr(this,Qn).setElement(rr(this,Xn)),rr(this,Qn).setProps(rr(this,Gn)>0?rr(this,tr).previous.right:rr(this,tr).previous.left),rr(this,Jn).setProps(rr(this,Gn)>0?rr(this,tr).current.right:rr(this,tr).current.left),this.mutate(()=>{this.helper.setClass(f.CLASSES.animProgress,rr(this,Xn))})),this.mutate(()=>{rr(this,Jn).update(Math.abs(rr(this,Gn))),rr(this,Qn).update(Math.abs(rr(this,Gn)))})}}adjustMoveRatio(t){return this.args.loop?t:rr(this,Vn)===rr(this,er)-1&&t>0||0===rr(this,Vn)&&t<0?0:t}switch(t){return sr(this,void 0,void 0,(function*(){return!this.isLocked&&(this.onPushSwitch(t),!0)}))}onAnimationFinish(t,e,i){this.isLocked=!1;let s=rr(this,Bn)[rr(this,Yn)],n=rr(this,Bn)[rr(this,Vn)];e?(this.helper.removeClass(f.CLASSES.animProgress,rr(this,Xn)),this.helper.removeAttribute("style",n),this.helper.removeAttribute("style",rr(this,Xn)),nr(this,Yn,-1),nr(this,Xn,null),nr(this,Kn,-1),nr(this,Gn,0)):rr(this,Yn)>-1&&this.mutate(()=>{this.helper.removeClass(f.CLASSES.animProgress,s),this.helper.setClass(this.activeClassName,s),this.helper.removeClass(this.activeClassName,n),this.helper.removeAttribute("style",n),this.helper.removeAttribute("style",s),this.setLinkActive(rr(this,Vn),rr(this,Yn)),this.emitEvent(f.EVENTS.SWITCHED,{timestamp:Date.now(),index:rr(this,Yn)}),nr(this,Vn,rr(this,Yn)),nr(this,Yn,-1),nr(this,Xn,null),nr(this,Kn,-1),nr(this,Gn,0)})}onPushSwitch(t){if(!Object(f.is)(t)||this.isLocked||!rr(this,tr)||!this.args.loop&&0===rr(this,Vn)&&"prev"===t||!this.args.loop&&rr(this,Vn)===rr(this,er)-1&&"next"===t)return;this.isLocked=!0;let e=Object(f.calculateNextIndex)(t,rr(this,Vn),rr(this,er));if(e==rr(this,Vn)||e<0||e>=rr(this,Bn).length)return this._log.warning(`Index ${t} is not within the suitable range`),!1;nr(this,Yn,e);let i=rr(this,Bn)[rr(this,Vn)],s=rr(this,Bn)[rr(this,Yn)];rr(this,Jn).setElement(i),rr(this,Qn).setElement(s),rr(this,Jn).setProps("prev"===t?rr(this,tr).current.left:rr(this,tr).current.right),rr(this,Qn).setProps("prev"===t?rr(this,tr).previous.left:rr(this,tr).previous.right),this.mutate(()=>{rr(this,Jn).finish(0,this.args.timeout,!1),rr(this,Qn).finish(0,this.args.timeout,!1),this.helper.setClass(f.CLASSES.animProgress,s)})}getActiveIndex(){nr(this,Vn,Object(f.is)(rr(this,Bn))?rr(this,Bn).findIndex(t=>this.helper.hasClass(this.activeClassName,t)):-1)}getElementHeight(t){return Object(f.is)(this.args.height)&&"auto"!==this.args.height?this.args.height:Object(f.getChildrenHeight)(t)+"px"}getTargets(){let t=this.element.querySelectorAll(this.args.targets);nr(this,Bn,t.length>0?[...t]:[]),nr(this,er,rr(this,Bn).length)}getLinks(){nr(this,Fn,Object(f.is)(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}setLinkActive(t,e){Object(f.is)(rr(this,Fn))&&this.mutate(()=>{Object(f.isInRange)(t,0,rr(this,Fn).length-1)&&this.helper.removeClass(this.activeClassName,rr(this,Fn)[t]),Object(f.isInRange)(e,0,rr(this,Fn).length-1)&&this.helper.setClass(this.activeClassName,rr(this,Fn)[e])})}startTask(){rr(this,qn).stop(),this.args.autoTimeout&&rr(this,qn).start()}}Bn=new WeakMap,Vn=new WeakMap,Fn=new WeakMap,qn=new WeakMap,zn=new WeakMap,Un=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,Jn=new WeakMap,Qn=new WeakMap,tr=new WeakMap,er=new WeakMap,ir=new WeakMap;var cr,ur,lr,dr,pr,fr,gr,vr,mr,wr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},br=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class kr{constructor(t,e){cr.set(this,void 0),ur.set(this,void 0),wr(this,cr,e),wr(this,ur,t),this.escClose=!1,this.keyClose=void 0}parse(t){this.swipe=Object(f.boolStringOrDefault)(t.swipe,!1),this.escClose=!1,this.keyClose=void 0,this.timeout=Object(f.getIntOrDefault)(t.timeout,br(this,cr)),this.openAct=Object(f.getStringOrDefault)(t.openAct,Object(f.replacePrefix)(".{prefix}-animation-fade-in",br(this,ur))),this.closeAct=Object(f.getStringOrDefault)(t.closeAct,Object(f.replacePrefix)(".{prefix}-animation-fade-out",br(this,ur)))}}cr=new WeakMap,ur=new WeakMap;class Er{constructor(t){lr.set(this,void 0),wr(this,lr,null!=t?t:"cui"),this.attribute=br(this,lr)+"-banner"}getStyle(){return null}get(t,e){return new yr(t,e,this.attribute,br(this,lr))}}lr=new WeakMap;class yr extends I{constructor(t,e,i,s){super("CuiBannerHandler",t,i,new kr(s,e.setup.animationTime),e),dr.set(this,void 0),pr.set(this,void 0),fr.set(this,void 0),gr.set(this,void 0),vr.set(this,void 0),mr.set(this,void 0),wr(this,dr,new _n(!0)),br(this,dr).setOnFinish(this.onSwipeFinish.bind(this)),br(this,dr).setElement(this.element),wr(this,fr,-1),wr(this,gr,0),wr(this,vr,Hn.fade),wr(this,mr,null)}onInit(){wr(this,mr,this.onEvent(f.EVENTS.GLOBAL_MOVE,this.onMove.bind(this))),this.isActive&&this.open()}onUpdate(){}onDestroy(){this.detachEvent(f.EVENTS.GLOBAL_MOVE,br(this,mr))}onBeforeOpen(){return!0}onAfterOpen(){this.args.swipe&&wr(this,mr,this.onEvent(f.EVENTS.GLOBAL_MOVE,this.onMove.bind(this)))}onAfterClose(){this.detachEvent(f.EVENTS.GLOBAL_MOVE,br(this,mr))}onBeforeClose(){return!0}onMove(t){if(this.isLocked)return;let e=this.element;switch(t.type){case"down":if(br(this,pr)||!e.contains(t.target))return;wr(this,pr,!0),wr(this,fr,t.x),this.helper.setClassesAs(document.body,f.CLASSES.swipingOn);break;case"up":if(!br(this,pr)&&0==br(this,gr))break;this.isLocked=!0;let i=Math.abs(br(this,gr)),s=i*this.args.timeout,n=i<=.4;br(this,dr).finish(i,s,n),this.helper.removeClassesAs(document.body,f.CLASSES.swipingOn),wr(this,pr,!1);break;case"move":if(br(this,pr)){let i=(t.x-br(this,fr))/e.offsetWidth;(br(this,gr)>=0&&i<=0||br(this,gr)<=0&&i>0)&&br(this,dr).setProps(i>0?br(this,vr).current.right:br(this,vr).current.left),wr(this,gr,i),this.mutate(()=>{br(this,dr).update(Math.abs(br(this,gr)))})}}}onSwipeFinish(t,e,i){this.isLocked=!1,e||(this.helper.removeClass(this.activeClassName,this.element),v.setAria(this.element,"aria-expanded","false")),wr(this,gr,0),wr(this,fr,0)}}dr=new WeakMap,pr=new WeakMap,fr=new WeakMap,gr=new WeakMap,vr=new WeakMap,mr=new WeakMap;var Or,Cr,Mr=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},xr=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Sr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ar{constructor(){Or.set(this,void 0),xr(this,Or,window)}init(t){return Mr(this,void 0,void 0,(function*(){let e=Object.assign(Object.assign({},new r.b),t.setup);const i=e.app,s={result:!1};if(Object(o.x)(Sr(this,Or)[i]))return s.message="Instance is already initialized",s;if(Object(o.x)(t.icons))for(let e in t.icons)a.j[e]=t.icons[e];if(Object(o.x)(t.swipeAnimations))for(let e in t.swipeAnimations)Hn[e]=t.swipeAnimations[e];try{Sr(this,Or)[i]=new h.a(e,t.plugins,t.components),Sr(this,Or)[i].init()}catch(t){return console.error(t),s.message="An error occured during initialization",s}return s.result=!0,s}))}}Or=new WeakMap;class Tr{constructor(){Cr.set(this,void 0),xr(this,Cr,!1)}init(t){var e;return Mr(this,void 0,void 0,(function*(){if(Sr(this,Cr))return console.log("Module is already initialized"),!1;const i=new Ar,s=[new d({autoLight:!0}),new Dt({autoPrint:!0}),new $e(null),new Ji],n=[new V,new tt,new st,new ht,new pt,new Wt,new Gt,new se,new pe,new ye,new Ae,new Xe,new ai,new Ei,new Ki,new ls,new js,new Bs,new dn,new hr,new Er];let r=yield i.init({setup:t.setup,icons:t.icons,plugins:Object(o.x)(t.plugins)?[...s,...t.plugins]:s,components:Object(o.x)(t.components)?[...n,...t.components]:n,swipeAnimations:t.swipeAnimations});return r.result?(xr(this,Cr,!0),!0):(console.error(`A cUI instance failed to initialize: [${null!==(e=r.message)&&void 0!==e?e:"#"}]`),console.log("Cui Light failed to init"),!1)}))}}Cr=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return Jt}));var s,n,r,o,h,a,c=i(0),u=i(5),l=i(2),d=i(16),p=i(4),f=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},g=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},v=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class m{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h.set(this,void 0),a.set(this,void 0),g(this,s,t),g(this,n,!1),g(this,r,u.a.get("ElementManager")),g(this,h,e),g(this,o,Date.now()),g(this,a,new d.a(e.interactions))}toggleClass(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},"toggleClass")}))}toggleClassAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{let i=e.classList;v(this,h).interactions.fetch(()=>{i.contains(t)?v(this,h).interactions.mutate(i.remove,i,t):v(this,h).interactions.mutate(i.add,i,t)},this)},"toggleClassAs")}))}setClass(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.classList.contains(t)||e.classList.add(t)},"setClass")}))}setClassAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{let i=e.classList;v(this,h).interactions.fetch(()=>{i.contains(t)||v(this,h).interactions.mutate(i.add,i,t)},this)},"setClassAs")}))}removeClass(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.classList.contains(t)&&e.classList.remove(t)},"removeClass")}))}removeClassAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{let i=e.classList;v(this,h).interactions.fetch(()=>{i.contains(t)&&v(this,h).interactions.mutate(i.remove,i,t)},this)},"removeClass")}))}getAttribute(t){return Object(c.x)(t)?v(this,s).reduce((e,i)=>(i.hasAttribute(t)?e.push(i.getAttribute(t)):e.push(null),e),[]):null}setAttribute(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{i.setAttribute(t,null!=e?e:"")},"setAttribute")}))}setAttributeAs(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{v(this,h).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},"setAttributeAs")}))}removeAttribute(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.removeAttribute(t)},"removeAttribute")}))}removeAttributeAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{v(this,h).interactions.mutate(e.removeAttribute,e,t)},"removeAttributeAs")}))}toggleAttribute(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{i.hasAttribute(t)?i.removeAttribute(t):i.setAttribute(t,null!=e?e:"")},"toggleAttribute")}))}toggleAttributeAs(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(i=>{v(this,h).interactions.fetch(()=>{i.hasAttribute(t)?v(this,h).interactions.mutate(i.removeAttribute,i,t):v(this,h).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},this)},"toggleAttributeAs")}))}click(t){return f(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&this.call(e=>{e.addEventListener("click",t)},"click")}))}event(t,e){return f(this,void 0,void 0,(function*(){return!(!Object(c.x)(t)||!Object(c.x)(e))&&this.call(i=>{i.addEventListener(t,e)},"event")}))}call(t,e){return f(this,void 0,void 0,(function*(){return v(this,n)&&v(this,r).error("Element is locked",e),this.lock(),v(this,s).forEach((e,i)=>{t(e,i)}),this.unlock(),!0}))}animate(t,e){return f(this,void 0,void 0,(function*(){if(!Object(c.x)(t))return!1;const i=null!=e?e:v(this,h).setup.animationTime;return this.call(e=>{this.change(()=>{e.classList.add(t),e.classList.add(l.a.animProgress),setTimeout(()=>{this.change(()=>{e.classList.remove(t),e.classList.remove(l.a.animProgress)})},i)})})}))}open(t,e,i){return f(this,void 0,void 0,(function*(){if(!Object(c.a)(t,e))return!1;const s=null!=i?i:v(this,h).setup.animationTime,n=new p.c(e);return this.call(e=>{v(this,a).performAction(e,n,s).then(()=>{e.classList.add(t)})})}))}close(t,e,i){return f(this,void 0,void 0,(function*(){if(!Object(c.a)(t,e))return!1;const s=null!=i?i:v(this,h).setup.animationTime,n=new p.c(e);return this.call(e=>{v(this,a).performAction(e,n,s).then(()=>{e.classList.remove(t)})})}))}emit(t,...e){Object(c.x)(t)?this.call(i=>{let s=i.$cuid;Object(c.x)(s)&&(v(this,r).debug(`Emitting event ${t} to ${s}`),v(this,h).bus.emit(t,s,...e))},"emit"):v(this,r).warning("Not enough data to emit event","emit")}on(t,e){let i=[];return Object(c.a)(t,e)?(this.call(s=>{let n=s;Object(c.x)(n)&&i.push(v(this,h).bus.on(t,e,n))},"on"),i):(v(this,r).error("Incorrect arguments","on"),i)}detach(t,e){Object(c.a)(t,e)||v(this,r).error("Incorrect arguments","detach"),this.call(i=>{let s=i;Object(c.x)(s)&&v(this,h).bus.detach(t,e,s)},"detach")}read(t,...e){v(this,h).interactions.fetch(t,this,...e)}change(t,...e){v(this,h).interactions.mutate(t,this,...e)}elements(){return v(this,s)}count(){return v(this,s).length}lock(){g(this,n,!0)}unlock(){g(this,n,!1)}isLocked(){return v(this,n)}refresh(){return Date.now()-v(this,o)<36e4}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap;var w,b,k,E,y,O,C,M,x=i(24),S=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},A=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},T=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class W{constructor(t,e,i){w.set(this,void 0),b.set(this,void 0),k.set(this,void 0),E.set(this,void 0),y.set(this,void 0),O.set(this,void 0),C.set(this,void 0),M.set(this,void 0),A(this,w,t),A(this,b,`.${e}-toast`),A(this,k,e+"-toast"),A(this,E,e+"-active"),A(this,y,i),A(this,O,!1),A(this,C,e+"-toast-animation-in"),A(this,M,e+"-toast-animation-out")}show(t){return S(this,void 0,void 0,(function*(){if(T(this,O))return!1;A(this,O,!0);let e=document.querySelector(T(this,b));return Object(c.x)(e)||(e=document.createElement("div"),e.classList.add(T(this,k)),document.body.appendChild(e),yield Object(c.F)(10)),T(this,w).mutate(()=>{e.textContent=t,e.classList.add(l.a.animProgress),e.classList.add(T(this,C))},this),yield Object(c.F)(T(this,y)),T(this,w).mutate(()=>{e.classList.remove(l.a.animProgress),e.classList.remove(T(this,C)),e.classList.add(T(this,E))},this),yield Object(c.F)(3e3),T(this,w).mutate(()=>{e.classList.add(l.a.animProgress),e.classList.add(T(this,M))},this),setTimeout(()=>{T(this,w).mutate(()=>{e.classList.remove(l.a.animProgress),e.classList.remove(T(this,M)),e.classList.remove(T(this,E))},this),A(this,O,!1)},T(this,y)),!0}))}}w=new WeakMap,b=new WeakMap,k=new WeakMap,E=new WeakMap,y=new WeakMap,O=new WeakMap,C=new WeakMap,M=new WeakMap;var L,j,I,N,P,D=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},_=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},H=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ${constructor(t){L.set(this,void 0),j.set(this,void 0),I.set(this,void 0),N.set(this,void 0),P.set(this,void 0),_(this,P,t),_(this,j,u.a.get("CollectionManager"))}setElements(t){_(this,L,t)}setToggle(t){_(this,N,t)}addAnimationClass(t,e,i,s){e.classList.add(l.a.animProgress),t.classList.add(s),e.classList.add(i)}setFinalClasses(t,e,i,s){e.classList.remove(l.a.animProgress),t.classList.remove(s),e.classList.remove(i),t.classList.remove(H(this,N)),e.classList.add(H(this,N))}verifyIndex(t,e,i){return t>=0&&t!==e&&t<i}setCurrent(t,e){return D(this,void 0,void 0,(function*(){return this.lock(),H(this,j).debug(`Switching index from: ${e} to ${t}`),e>-1&&H(this,L)[e].classList.remove(H(this,N)),H(this,L)[t].classList.add(H(this,N)),this.unlock(),!0}))}setCurrentWithAnimation(t,e,i,s,n){return D(this,void 0,void 0,(function*(){this.lock(),H(this,j).debug(`Switching index from: ${n} to ${t}`);const r=H(this,L)[n],o=H(this,L)[t];return H(this,P).mutate(this.addAnimationClass,this,r,o,e,i),setTimeout(()=>{H(this,P).mutate(this.setFinalClasses,this,r,o,e,i),this.unlock()},s),!0}))}getCurrentIndex(){if(!Object(c.x)(H(this,N)))return-1;let t=this.count();for(let e=0;e<t;e++)if(H(this,L)[e].classList.contains(H(this,N)))return e;return-1}elements(){return H(this,L)}check(){return H(this,I)?(H(this,j).warning("Object locked. Operation in progress","Check"),!1):Object(c.x)(H(this,N))?!(this.count()<=0)||(H(this,j).warning("Elements list is empty","Check"),!1):(H(this,j).warning("Toggle is not set. Call setToggleClass","Check"),!1)}count(){return H(this,L)?H(this,L).length:-1}lock(){_(this,I,!0)}unlock(){_(this,I,!1)}}L=new WeakMap,j=new WeakMap,I=new WeakMap,N=new WeakMap,P=new WeakMap;var R,B,V,F=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},q=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},z=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class U{constructor(t,e){R.set(this,void 0),B.set(this,void 0),V.set(this,void 0),q(this,R,u.a.get("CollectionManager")),q(this,V,new $(e)),z(this,V).setElements(t),q(this,B,Date.now())}setToggle(t){z(this,V).setToggle(t)}setElements(t){z(this,V).setElements(t)}click(t){z(this,V).elements().forEach((e,i)=>{e.addEventListener("click",()=>{this.set(i).then(()=>{t&&t(e,i)})})})}next(){return F(this,void 0,void 0,(function*(){if(!z(this,V).check())return!1;let t=z(this,V).getCurrentIndex()+1;return this.set(t>=this.length()?0:t)}))}previous(){return F(this,void 0,void 0,(function*(){if(!z(this,V).check())return!1;let t=z(this,V).getCurrentIndex()-1;return this.set(t<0?this.length()-1:t)}))}set(t){return F(this,void 0,void 0,(function*(){let e=z(this,V).getCurrentIndex();return!(!z(this,V).check()||!z(this,V).verifyIndex(t,e,this.length()))&&z(this,V).setCurrent(t,e)}))}setWithAnimation(t,e,i,s){return F(this,void 0,void 0,(function*(){let n=z(this,V).getCurrentIndex();return!(!z(this,V).check()||!z(this,V).verifyIndex(t,n,this.length()))&&z(this,V).setCurrentWithAnimation(t,e,i,s,n)}))}getCurrentIndex(){return z(this,V).getCurrentIndex()}length(){return z(this,V).count()}refresh(){return this.length()>0&&Date.now()-z(this,B)>36e4}}R=new WeakMap,B=new WeakMap,V=new WeakMap;var K,G,Y,X=i(7),Z=i(3),J=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Q=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},tt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class et{constructor(t){K.set(this,void 0),G.set(this,void 0),Y.set(this,void 0),Q(this,K,null!=t?t:[]),Q(this,Y,u.a.get("CuiPluginManager"))}init(t){tt(this,Y).debug("Plugins initialization started: "+tt(this,K).length),Q(this,G,tt(this,K).filter(t=>Object(c.x)(t.mutation))),tt(this,K).forEach(e=>{e.init(t),t.setup.plugins[e.description]=e.setup}),tt(this,Y).debug("Plugins have been initialized")}get(t){if(Object(c.x)(t))return tt(this,K).find(e=>e.name===t)}onMutation(t){return J(this,void 0,void 0,(function*(){let e=[];return tt(this,G).forEach(i=>{e.push(i.mutation(t))}),!(yield Promise.all(e)).find(t=>{})}))}}K=new WeakMap,G=new WeakMap,Y=new WeakMap;var it,st,nt,rt,ot=i(1),ht=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},at=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ct{constructor(t){it.set(this,void 0),st.set(this,void 0),nt.set(this,void 0),rt.set(this,void 0),ht(this,rt,t),ht(this,st,[]),ht(this,nt,null)}setId(t){return ht(this,it,t),this}setClasses(...t){return ht(this,st,t),this}setAttributes(t){return ht(this,nt,t),this}build(t){let e=document.createElement(at(this,rt));return Object(ot.is)(at(this,it))&&(e.id=at(this,it)),Object(ot.is)(at(this,st))&&e.classList.add(...at(this,st)),Object(ot.is)(at(this,nt))&&Object(ot.enumerateObject)(at(this,nt),(t,i)=>{e.setAttribute(t,i)}),Object(ot.is)(t)&&(e.innerHTML=t),e}}it=new WeakMap,st=new WeakMap,nt=new WeakMap,rt=new WeakMap;var ut,lt,dt,pt,ft,gt,vt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},mt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class wt{constructor(t,e,i){ut.set(this,void 0),lt.set(this,void 0),dt.set(this,void 0),pt.set(this,void 0),ft.set(this,void 0),gt.set(this,void 0),vt(this,pt,t),vt(this,ut,vt(this,dt,vt(this,lt,null))),vt(this,ft,null!=i?i:""),vt(this,gt,e)}createHeader(t,e,i){Object(ot.is)(e)||(e=[]),Object(ot.is)(i)||(i=[]);let s=new ct("div");s.setClasses(mt(this,pt)+"-dialog-header",...e),vt(this,ut,s.build());let n=new ct("span").setClasses(this.getPrefixedString("-dialog-title")).build(t);mt(this,ut).appendChild(n),this.appendChildrens(mt(this,ut),...i)}createFooter(t,e){Object(ot.is)(t)||(t=[]),Object(ot.is)(e)||(e=[]),vt(this,dt,new ct("div").setClasses(this.getPrefixedString("-dialog-footer"),...t).build()),this.appendChildrens(mt(this,dt),...e)}createBody(t,e){Object(ot.is)(t)||(t=[]),Object(ot.is)(e)||(e=[]),vt(this,lt,new ct("div").setClasses(this.getPrefixedString("-dialog-body"),...t).build()),this.appendChildrens(mt(this,lt),...e)}build(t){let e=[this.getPrefixedString("-dialog")];mt(this,gt)&&e.push(this.getPrefixedString("-reverse-auto"));let i=new ct("div").setId(t).setClasses(...e).setAttributes({[this.getPrefixedString("-dialog")]:mt(this,ft)}).build(),s=new ct("div").setClasses(this.getPrefixedString("-dialog-container")).build();return s.appendChild(mt(this,ut)),s.appendChild(mt(this,lt)),s.appendChild(mt(this,dt)),i.appendChild(s),i}appendChildrens(t,...e){Object(ot.is)(e)&&e.forEach(e=>t.appendChild(e))}getPrefixedString(t){return mt(this,pt)+t}}ut=new WeakMap,lt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ft=new WeakMap,gt=new WeakMap;var bt,kt,Et,yt,Ot,Ct,Mt,xt,St=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},At=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Tt{constructor(t,e,i){bt.set(this,void 0),kt.set(this,void 0),Et.set(this,void 0),yt.set(this,void 0),Ot.set(this,void 0),St(this,bt,{yes:i.onYes,no:i.onNo,cancel:i.onCancel,ok:i.onOk}),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,St(this,kt,t),St(this,Et,e),this.reverse=!1,St(this,Ot,null),this.closeStr=At(this,kt).setup.prefix+"-close",this.iconStr=At(this,kt).setup.prefix+"-icon"}getId(){return At(this,Et)}show(t){let e=document.getElementById(At(this,Et));Object(ot.is)(e)?this.updateElement(e):(e=this.createElement(),t.appendChild(e)),setTimeout(()=>{St(this,yt,new m([e],At(this,kt)));let t=At(this,yt).on("closed",this.onClose.bind(this));St(this,Ot,t.length>0?t[0]:null),At(this,yt).emit("open")},100)}updateElement(t){let e=t.querySelector(`.${this.prefix}-dialog-title`),i=t.querySelector(`.${this.prefix}-dialog-body>p`);At(this,kt).interactions.mutate(()=>{e&&(e.innerHTML=this.title),i&&(i.innerHTML=this.content)},null)}onClose(t){try{Object(ot.is)(t)&&t.state&&Object(ot.is)(At(this,bt)[t.state])&&At(this,bt)[t.state]()}finally{null!=At(this,Ot)&&(At(this,yt).detach("closed",At(this,Ot)),St(this,Ot,null)),St(this,yt,null)}}}bt=new WeakMap,kt=new WeakMap,Et=new WeakMap,yt=new WeakMap,Ot=new WeakMap;class Wt extends Tt{constructor(t,e,i){var s;super(t,e,i),Ct.set(this,void 0),St(this,Ct,e),this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new wt(this.prefix,this.reverse);return t.createHeader(this.title,null,[new ct("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody(null,[new ct("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new ct("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: cancel"}).build("Cancel"),new ct("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(At(this,Ct))}}Ct=new WeakMap;class Lt extends Tt{constructor(t,e,i){var s;super(t,e,i),Mt.set(this,void 0),St(this,Mt,e),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new wt(this.prefix,this.reverse);return t.createHeader(this.title,null,null),t.createBody(null,[new ct("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new ct("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(At(this,Mt))}}Mt=new WeakMap;class jt extends Tt{constructor(t,e,i){var s;super(t,e,i),xt.set(this,void 0),St(this,xt,e),this.content=i.message,this.title=i.title,this.prefix=t.setup.prefix,this.reverse=null!==(s=i.reverse)&&void 0!==s&&s}createElement(){let t=new wt(this.prefix,this.reverse);return t.createHeader(this.title,null,[new ct("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody(null,[new ct("p").build(this.content)]),t.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new ct("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: no"}).build("No"),new ct("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: yes"}).build("Yes")]),t.build(At(this,xt))}}xt=new WeakMap;var It,Nt,Pt,Dt,_t,Ht=i(25),$t=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Rt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Bt{constructor(t){It.set(this,void 0),Nt.set(this,void 0),Pt.set(this,void 0),Dt.set(this,void 0),_t.set(this,void 0),$t(this,It,t),$t(this,Nt,new Ht.a),Rt(this,Nt).setCallback(this.onMove.bind(this)),$t(this,_t,null)}attach(){Rt(this,Nt).isAttached()||(Rt(this,Nt).attach(),$t(this,Dt,Rt(this,It).on(ot.EVENTS.MOVE_LOCK,this.onMoveLock.bind(this))))}detach(){Rt(this,Nt).isAttached()&&(Rt(this,Nt).detach(),Rt(this,Dt)&&Rt(this,It).detach(ot.EVENTS.MOVE_LOCK,Rt(this,Dt)))}isAttached(){return Rt(this,Nt).isAttached()}onMove(t){if(!Rt(this,Pt))switch(t.type){case"down":$t(this,_t,t);break;case"move":Rt(this,_t)&&(Rt(this,It).emit(ot.EVENTS.GLOBAL_MOVE,null,Rt(this,_t)),$t(this,_t,null)),Rt(this,It).emit(ot.EVENTS.GLOBAL_MOVE,null,t);break;case"up":if(Rt(this,_t))return void $t(this,_t,null);Rt(this,It).emit(ot.EVENTS.GLOBAL_MOVE,null,t)}}onMoveLock(t){$t(this,Pt,t)}}It=new WeakMap,Nt=new WeakMap,Pt=new WeakMap,Dt=new WeakMap,_t=new WeakMap;var Vt,Ft,qt,zt,Ut,Kt,Gt,Yt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((s=s.apply(t,e||[])).next())}))},Xt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Zt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Jt{constructor(t,e,i){Vt.set(this,void 0),Ft.set(this,void 0),qt.set(this,void 0),zt.set(this,void 0),Ut.set(this,void 0),Kt.set(this,void 0),Gt.set(this,void 0),l.l.prefix=t.prefix,l.l.logLevel=t.logLevel,this.plugins=new et(e),Xt(this,Ut,null!=i?i:[]),Xt(this,zt,new X.a(t)),Xt(this,Vt,u.a.get("CuiInstance")),Xt(this,Kt,t.root),Xt(this,Gt,new Bt(Zt(this,zt).bus))}init(){if(Zt(this,Vt).debug("Instance started","init"),!Object(c.x)(window.MutationObserver))throw new Z.c("Mutation observer does not exists");Xt(this,qt,new W(Zt(this,zt).interactions,Zt(this,zt).setup.prefix,Zt(this,zt).setup.animationTimeLong));const t=Zt(this,Ut).map(t=>t.attribute),e=Object(c.x)(t)?Zt(this,Kt).querySelectorAll(Object(c.B)(t)):null;if(Object(c.x)(e)){Zt(this,Vt).debug(`Initiating ${e.length} elements`);try{e.forEach(e=>{Object(c.D)(e,Zt(this,Ut),t,Zt(this,zt))})}catch(t){Zt(this,Vt).exception(t)}}return Zt(this,Vt).debug("Init plugins","init"),this.plugins.init(Zt(this,zt)),Object(c.a)(Zt(this,Ut),t)&&(Zt(this,Vt).debug("Init mutation observer","init"),Xt(this,Ft,new x.b(Zt(this,Kt),Zt(this,zt))),Zt(this,Ft).setComponents(Zt(this,Ut)).setAttributes(t),Zt(this,Ft).setPlugins(this.plugins),Zt(this,Ft).start()),Zt(this,Vt).debug("Setting CSS globals","init"),Zt(this,zt).interactions.mutate(()=>{Zt(this,zt).setProperty(l.g.animationTimeLong,Zt(this,zt).setup.animationTimeLong+"ms"),Zt(this,zt).setProperty(l.g.animationTime,Zt(this,zt).setup.animationTime+"ms"),Zt(this,zt).setProperty(l.g.animationTimeShort,Zt(this,zt).setup.animationTimeShort+"ms")},null),Zt(this,Gt).attach(),Zt(this,zt).bus.emit(l.i.INSTANCE_INITIALIZED,null),this}finish(){Zt(this,Ft).stop(),Zt(this,Gt).detach(),Zt(this,zt).bus.emit(l.i.INSTANCE_FINISHED,null)}get(t){const e=this.all(t);if(!e)return;return new m(e,Zt(this,zt))}collection(t){const e=this.all(t);if(!Object(c.x)(e))return;return new U(e,Zt(this,zt).interactions)}toast(t){return Yt(this,void 0,void 0,(function*(){return!!Object(c.x)(t)&&Zt(this,qt).show(t)}))}select(t){return document.querySelector(t)}all(t){const e=document.querySelectorAll(t);if(Object(c.x)(e))return[...e]}getUtils(){return Zt(this,zt)}on(t,e,i){Object(c.a)(t,e)||Zt(this,Vt).error("Incorrect arguments","on"),Zt(this,zt).bus.on(t,e,i)}detach(t,e){Object(c.a)(t,e)||Zt(this,Vt).error("Incorrect arguments","detach"),Zt(this,zt).bus.detach(t,e)}detachAll(t){Object(c.x)(t)||Zt(this,Vt).error("Incorrect arguments","detachAll"),Zt(this,zt).bus.detachAll(t)}emit(t,e,...i){if(!Object(c.a)(t,e))return void Zt(this,Vt).warning("Not enough data to emit event","emit");let s=("string"==typeof e?document.querySelector(e):e).$cuid;Object(c.x)(s)?Zt(this,zt).bus.emit(t,s,...i):Zt(this,Vt).warning("Element is not a cUI element","emit")}alert(t,e,i){(class{static get(t,e,i,s){return"Info"===e?new Lt(s,t,i):"YesNoCancel"===e?new jt(s,t,i):"OkCancel"===e?new Wt(s,t,i):void 0}}).get(t,e,i,Zt(this,zt)).show(Zt(this,Kt))}}Vt=new WeakMap,Ft=new WeakMap,qt=new WeakMap,zt=new WeakMap,Ut=new WeakMap,Kt=new WeakMap,Gt=new WeakMap},function(t,e,i){"use strict";i.d(e,"b",(function(){return b})),i.d(e,"a",(function(){return k}));var s,n,r,o,h,a,c,u,l,d,p,f,g=i(5),v=i(0),m=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},w=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class b{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h.set(this,void 0),a.set(this,void 0),c.set(this,void 0),m(this,s,null),m(this,r,t),this._log=g.a.get("CuiMutationObserver"),this.plugins=null,m(this,o,[]),m(this,h,[]),m(this,a,e),m(this,c,"")}setPlugins(t){return this.plugins=t,this}setComponents(t){return m(this,o,t),this}setAttributes(t){return m(this,n,{attributes:!0,subtree:!0,childList:!0,attributeFilter:t}),m(this,h,t),m(this,c,Object(v.B)(t)),this}start(){return this._log.debug("Starting"),m(this,s,new MutationObserver(this.mutationCallback.bind(this))),w(this,s).observe(w(this,r),w(this,n)),this._log.debug("Started"),this}stop(){return this._log.debug("Stopping"),null!==w(this,s)&&this._log.debug("Observer available"),w(this,s).disconnect(),m(this,s,null),this._log.debug("Stopped"),this}mutationCallback(t,e){t.forEach(t=>{switch(t.type){case"attributes":const e=t.target;Object(v.a)(e.$handlers,e.$handlers[t.attributeName])&&e.$handlers[t.attributeName].refresh(Object(v.C)(e,t.attributeName));break;case"childList":this.handleChildListMutation(t)}Object(v.x)(this.plugins)&&this.plugins.onMutation(t).then(()=>{})})}handleChildListMutation(t){const e=t.addedNodes.length,i=t.removedNodes.length;e>0?(this._log.debug("Registering added nodes: "+e),this.handleAddedNodes(t.addedNodes)):i>0&&(this._log.debug("Removing nodes: "+i),this.handleRemovedNodes(t.removedNodes))}handleAddedNodes(t){t.forEach(t=>{try{Object(v.D)(t,w(this,o),w(this,h),w(this,a));let e=t.hasChildNodes()?t.querySelectorAll(w(this,c)):null;Object(v.x)(e)&&e.forEach(t=>{Object(v.D)(t,w(this,o),w(this,h),w(this,a))})}catch(t){this._log.exception(t)}})}handleRemovedNodes(t){t.forEach(t=>{this.destroySingleElement(t);let e=t.hasChildNodes()?t.querySelectorAll(w(this,c)):null;Object(v.x)(e)&&e.forEach(t=>{this.destroySingleElement(t)})})}destroySingleElement(t){let e=t;if(e.$handlers)for(let t in e.$handlers)if(e.$handlers.hasOwnProperty(t))try{e.$handlers[t].destroy()}catch(e){this._log.exception(e,"remove - "+t)}}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap,c=new WeakMap;class k{constructor(t){u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),p.set(this,void 0),f.set(this,{childList:!0,subtree:!0}),m(this,l,null),m(this,u,!1),m(this,d,t)}observe(){w(this,u)||w(this,p)||(w(this,l).observe(w(this,d),w(this,f)),m(this,u,!0))}unobserve(){w(this,u)&&(w(this,l).disconnect(),m(this,u,!1))}isObserving(){return w(this,u)}disable(t){m(this,p,t),w(this,p)&&this.unobserve()}onMutation(t){w(this,u)&&this.unobserve(),m(this,l,new MutationObserver(t))}}u=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s,n,r,o,h,a=i(0),c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),h.set(this,void 0),c(this,r,!1),c(this,s,null!=t?t:document.body),c(this,o,!1),c(this,h,!1),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this)}setCallback(t){c(this,n,t)}isInProgress(){return u(this,r)}preventDefault(t){c(this,h,t)}attach(){u(this,o)||(u(this,s).addEventListener("mousedown",this.onMouseDown),u(this,s).addEventListener("mouseup",this.onMouseUp),u(this,s).addEventListener("mousemove",this.onMouseMove),u(this,s).addEventListener("touchstart",this.onTouchStart),u(this,s).addEventListener("touchend",this.onTouchEnd),u(this,s).addEventListener("touchmove",this.onTouchMove),c(this,o,!0))}detach(){console.log("On detach"),u(this,o)&&(u(this,s).removeEventListener("mousedown",this.onMouseDown),u(this,s).removeEventListener("mouseup",this.onMouseUp),u(this,s).removeEventListener("mousemove",this.onMouseMove),u(this,s).removeEventListener("touchstart",this.onTouchStart),u(this,s).removeEventListener("touchend",this.onTouchEnd),u(this,s).removeEventListener("touchmove",this.onTouchMove),c(this,o,!1))}isAttached(){return u(this,o)}onMouseDown(t){u(this,r)||(c(this,r,!0),this.publishMouseEvent("down",t))}onMouseUp(t){u(this,r)&&(c(this,r,!1),this.publishMouseEvent("up",t))}onMouseMove(t){u(this,r)&&this.publishMouseEvent("move",t)}onTouchStart(t){u(this,r)||(c(this,r,!0),this.publishTouchEvent("down",t))}onTouchEnd(t){u(this,r)&&(c(this,r,!1),this.publishTouchEvent("up",t))}onTouchMove(t){u(this,r)&&this.publishTouchEvent("move",t)}publishMouseEvent(t,e){Object(a.x)(u(this,n))&&u(this,n).call(this,{type:t,x:e.clientX,y:e.clientY,moveX:e.movementX,moveY:e.movementY,target:e.target,event:e})}publishTouchEvent(t,e){if(Object(a.x)(u(this,n))){let i=null;e.touches.length>0?i=e.touches[0]:e.changedTouches.length>0&&(i=e.changedTouches[0]),u(this,n).call(this,{event:e,type:t,target:e.target,x:Object(a.x)(i)?i.clientX:-1,y:Object(a.x)(i)?i.clientY:-1,moveX:-1,moveY:-1})}}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakMap},function(t,e,i){"use strict";i(0);new WeakMap,new WeakMap,new WeakMap,new WeakMap},function(t,e){},function(t,e,i){"use strict";i.r(e),i.d(e,"CUI_LIGHT_VERSION",(function(){return u}));var s=i(22),n=i(14);for(var r in n)["default","CUI_LIGHT_VERSION","CuiInstance"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var o=i(13);for(var r in o)["default","CUI_LIGHT_VERSION","CuiInstance"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var h=i(6);i.d(e,"CuiSetup",(function(){return h.a})),i.d(e,"CuiSetupInit",(function(){return h.b}));var a=i(7);i.d(e,"CuiUtils",(function(){return a.a})),i.d(e,"CuiInitializer",(function(){return s.b})),i.d(e,"CuiInit",(function(){return s.a}));var c=i(23);i.d(e,"CuiInstance",(function(){return c.a}));const u="0.1.27";window.cuiInit=new s.a}])}));
//# sourceMappingURL=index.js.map