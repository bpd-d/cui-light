!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("cui-light",[],e):"object"==typeof exports?exports["cui-light"]=e():t["cui-light"]=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=27)}([function(t,e,i){"use strict";i.d(e,"v",(function(){return r})),i.d(e,"l",(function(){return o})),i.d(e,"D",(function(){return a})),i.d(e,"d",(function(){return h})),i.d(e,"p",(function(){return c})),i.d(e,"q",(function(){return u})),i.d(e,"u",(function(){return l})),i.d(e,"e",(function(){return d})),i.d(e,"z",(function(){return p})),i.d(e,"s",(function(){return f})),i.d(e,"t",(function(){return v})),i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return m})),i.d(e,"n",(function(){return b})),i.d(e,"m",(function(){return k})),i.d(e,"k",(function(){return y})),i.d(e,"w",(function(){return C})),i.d(e,"h",(function(){return O})),i.d(e,"A",(function(){return M})),i.d(e,"y",(function(){return T})),i.d(e,"r",(function(){return S})),i.d(e,"x",(function(){return A})),i.d(e,"C",(function(){return L})),i.d(e,"g",(function(){return x})),i.d(e,"B",(function(){return j})),i.d(e,"c",(function(){return I})),i.d(e,"j",(function(){return D})),i.d(e,"o",(function(){return P})),i.d(e,"i",(function(){return _})),i.d(e,"f",(function(){return H}));var s=i(5),n=i(1);function r(t,e=!0){return null!=t&&(!e||!function(t){if("string"==typeof t)return 0===t.length;if("boolean"==typeof t)return t;if(Array.isArray(t))return 0===t.length;return!1}(t))}function o(t,e){if(!r(t)||!r(e))throw new s.a("Missing argument value");return`${t}-${e}`}function a(t){return new Promise(e=>setTimeout(()=>{e(!0)},t))}function h(t){if(!r(t))return null;let e=document.createElement("template");return e.innerHTML=t,e.content.children.length>0?e.content.children[0]:null}function c(t,e,i){return t<e?e:t>i?i:t}function u(t,e,i,s){return null==t||isNaN(t)?s:c(t,e,i)}function l(t,e){return e<0||e>1?0:t+t*e}function d(t,e){return e<0||e>1?0:t-t*e}function p(t){return r(t)?`[${t.join("],[")}]`:""}function f(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function v(){return window.matchMedia&&window.matchMedia("print").matches}function g(...t){if(!r(t))return!1;let e=t.length;for(let i=0;i<e;i++)if(!r(t[i]))return!1;return!0}function m(t){return t<=640?"small":t>640&&t<=960?"medium":t>960&&t<=1200?"large":"xlarge"}function w(t){let e=function(t){let e=null;if(r(t)&&t.startsWith("{")&&t.endsWith("}")){try{e=function(t){return t&&t.length>0?JSON.parse(t):{}}(t)}catch(t){console.error((i="An exception occured",s="Functions",n="parseJsonString",`[${(new Date).toLocaleString()}][${null!=s?s:"-"}][${null!=n?n:"-"}][${i}]`),t)}return e}var i,s,n;return null}(t.trim());return r(e)||(t.includes(";")||t.includes(":")?(e={},t.split(";").forEach(t=>{let i=t.split(":");2===i.length&&(e[i[0].trim()]=i[1].trim())})):e=t),e}function b(t){if(!r(t))return-1;let e=t.offsetTop-parseInt(E(t,"margin-top"))-parseInt(E(t,"padding-top"))-parseInt(E(t,"border-top-width"));return e<0?t.offsetTop:e}function k(t){if(!r(t))return-1;let e=t.offsetLeft-parseInt(E(t,"margin-left"))-parseInt(E(t,"padding-left"))-parseInt(E(t,"border-left-width"));return e<0?t.offsetLeft:e}function y(t,e){let i=parseInt(t);return isNaN(i)?e:i}function E(t,e){return r(t)&&r(e)?t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):null:null}function C(t,e,i){return r(t)&&t>=e&&t<=i}function O(t){return(null!=t?t:"")+"-active"}function M(t,e){return g(t,e)?w(t.getAttribute(e)):null}function T(t){return!!r(t)&&["y","t","true","yes"].includes(t.toLowerCase())}function S(t,e){return r(t)?t.toLowerCase():e}function A(t){return"string"==typeof t}function L(t,e){return r(t)?t.replace("{prefix}",null!=e?e:""):t}function x(){let t=W(1,1e3),e=W(1,100);return`${Math.floor(Math.random()*e)}-${Math.floor(t)}`}function W(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function j(t,e,i,o){let a=t;a.$handlers={};let h=function(t,e){return t&&r(t.hasAttribute)?e.filter(e=>t.hasAttribute(e)):null}(t,i);r(h)&&(a.$cuid=t.hasAttribute(n.h)?t.getAttribute(n.h):function(t){return`${r(t)?t:"cui-element"}-${n.b.next().value}`}(t.tagName),t.setAttribute(n.h,a.$cuid),h.forEach(i=>{let n=e.find(t=>t.attribute===i);if(r(n))try{o.styleAppender.append(n.getStyle());let e=n.get(t,o);a.$handlers[n.attribute]=e,a.$handlers[n.attribute].handle(M(t,n.attribute))}catch(t){throw new s.e(t.message)}}))}function*I(){let t=0;for(;;){((yield t++)||t>2e5)&&(t=0)}}function D(t,e){if(!r(t.$handlers))return null;for(let i in t.$handlers)if(t.$handlers.hasOwnProperty(i)){let s=t.$handlers[i];if(N(s,e))return s}return null}function N(t,e){return r(t[e])&&"function"==typeof t[e]}function P(t){let e=t.parentElement;return r(e)&&r(e.$cuid)?e:P(e)}function _(t){let e=0;return t?(Array.from(t.children).forEach(t=>{e+=t.offsetHeight}),e>0?e+2:e):-1}function H(t,e){if(g(t,e))for(let i in t)t.hasOwnProperty(i)&&e(i,t[i])}},function(t,e,i){"use strict";i.d(e,"h",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"j",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return c})),i.d(e,"f",(function(){return u})),i.d(e,"k",(function(){return l})),i.d(e,"g",(function(){return d})),i.d(e,"l",(function(){return p})),i.d(e,"i",(function(){return f})),i.d(e,"b",(function(){return v}));var s=i(0);const n="cuid",r={dark:"dark",animProgress:"animation-progress",print:"print",active:"active"},o={close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 1.9999999,1.9999999 18,18"></path><path d="M 18,1.9999999 1.9999999,18"></path></svg>',accordion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 5.0000475,7.4490018 10.000024,12.551028 15,7.4490018"></path></svg>',special_menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path class="menu_handle_2" d="M 1,10 H 19"></path><path class="menu_handle_1" d="M 1,4.8571429 H 19"></path><path  class="menu_handle_3" d="M 1,15.142857 H 19"></path></svg>',special_fail:'<svg xmlns="http://www.w3.org/2000/svg" class="special-fail" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7.000001 A 43,43 0 0 1 92.999999,50 43,43 0 0 1 50,92.999999 43,43 0 0 1 7.0000011,50 43,43 0 0 1 50,7.000001 Z"></path><path class="arm_1" d="M 28.536809,28.536809 71.342023,71.342023"></path><path class="arm_2" d="M 71.342023,28.536809 28.536809,71.342023"></path></svg>',special_success:'<svg xmlns="http://www.w3.org/2000/svg" class="special-success" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7 A 43,43 0 0 1 93,50 43,43 0 0 1 50,93 43,43 0 0 1 7,50 43,43 0 0 1 50,7 Z"></path><path class="arm" d="M 22.988405,48.234784 36.946233,72.410453 75.516456,33.84023"></path></svg>'},a={light:"--cui-color-light-app-background",dark:"--cui-color-dark-app-background"},h={light:"--cui-color-light-background",dark:"--cui-color-dark-background "},c={light:"--cui-color-light-border",dark:"--cui-color-dark-border"},u={light:{base:"--cui-color-light-base",muted:"--cui-color-light-muted",active:"--cui-color-light-active"},dark:{base:"--cui-color-dark-base",muted:"--cui-color-dark-muted",active:"--cui-color-dark-active"},accent:{base:"--cui-color-primary",muted:"--cui-color-primary-muted",active:"--cui-color-primary-active"},secondary:{base:"--cui-color-secondary",muted:"--cui-color-secondary-muted",active:"--cui-color-secondary-active"},success:{base:"--cui-color-success",muted:"--cui-color-success-muted",active:"--cui-color-success-active"},warning:{base:"--cui-color-warning",muted:"--cui-color-warning-muted",active:"--cui-color-warning-active"},error:{base:"--cui-color-error",muted:"--cui-color-error-muted",active:"--cui-color-error-active"}},l=":scope ",d={fontSize:"--{prefix}-font-size",lineHeight:"--{prefix}-line-height",animationTime:"--{prefix}-animation-time",animationTimeLong:"--{prefix}-animation-time-long",animationTimeShort:"--{prefix}-animation-time-short",colorLightAppBackground:"--{prefix}-color-light-app-background",colorLightBackground:"--{prefix}-color-light-background",colorLightBorder:"--{prefix}-color-light-border",colorLightBase:"--{prefix}-color-light-base",colorLightActive:"--{prefix}-color-light-active",colorLightMuted:"--{prefix}-color-light-muted",colorDarkAppBackground:"--{prefix}-color-dark-app-background",colorDarkBackground:"--{prefix}-color-dark-background",colorDarkBorder:"--{prefix}-color-dark-border",colorDarkBase:"--{prefix}-color-dark-base",colorDarkActive:"--{prefix}-color-dark-active",colorDarkMuted:"--{prefix}-color-dark-muted",colorAccent:"--{prefix}-color-primary",colorAccentActive:"--{prefix}-color-primary-active",colorAccentMuted:"--{prefix}-color-primary-muted",colorAccentShade:"--{prefix}-color-primary-shade",colorAccentShadeDark:"--{prefix}-color-primary-shade-dark",colorSecondary:"--{prefix}-color-secondary",colorSecondaryActive:"--{prefix}-color-secondary-active",colorSecondaryMuted:"--{prefix}-color-secondary-muted",colorSecondaryShade:"--{prefix}-color-secondary-shade",colorSecondaryShadeDark:"--{prefix}-color-secondary-shade-dark",colorWarning:"--{prefix}-color-warning",colorWarningActive:"--{prefix}-color-warning-active",colorWarningMuted:"--{prefix}-color-warning-muted",colorWarningShade:"--{prefix}-color-warning-shade",colorWarningShadeDark:"--{prefix}-color-warning-shade-dark",colorSuccess:"--{prefix}-color-success",colorSuccessActive:"--{prefix}-color-success-active",colorSuccessMuted:"--{prefix}-color-success-muted",colorSuccessShade:"--{prefix}-color-success-shade",colorSuccessShadeDark:"--{prefix}-color-success-shade-dark",colorError:"--{prefix}-color-error",colorErrorActive:"--{prefix}-color-error-active",colorErrorMuted:"--{prefix}-color-error-muted",colorErrorShade:"--{prefix}-color-error-shade",colorErrorShadeDark:"--{prefix}-color-error-shade-dark",inputBackground:"--{prefix}-input-background-color",colorShade:"--{prefix}-color-shade",colorShadeDarker:"--{prefix}-color-shade-darker",colorShadeLight:"--{prefix}-color-shade-light",colorShadeLighter:"--{prefix}-color-shade-light-lighter",outline:"--{prefix}-outline",borderRadius:"--{prefix}-border-radius",padding:"--{prefix}-padding",margin:"--{prefix}-margin",scrollbarWidth:"--{prefix}-scrollbar-width",componentSpace:"--{prefix}-component-space"};class p{}p.logLevel="none",p.prefix="cui";const f={INSTANCE_INITIALIZED:"instance-initialized",INSTANCE_FINISHED:"instance-finished",RESIZE:"resize",OPEN:"open",OPENED:"opened",CLOSE:"close",CLOSED:"closed",TOGGLE:"toggle",TOGGLED:"toggled",SWITCH:"switch",SWITCHED:"switched",ON_SCROLL:"scroll",TARGET_CHANGE:"targetchange",INTERSECTION:"intersection",KEYDOWN:"keydown",SCROLLBY:"scrollby",WINDOW_CLICK:"windowclick",OFFSET:"offset",PROGRESS_CHANGE:"progresschange",PROGRESS_CHANGED:"progresschanged",CHANGE:"change",CHANGED:"changed"},v=Object(s.c)()},function(t,e,i){"use strict";i(25),i(5);var s=i(11);i.o(s,"CuiActionsFatory")&&i.d(e,"CuiActionsFatory",(function(){return s.CuiActionsFatory})),i.o(s,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return s.CuiActionsHelper})),i.o(s,"EVENTS")&&i.d(e,"EVENTS",(function(){return s.EVENTS})),i.o(s,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return s.SCOPE_SELECTOR})),i.o(s,"enumerateObject")&&i.d(e,"enumerateObject",(function(){return s.enumerateObject})),i.o(s,"getActiveClass")&&i.d(e,"getActiveClass",(function(){return s.getActiveClass})),i.o(s,"getChildrenHeight")&&i.d(e,"getChildrenHeight",(function(){return s.getChildrenHeight})),i.o(s,"getIntOrDefault")&&i.d(e,"getIntOrDefault",(function(){return s.getIntOrDefault})),i.o(s,"getName")&&i.d(e,"getName",(function(){return s.getName})),i.o(s,"getStringOrDefault")&&i.d(e,"getStringOrDefault",(function(){return s.getStringOrDefault})),i.o(s,"is")&&i.d(e,"is",(function(){return s.is})),i.o(s,"isInRange")&&i.d(e,"isInRange",(function(){return s.isInRange})),i.o(s,"isStringTrue")&&i.d(e,"isStringTrue",(function(){return s.isStringTrue})),i.o(s,"replacePrefix")&&i.d(e,"replacePrefix",(function(){return s.replacePrefix}));var n=i(12);i.o(n,"CuiActionsFatory")&&i.d(e,"CuiActionsFatory",(function(){return n.CuiActionsFatory})),i.o(n,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return n.CuiActionsHelper})),i.o(n,"EVENTS")&&i.d(e,"EVENTS",(function(){return n.EVENTS})),i.o(n,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return n.SCOPE_SELECTOR})),i.o(n,"enumerateObject")&&i.d(e,"enumerateObject",(function(){return n.enumerateObject})),i.o(n,"getActiveClass")&&i.d(e,"getActiveClass",(function(){return n.getActiveClass})),i.o(n,"getChildrenHeight")&&i.d(e,"getChildrenHeight",(function(){return n.getChildrenHeight})),i.o(n,"getIntOrDefault")&&i.d(e,"getIntOrDefault",(function(){return n.getIntOrDefault})),i.o(n,"getName")&&i.d(e,"getName",(function(){return n.getName})),i.o(n,"getStringOrDefault")&&i.d(e,"getStringOrDefault",(function(){return n.getStringOrDefault})),i.o(n,"is")&&i.d(e,"is",(function(){return n.is})),i.o(n,"isInRange")&&i.d(e,"isInRange",(function(){return n.isInRange})),i.o(n,"isStringTrue")&&i.d(e,"isStringTrue",(function(){return n.isStringTrue})),i.o(n,"replacePrefix")&&i.d(e,"replacePrefix",(function(){return n.replacePrefix}));i(6),i(7);var r=i(3);i.d(e,"CuiActionsFatory",(function(){return r.a}));i(16);var o=i(0);i.d(e,"enumerateObject",(function(){return o.f})),i.d(e,"getActiveClass",(function(){return o.h})),i.d(e,"getChildrenHeight",(function(){return o.i})),i.d(e,"getIntOrDefault",(function(){return o.k})),i.d(e,"getName",(function(){return o.l})),i.d(e,"getStringOrDefault",(function(){return o.r})),i.d(e,"is",(function(){return o.v})),i.d(e,"isInRange",(function(){return o.w})),i.d(e,"isStringTrue",(function(){return o.y})),i.d(e,"replacePrefix",(function(){return o.C}));i(10),i(13);var a=i(26);i.o(a,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return a.CuiActionsHelper})),i.o(a,"EVENTS")&&i.d(e,"EVENTS",(function(){return a.EVENTS})),i.o(a,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return a.SCOPE_SELECTOR}));var h=i(1);i.d(e,"EVENTS",(function(){return h.i})),i.d(e,"SCOPE_SELECTOR",(function(){return h.k}));i(20),i(4),i(15);var c=i(14);i.d(e,"CuiActionsHelper",(function(){return c.a}));i(19),i(18),i(17),i(21),i(8),i(9)},function(t,e,i){"use strict";i.d(e,"c",(function(){return h})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return d}));var s,n,r=i(0),o=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class h{constructor(t){s.set(this,void 0),o(this,s,t)}add(t,e){Object(r.a)(t,a(this,s))&&!t.classList.contains(a(this,s))&&t.classList.add(a(this,s))}remove(t,e){Object(r.a)(t,a(this,s))&&t.classList.contains(a(this,s))&&t.classList.remove(a(this,s))}toggle(t,e){Object(r.a)(t,a(this,s))&&(t.classList.contains(a(this,s))?t.classList.add(a(this,s)):t.classList.remove(a(this,s)))}}s=new WeakMap;class c{constructor(t){n.set(this,void 0),o(this,n,t)}add(t,e){switch(a(this,n)){case"dark-mode":e.setLightMode("dark");break;case"light-mode":e.setLightMode("light")}}remove(t,e){switch(a(this,n)){case"dark-mode":e.setLightMode("light");break;case"light-mode":e.setLightMode("dark")}}toggle(t,e){switch(a(this,n)){case"dark-mode":case"light-mode":this.setDarkMode(e)}}setDarkMode(t){"dark"===t.getLightMode()?t.setLightMode("light"):t.setLightMode("dark")}}n=new WeakMap;class u{constructor(){}add(t,e){}remove(t,e){}toggle(t,e){}}class l{static get(t){if(!Object(r.v)(t))return new u;switch(t[0]){case".":return new h(t.substring(1));case"~":return new c(t.substring(1));default:return new h(t)}}}class d{static get(t){if(!Object(r.v)(t))return[];return t.split(",").map(t=>l.get(t.trim()))}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i(13),n=i(1);class r{static get(t,e){return new s.a(t,null!=e?e:n.l.logLevel)}}},function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"e",(function(){return h}));class s extends Error{constructor(t,e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=t}}class n extends s{constructor(t){super("ItemNotFoundError",t)}}class r extends s{constructor(t){super("ArgumentError",t)}}class o extends s{constructor(t){super("CuiInstanceInitError",t)}}class a extends s{constructor(t){super("CuiScrollSpyOutOfRangeError",t)}}class h extends s{constructor(t){super("RegisterElementError",t)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}));class s{constructor(){this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.plugins={}}fromInit(t){return this.prefix=t.prefix,this.logLevel=t.logLevel,this.cacheSize=t.cacheSize,this.autoLightMode=t.autoLightMode,this.animationTime=t.animationTime,this.animationTimeShort=t.animationTimeShort,this.animationTimeLong=t.animationTimeLong,this.scrollThreshold=t.scrollThreshold,this.resizeThreshold=t.resizeThreshold,this}}class n{constructor(){this.prefix="cui",this.app="$cui",this.logLevel="warning",this.interaction="async",this.animationTime=300,this.animationTimeShort=150,this.animationTimeLong=500,this.cacheSize=500,this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.root=document.body}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));var s,n,r=i(6),o=i(15),a=i(16),h=i(0),c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t){s.set(this,void 0),n.set(this,void 0),c(this,s,new a.a),c(this,n,null!=t?t:500)}put(t,e){Object(h.v)(t)&&(this.has(t)?u(this,s).update(t,e):(this.clean(),u(this,s).add(t,e)))}get(t){if(!Object(h.v)(t))return null;if(this.has(t)){let e=u(this,s).get(t);if(e.refresh())return e;u(this,s).remove(t)}return null}has(t){return!!Object(h.v)(t)&&u(this,s).containsKey(t)}remove(t){return!!Object(h.v)(t)&&(!!this.has(t)&&(u(this,s).remove(t),!0))}clear(){u(this,s).clear()}clean(){u(this,s).keys().length>=u(this,n)&&u(this,s).remove(u(this,s).keys()[0])}}s=new WeakMap,n=new WeakMap;var d,p,f,v,g=i(17),m=i(18),w=i(19),b=i(1),k=i(20),y=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},E=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class C{constructor(t){d.set(this,void 0),p.set(this,void 0),f.set(this,15),v.set(this,15),y(this,d,document.documentElement),y(this,p,t)}setAppBackground(t,e){this.setPropertyIn(b.c.light,t.toCssString()),this.setPropertyIn(b.c.dark,e.toCssString())}setComponentBackground(t,e){this.setPropertyIn(b.d.light,t.toCssString()),this.setPropertyIn(b.d.dark,e.toCssString())}setBordersColors(t,e){this.setPropertyIn(b.e.light,t.toCssString()),this.setPropertyIn(b.e.dark,e.toCssString())}setColor(t,e){var i,s;const n=b.f[t],r=e.base;if(!Object(h.v)(n)||!Object(h.v)(r))return;const o=null!==(i=e.muted)&&void 0!==i?i:r.clone().lighten(E(this,f)),a=null!==(s=e.active)&&void 0!==s?s:r.clone().darken(E(this,v));E(this,p).mutate(()=>{this.setProperty(n.base,r.toCssString()),this.setProperty(n.active,a.toCssString()),this.setProperty(n.muted,o.toCssString())},this)}setLightenFactor(t){y(this,f,Object(h.p)(t,0,100))}setDarkenFactor(t){y(this,v,Object(h.p)(t,0,100))}setProperty(t,e){E(this,d).style.setProperty(t,e)}setPropertyIn(t,e){Object(h.a)(e,t)&&E(this,p).mutate(this.setProperty,this,t,e)}}d=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap;var O,M,T,S,A,L,x,W=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},j=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class I{constructor(t,e){O.set(this,void 0),M.set(this,void 0),T.set(this,void 0),S.set(this,void 0),A.set(this,void 0),L.set(this,void 0),x.set(this,void 0),W(this,O,[]),W(this,M,[]),W(this,T,window.innerWidth),W(this,S,!1),W(this,A,Object(h.b)(window.innerWidth)),W(this,L,null!=e?e:0),W(this,x,t)}observe(t){j(this,O).findIndex(e=>e===t)<0&&j(this,O).push(t)}unobserve(t){let e=j(this,O).findIndex(e=>e===t);e>=0&&j(this,O).splice(e,1)}connect(){window.addEventListener("resize",this.listener.bind(this))}disconnect(){window.removeEventListener("resize",this.listener.bind(this))}listener(t){if(j(this,S))return;W(this,S,!0);const e=window.innerWidth-j(this,T);if(Math.abs(e)>=j(this,L)){const t=Object(h.b)(window.innerWidth);if(t!==j(this,A)){const e={current:t,previous:j(this,A),width:window.innerWidth,height:window.innerHeight,timestamp:Date.now()};j(this,x).emit(b.i.RESIZE,null,e),j(this,O).length>0&&(W(this,M,[]),j(this,O).forEach(t=>{j(this,M).push(t.resize(e))}),Promise.all(j(this,M)),W(this,M,[])),W(this,A,t)}}W(this,S,!1)}}O=new WeakMap,M=new WeakMap,T=new WeakMap,S=new WeakMap,A=new WeakMap,L=new WeakMap,x=new WeakMap;var D,N=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},P=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _{constructor(t){D.set(this,void 0),this.setup=(new r.a).fromInit(t),this.interactions=o.a.get(t.interaction),this.cache=new l(this.setup.cacheSize),this.bus=new g.a(new m.a(new w.a)),this.colors=new C(this.interactions),this.styleAppender=new k.a(this.interactions),N(this,D,new I(this.bus,this.setup.resizeThreshold)),P(this,D).connect()}setLightMode(t){const e=Object(h.l)(this.setup.prefix,b.a.dark),i=document.body.classList;"dark"!==t||i.contains(e)?"light"===t&&i.contains(e)&&this.interactions.mutate(()=>{i.remove(e)},this):this.interactions.mutate(()=>{i.add(e)},this)}getLightMode(){const t=Object(h.l)(this.setup.prefix,b.a.dark);return document.body.classList.contains(t)?"dark":"light"}setPrintMode(t){const e=Object(h.l)(this.setup.prefix,b.a.print),i=document.body.classList;t&&!i.contains(e)?i.add(e):!t&&i.contains(e)&&i.remove(e)}isPrintMode(){const t=Object(h.l)(this.setup.prefix,b.a.print);return document.body.classList.contains(t)}setProperty(t,e){let i=Object(h.C)(t,this.setup.prefix);document.documentElement.style.setProperty(i,e)}}D=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n,r,o,a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a(this,s,t),a(this,r,!1)}setCallback(t){a(this,n,t)}isInProgress(){return h(this,o)}attach(){window.matchMedia&&!h(this,r)&&h(this,s)&&(window.matchMedia(h(this,s)).addEventListener("change",this.event.bind(this)),a(this,r,!0))}detach(){h(this,r)&&(window.matchMedia(h(this,s)).removeEventListener("change",this.event.bind(this)),a(this,r,!1))}isAttached(){return h(this,r)}event(t){if(!h(this,o)){a(this,o,!0);try{h(this,n).call(this,t)}catch(t){console.error(t)}finally{a(this,o,!1)}}}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var s,n,r,o,a,h,c,u,l=i(0),d=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},p=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class f{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d(this,s,t),d(this,n,!1),d(this,r,Object(l.q)(e,0,100,0)),d(this,o,d(this,a,0)),d(this,c,!1),d(this,u,t instanceof Window)}setCallback(t){d(this,h,t)}attach(){p(this,s).addEventListener("scroll",this.listener.bind(this)),d(this,c,!0)}detach(){p(this,s).removeEventListener("scroll",this.listener.bind(this)),d(this,c,!1)}isInProgress(){return p(this,n)}isAttached(){return p(this,c)}listener(t){let e=this.getLeft(),i=this.getTop();d(this,o,p(this,o)+e),d(this,a,p(this,a)+i),!p(this,n)&&this.passedThreshold()&&(d(this,n,!0),requestAnimationFrame(()=>{p(this,h).call(this,{base:t,top:i,left:e}),d(this,n,!1),d(this,o,0),d(this,a,0)}))}passedThreshold(){return p(this,r)<=0||p(this,o)>=p(this,r)||p(this,a)>=p(this,r)}getTop(){return p(this,u)?window.pageYOffset:p(this,s).scrollTop}getLeft(){return p(this,u)?window.pageXOffset:p(this,s).scrollLeft}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap,c=new WeakMap,u=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var s,n=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},r=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class o{constructor(){this.isScheduled=!1,s.set(this,void 0),this.raf=window.requestAnimationFrame.bind(window),this.writes=[],this.reads=[],n(this,s,5)}mutate(t,e,...i){this.reads.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.writes.push(this.createTask(t,e,...i)),this.schedule()}createTask(t,e,...i){return e||i?t.bind(e,...i):t}run(t){let e=null;for(;e=t.shift();)e()}schedule(t){if(!this.isScheduled){if(this.isScheduled=!0,t>=r(this,s))throw new Error("Fast Dom limit reached");this.raf(this.flush.bind(this,t))}}flush(t){let e=null!=t?t:0,i=null,s=this.writes,n=this.reads;try{this.run(n),this.run(s)}catch(t){i=t,console.error(t)}this.isScheduled=!1,i&&this.schedule(e+1),(this.writes.length||this.reads.length)&&this.schedule(t+1)}}s=new WeakMap;class a{constructor(){this.isRunning=!1,this.tasks=[],this.raf=window.requestAnimationFrame.bind(window)}mutate(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}schedule(){this.isRunning||(this.isRunning=!0,this.raf(this.flush.bind(this)))}flush(){let t=null;for(;t=this.tasks.shift();)try{t()}catch(t){}this.isRunning=!1}createTask(t,e,...i){return e||i?t.bind(e,...i):t}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));class s{constructor(t,e){this.level=e,this.component=t,this.id="-"}setLevel(t){this.level=t}setId(t){this.id=t}debug(t,e){"debug"===this.level&&console.log(this.prepString(t,e))}error(t,e){"error"!==this.level&&"debug"!==this.level&&"warning"!==this.level||console.error(this.prepString(t,e))}warning(t,e){"warning"!==this.level&&"debug"!==this.level||console.warn(this.prepString(t,e))}exception(t,e){console.error(this.prepString(`An exception occured: ${t.name}: ${t.message}`,e)),"debug"===this.level&&console.error(t.stack)}performance(t,e){if("debug"!==this.level)return;let i=Date.now();t(),console.log(this.prepString(`Performance measure: ${Date.now()-i}ms`,e))}prepString(t,e){return`[${(new Date).toLocaleString()}][${this.component}][${null!=e?e:"-"}][${this.id}][${t}]`}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n=i(1),r=i(0),o=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),a(this,s,t)}performAction(t,e,i,r){return o(this,void 0,void 0,(function*(){return new Promise(o=>{h(this,s).mutate(()=>{e.add(t),t.classList.add(n.a.animProgress),setTimeout(()=>{h(this,s).mutate(()=>{e.remove(t),t.classList.remove(n.a.animProgress),r&&r(),o(!0)},null)},i)},null)})}))}performSwitchAction(t,e,i,a,c,u){return o(this,void 0,void 0,(function*(){return new Promise(o=>{h(this,s).mutate(()=>{i.add(t),t.classList.add(n.a.animProgress),Object(r.v)(e)&&(a.add(e),e.classList.add(n.a.animProgress)),setTimeout(()=>{h(this,s).mutate(()=>{i.remove(t),a.remove(e),t.classList.remove(n.a.animProgress),e.classList.remove(n.a.animProgress),c(),o(!0)},null)},u)},null)})}))}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(10);class n{static get(t){switch(t){case"async":return new s.a;default:return new s.b}}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n,r=i(5),o=i(0),a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),n.set(this,void 0),a(this,s,[]),a(this,n,[]),t&&t.forEach(t=>{if(!Object(o.v)(t.key))throw a(this,s,[]),a(this,n,[]),new r.a("Key is empty");this.add(t.key,t.value)})}add(t,e){if(this.throwOnEmptyKey(t),this.containsKey(t))throw new Error("Key already exists");h(this,s).push(t),h(this,n).push(e)}remove(t){if(!Object(o.v)(t))return;let e=h(this,s).indexOf(t);e>=0&&(h(this,s).splice(e,1),h(this,n).splice(e,1))}get(t){this.throwOnEmptyKey(t);let e=this.indexOf(t);if(!(e<0))return h(this,n)[e]}containsKey(t){return Object(o.v)(t)&&this.indexOf(t)>=0}keys(){return h(this,s)}values(){return h(this,n)}indexOf(t){return Object(o.v)(t)?h(this,s).indexOf(t):-1}update(t,e){this.throwOnEmptyKey(t);let i=this.indexOf(t);if(i<0)throw new r.d(`Item with key [${t}] not found`);h(this,n)[i]=e}clear(){a(this,n,[]),a(this,s,[])}throwOnEmptyKey(t){if(!Object(o.v)(t))throw new r.a("Key is empty")}}s=new WeakMap,n=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s,n,r,o=i(0),a=i(5),h=i(4),c=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},u=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},l=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class d{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),u(this,s,{}),u(this,r,t),u(this,n,h.a.get("CuiEventBus"))}on(t,e,i,r){if(!Object(o.a)(t,e))throw new a.a("Missing argument");let h=this.prepareEventId(i);return l(this,s)[t]||(l(this,s)[t]={}),this.isAttached(l(this,s)[t],h,r)?null:(l(this,n).debug(`Attaching new event: [${t}] for: [${h}]`),l(this,s)[t][h]={ctx:i,callback:e,$cuid:this.getCuid(r)},h)}detach(t,e,i){if(!Object(o.a)(t,e))throw new a.a("Missing argument");let r=l(this,s)[t],h=e.getId();l(this,n).debug(`Detaching item: [${h}] from [${t}]`),this.isAttached(r,h)&&delete r[h]}detachAll(t){Object(o.v)(t)&&l(this,s)[t]?delete l(this,s)[t]:l(this,n).error("Event name is missing or incorrect","detachAll")}emit(t,e,...i){return c(this,void 0,void 0,(function*(){if(!Object(o.v)(t))throw new a.a("Event name is incorrect");return l(this,n).debug(`Emit: [${t}]`),yield l(this,r).handle(l(this,s)[t],e,i),!0}))}isSubscribing(t,e,i){let n=l(this,s)[t];return this.isAttached(n,e.getId(),i)}isAttached(t,e,i){return Object(o.v)(i)?Object(o.v)(t)&&Object(o.v)(e)&&Object(o.v)(t[e])&&t[e].$cuid==i.$cuid:Object(o.v)(t)&&Object(o.v)(e)&&Object(o.v)(t[e])}getCuid(t){return Object(o.v)(t)?t.$cuid:null}prepareEventId(t){return Object(o.a)(t)?t.getId():Object(o.g)()}}s=new WeakMap,n=new WeakMap,r=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n=i(0),r=(i(4),function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))}),o=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class h{constructor(){this.queue=[],this.isBusy=!1}idMatches(t,e){return!Object(n.v)(t)||Object(n.v)(t)&&t==e}}new WeakMap,new WeakMap;class c extends h{constructor(t){super(),s.set(this,void 0),o(this,s,t)}handle(t,e,i){return r(this,void 0,void 0,(function*(){Object(n.v)(t)&&(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&this.perform(),this.isBusy=!1))}))}perform(){return r(this,void 0,void 0,(function*(){let t=this.queue.shift(),e=[];for(let i in t.events){let n=t.events[i];this.idMatches(t.cuid,n.$cuid)&&e.push(a(this,s).execute(n.callback,n.ctx,t.args))}return Promise.all(e)}))}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i(0),n=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))};class r{execute(t,e,i){return n(this,void 0,void 0,(function*(){i=null!=i?i:[],Object(s.v)(e)?t.apply(e,i):t(...i)}))}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s,n=i(0),r=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class o{constructor(t){s.set(this,void 0),r(this,s,t)}append(t){if(Object(n.v)(t)){const e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),s=document.createTextNode(t);i.type="text/css",i.appendChild(s),e.appendChild(i)}return!0}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s,n,r,o,a,h=i(0),c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c(this,n,e),c(this,r,!1),c(this,o,!0)}setCallback(t){c(this,s,t)}isInProgress(){return u(this,r)}attach(){document.addEventListener("keydown",this.onKeyDown.bind(this)),u(this,o)&&document.addEventListener("keyup",this.onKeyUp.bind(this)),c(this,a,!0)}detach(){document.removeEventListener("keydown",this.onKeyDown.bind(this)),u(this,o)&&document.addEventListener("keyup",this.onKeyUp.bind(this)),c(this,a,!1)}isAttached(){return u(this,a)}onKeyDown(t){if(!u(this,r)){c(this,r,!0);try{Object(h.v)(u(this,n))&&!u(this,n).includes(t.code)||u(this,s).call(this,t)}catch(t){console.error(t)}finally{u(this,o)||c(this,r,!1)}}}onKeyUp(t){c(this,r,!1)}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap},function(t,e,i){"use strict";i.d(e,"b",(function(){return Ys})),i.d(e,"a",(function(){return Xs}));var s,n,r=i(6),o=i(0),a=i(23),h=i(1),c=i(8),u=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},l=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class d{constructor(t){this.description="Dark vs Light mode auto switcher",this.name="auto-light",s.set(this,void 0),n.set(this,void 0),this.description="CuiAutoLightModePlugin",this.setup=t}init(t){u(this,n,t),this.setup.autoLight&&"dark"===Object(o.s)()&&l(this,n).setLightMode("dark"),u(this,s,new c.a("(prefers-color-scheme: dark)")),l(this,s).setCallback(this.onChange.bind(this)),l(this,s).attach()}destroy(){l(this,s).detach()}onChange(t){var e;let i=l(this,n).setup.plugins[this.description];null!==(e=null==i?void 0:i.autoLight)&&void 0!==e&&e&&(t.matches?l(this,n).setLightMode("dark"):l(this,n).setLightMode("light"))}}s=new WeakMap,n=new WeakMap;var p,f,v=i(4),g=i(2),m=i(24),w=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},b=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},k=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class y{constructor(t){p.set(this,void 0),b(this,p,t)}hasClass(t,e){return t&&e.classList.contains(t)}setClass(t,e){this.setClasses([t],e)}setClasses(t,e){e&&e.classList.add(...t)}setClassesAs(t,...e){k(this,p).mutate(this.setClasses,this,e,t)}removeClass(t,e){this.removeClasses([t],e)}removeClasses(t,e){e&&e.classList.remove(...t)}removeClassesAs(t,...e){k(this,p).mutate(this.removeClasses,this,e,t)}setStyle(t,e,i){t.style&&Object(g.is)(i)&&(t.style[e]=i)}}p=new WeakMap;class E{constructor(t,e,i){this._log=v.a.get(t),this.utils=i,this.element=e,this.cuid=e.$cuid,this.isLocked=!1,this._log.setId(this.cuid),this.activeClassName=Object(g.getActiveClass)(i.setup.prefix),this.helper=new y(i.interactions)}mutate(t,...e){this.utils.interactions.mutate(t,this,...e)}fetch(t,...e){this.utils.interactions.fetch(t,this,...e)}getEventName(t){return[t,this.cuid].join("-")}emitEvent(t,...e){this.utils.bus.emit(t,this.cuid,...e)}onEvent(t,e){this.utils.bus.on(t,e,this,this.element)}detachEvent(t){this.utils.bus.detach(t,this)}getId(){return this.cuid}checkLockAndWarn(t){return!!this.isLocked&&(this._log.warning("Component is locked",t),!0)}isActive(){return this.element.classList.contains(this.activeClassName)}}class C extends E{constructor(t,e,i,s){super(t,e,s),this.args=i,this.actionsHelper=new g.CuiActionsHelper(s.interactions),this.prevArgs=null,this.isInitialized=!1}handle(t){this._log.debug("Init","handle"),this.isInitialized?this._log.warning("Trying to initialize component again","handle"):(this.args.parse(t),this.onHandle(),this.isInitialized=!0)}refresh(t){this._log.debug("Update","refresh"),this.isInitialized?(this.prevArgs=Object.assign({},this.args),this.args.parse(t),this.onRefresh()):this._log.error("Cannot update not initialized component","refresh")}destroy(){this._log.debug("Destroy","destroy"),this.onRemove(),this.isInitialized=!1}}class O extends C{constructor(t,e,i,s){super(t,e,i,s)}onHandle(){this.onInit()}onRefresh(){this.onUpdate()}onRemove(){this.onDestroy()}performAction(t,e,i,s){return w(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performAction(this.element,t,e,s))&&(i(),!0)}))}}class M extends C{constructor(t,e,i,s){super(t,e,i,s),f.set(this,void 0),b(this,f,new m.a(e)),k(this,f).onMutation(this.mutation.bind(this))}onHandle(){this.onInit(),k(this,f).observe()}onRefresh(){k(this,f).unobserve(),this.onUpdate(),k(this,f).observe()}onRemove(){k(this,f).unobserve(),this.onDestroy()}mutation(t){this._log.debug("Element mutation","mutation"),this.onMutation(t.reduce((t,e)=>("childList"!==e.type||(e.addedNodes.length>0&&t.added.push(...e.addedNodes),e.removedNodes.length>0&&t.removed.push(...e.removedNodes)),t),{added:[],removed:[]}))}}f=new WeakMap;var T,S,A,L,x=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},W=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class j{parse(t){Object(o.v)(t)||(this.icon=null),Object(o.x)(t)?this.icon=t:this.icon=Object(o.r)(t.icon,"")}}class I{constructor(t){this.attribute=(null!=t?t:"cui")+"-icon"}getStyle(){return null}get(t,e){return new D(t,e,this.attribute)}}class D extends O{constructor(t,e,i){super("CuiIconHandler",t,new j,e),T.set(this,void 0),x(this,T,null)}onInit(){null===W(this,T)?(this.addIcon(this.args.icon),x(this,T,this.args.icon)):this._log.debug("Icon already initialized")}onUpdate(){this.args.icon!==W(this,T)&&(this.addIcon(this.args.icon),x(this,T,this.args.icon))}onDestroy(){const t=this.element.querySelector("svg");Object(o.v)(t)&&t.remove(),x(this,T,null)}addIcon(t){const e=t?h.j[t]:null;if(!e)return;const i=new N(e).build(),s=this.element.querySelector("svg");Object(o.v)(s)&&s.remove(),this.element.childNodes.length>0?this.mutate(this.insertBefore,i):this.mutate(this.appendChild,i)}insertBefore(t){this.element.insertBefore(t,this.element.firstChild)}appendChild(t){this.element.appendChild(t)}}T=new WeakMap;class N{constructor(t){S.set(this,void 0),A.set(this,void 0),L.set(this,void 0),x(this,S,t),x(this,A,1)}setStyle(t){return x(this,L,t),this}setScale(t){return x(this,A,t),this}build(){let t=Object(o.d)(W(this,S));if(Object(o.v)(t)&&W(this,A)){(new P).append(t,W(this,A))}return t}}S=new WeakMap,A=new WeakMap,L=new WeakMap;class P{append(t,e){let i=t.hasAttribute("width")?parseInt(t.getAttribute("width")):20,s=t.hasAttribute("height")?parseInt(t.getAttribute("height")):20;t.setAttribute("width",(i*e).toString()),t.setAttribute("height",(s*e).toString())}}var _,H,$,R,q=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},z=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class B{constructor(){this.progress=0}parse(t){Object(o.v)(t)?Object(o.x)(t)?this.progress=Object(o.k)(t,0):this.progress=Object(o.k)(t.progress,0):this.progress=0}}class F{constructor(t){this.attribute=(null!=t?t:"cui")+"-circle-progress",h.j.special_circle_progress='<svg xmlns="http://www.w3.org/2000/svg"  class="circle-progress" viewBox="0 0 100 100" width="100" height="100"><path class="circle-progress-path" d="M 50,5.3660047 A 44.867708,44.633994 0 0 1 94.867709,49.999997 44.867708,44.633994 0 0 1 50,94.633995 44.867708,44.633994 0 0 1 5.1322908,50.000001 44.867708,44.633994 0 0 1 50,5.3660047"></path></svg>'}getStyle(){return null}get(t,e){return new K(t,e,this.attribute)}}class K extends O{constructor(t,e,i){super("CuiCircleHandler",t,new B,e),_.set(this,void 0),H.set(this,void 0),$.set(this,void 0),R.set(this,void 0),q(this,_,q(this,H,0)),q(this,$,null),q(this,R,i)}onInit(){const t=new N(h.j.special_circle_progress).build(),e=this.element.querySelector("svg");Object(o.v)(e)&&e.remove(),this.element.appendChild(t),q(this,$,this.element.querySelector(".circle-progress-path")),q(this,H,z(this,$).getTotalLength()),q(this,_,z(this,H)/100),this.fetch(this.readStyle),this.onEvent(h.i.PROGRESS_CHANGE,this.onSetProgress.bind(this))}onUpdate(){this.fetch(this.readStyle),this.emitEvent(h.i.PROGRESS_CHANGED,{timestamp:Date.now(),progress:this.args.progress})}onDestroy(){this.detachEvent(h.i.PROGRESS_CHANGE)}onSetProgress(t){Object(o.v)(t)&&this.element.setAttribute(z(this,R),t)}updateStyle(t){z(this,$).style.strokeDashoffset=t}readStyle(){if(this.prevArgs&&this.args.progress===this.prevArgs.progress)return;const t=Object(o.p)(this.args.progress,0,100);this.mutate(this.updateStyle,z(this,H)-z(this,_)*t)}}_=new WeakMap,H=new WeakMap,$=new WeakMap,R=new WeakMap;class U{constructor(){this.spinner=null}parse(t){Object(o.x)(t)?this.spinner=t:this.spinner=Object(o.r)(t.spinner,null)}}class V{constructor(){this.attribute="data-spinner",h.j.special_circle_double='<svg xmlns="http://www.w3.org/2000/svg" class="circle-double" viewBox="0 0 100 100" width="100" height="100"><path class="circle-double-outer" d="M 50.000002,6.1070619 A 44.867709,44.126654 0 0 1 94.867708,50.233712 44.867709,44.126654 0 0 1 50.000002,94.36037 44.867709,44.126654 0 0 1 5.132292,50.233717 44.867709,44.126654 0 0 1 50.000002,6.1070619"></path><path class="circle-double-inner" d="M 50.000001,15.59972 A 35.383463,34.633995 0 0 1 85.383464,50.233711 35.383463,34.633995 0 0 1 50.000001,84.86771 35.383463,34.633995 0 0 1 14.616536,50.233716 35.383463,34.633995 0 0 1 50.000001,15.59972"></path></svg>'}getStyle(){return null}get(t,e){return new G(t,e,this.attribute)}}class G extends O{constructor(t,e,i){super("CuiSpinnerHandler",t,new U,e)}onInit(){const t=Object(o.v)(this.args.spinner)?h.j["spinner_"+this.args.spinner]:null;if(!Object(o.v)(t))return;const e=new N(t).build();this.element.innerHTML="",this.mutate(this.addSpinner,e,this.args.spinner)}onUpdate(){throw new Error("Method not implemented.")}onDestroy(){this.element.innerHTML=""}addSpinner(t,e){this.element.appendChild(t),this.element.classList.add("animation-spinner-"+e)}}var Y,X=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class Z{constructor(){this.attribute="cui-dummy"}getStyle(){return null}get(t,e){return new J(t,e,this.attribute)}}class J extends E{constructor(t,e,i){super("CuiDummyHandler",t,e),Y.set(this,void 0),X(this,Y,i)}handle(t){}refresh(t){}destroy(){}}Y=new WeakMap;var Q,tt,et=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},it=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class st{constructor(t){this.attribute=Object(o.v)(t)?t+"scroll":"cui-scroll"}getStyle(){return null}get(t,e){return new rt(t,e,this.attribute)}}class nt{constructor(){this.target=null,this.parent=null,this.behavior="auto"}parse(t){this.target=Object(o.r)(t.target,""),this.parent=Object(o.r)(t.parent,""),this.behavior=Object(o.v)(t.behavior)&&"smooth"===t.behavior.toLowerCase()?"smooth":"auto"}}class rt extends O{constructor(t,e,i){super("CuiScrollHandler",t,new nt,e),Q.set(this,void 0),tt.set(this,void 0),this.element=t,et(this,Q,null),et(this,tt,null)}onInit(){this.element.addEventListener("click",this.onClick.bind(this)),this.setTargets()}onUpdate(){this.setTargets()}onDestroy(){this.element.removeEventListener("click",this.onClick.bind(this))}onClick(t){if(!Object(o.v)(it(this,tt)))return;let e=Object(o.n)(it(this,tt))-it(this,Q).offsetTop,i=e-it(this,Q).scrollTop;it(this,Q).scrollBy({top:i,behavior:this.args.behavior}),this.emitEvent(h.i.ON_SCROLL,{to:e,by:i,target:it(this,tt),parent:it(this,Q),timestamp:Date.now()}),t.preventDefault()}setTargets(){et(this,tt,document.querySelector(this.args.target)),Object(o.v)(it(this,tt))&&et(this,Q,Object(o.v)(this.args.parent)?document.querySelector(this.args.parent):it(this,tt).parentElement)}}Q=new WeakMap,tt=new WeakMap;var ot,at,ht,ct,ut,lt,dt,pt,ft=i(9),vt=i(3),gt=i(5),mt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},wt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class bt{constructor(){this.offset=0}parse(t){if(!t.selector)throw new Error("Incorrect arguments");this.selector=t.selector,this.action=vt.a.get(t.action),this.link=t.link,this.linkAction=vt.a.get(t.linkAction),this.offset=Object(o.q)(parseInt(t.offset),-1,1,0)}}class kt{constructor(t){this.attribute=(null!=t?t:"cui")+"-scrollspy"}getStyle(){return null}get(t,e){return new yt(t,e,this.attribute)}}class yt extends O{constructor(t,e,i){super("CuiScrollspyHandler",t,new bt,e),ot.set(this,void 0),at.set(this,void 0),ht.set(this,void 0),ct.set(this,void 0),ut.set(this,void 0),lt.set(this,void 0),dt.set(this,void 0),pt.set(this,void 0),this.element=t,mt(this,ot,new ft.a(this.element,this.utils.setup.scrollThreshold)),mt(this,at,[]),mt(this,ht,[]),mt(this,ct,mt(this,ut,mt(this,lt,-1)))}onInit(){mt(this,dt,this.element.scrollTop),mt(this,pt,this.element.scrollLeft),this.parseAttribute();let t=this.calculateCurrent(wt(this,dt));this.setCurrent(t),this.setCurrentLink(t,-1),mt(this,ct,t),wt(this,ot).setCallback(this.onScroll.bind(this)),wt(this,ot).attach()}onUpdate(){mt(this,dt,this.element.scrollTop),mt(this,pt,this.element.scrollLeft),this.parseAttribute(),this.calculateCurrent(wt(this,dt))}onDestroy(){wt(this,ot).detach()}onScroll(t){let e=-1;if(e=Math.abs(t.left-wt(this,pt))>Math.abs(t.top-wt(this,dt))?this.calculateCurrentLeft(t.left):this.calculateCurrent(t.top),e!==wt(this,ct)){let i=this.setCurrent(e);this.setCurrentLink(e,wt(this,ct)),mt(this,ct,e),this.emitEvent(h.i.TARGET_CHANGE,{top:t.top,left:t.left,target:i,timestamp:Date.now()})}mt(this,dt,this.element.scrollTop),mt(this,pt,this.element.scrollLeft)}parseAttribute(){mt(this,ht,[...this.element.querySelectorAll(this.args.selector)]),mt(this,at,this.args.link?[...document.querySelectorAll(this.args.link)]:[]),mt(this,ut,wt(this,ht).length),mt(this,lt,wt(this,at).length)}calculateCurrent(t){return wt(this,ht).findIndex(e=>{let i=Object(o.n)(e)-this.element.offsetTop,s=i*this.args.offset;return i+s<=t&&t<i+e.clientHeight+s})}calculateCurrentLeft(t){return wt(this,ht).findIndex(e=>{let i=Object(o.m)(e)-this.element.offsetLeft,s=i*this.args.offset;return i+s<=t&&t<i+e.clientWidth+s})}setCurrent(t){if(!Object(o.w)(t,0,wt(this,ut)))throw new gt.c("New index is out of targets length");let e=wt(this,ht)[t];return this.args.action.add(e),this.args.action.remove(wt(this,ht)[wt(this,ct)]),e}setCurrentLink(t,e){wt(this,lt)>0&&(Object(o.w)(t,0,wt(this,lt))&&this.args.linkAction.add(wt(this,at)[t]),Object(o.w)(e,0,wt(this,lt))&&this.args.linkAction.remove(wt(this,at)[e]))}}ot=new WeakMap,at=new WeakMap,ht=new WeakMap,ct=new WeakMap,ut=new WeakMap,lt=new WeakMap,dt=new WeakMap,pt=new WeakMap;var Et,Ct,Ot=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Mt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Tt{constructor(t){this.description="Auto print mode",this.name="auto-print",Et.set(this,void 0),Ct.set(this,void 0),this.description="CuiAutoPrintModePlugin",this.setup=t}init(t){Ot(this,Ct,t),this.setup.autoPrint&&Object(o.t)()&&Mt(this,Ct).setPrintMode(!0),Ot(this,Et,new c.a("print")),Mt(this,Et).setCallback(this.onChange.bind(this)),Mt(this,Et).attach()}destroy(){Mt(this,Et).detach()}onChange(t){var e,i;this.setup=Mt(this,Ct).setup.plugins[this.description],null!==(i=null===(e=this.setup)||void 0===e?void 0:e.autoPrint)&&void 0!==i&&i&&(console.log(t.matches),t.matches?Mt(this,Ct).setPrintMode(!0):Mt(this,Ct).setPrintMode(!1))}}Et=new WeakMap,Ct=new WeakMap;var St,At,Lt,xt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Wt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class jt{constructor(t,e){St.set(this,void 0),At.set(this,void 0),Lt.set(this,void 0),xt(this,St,t),xt(this,At,null!=e?e:[0,.1,.25,.5,.75])}setCallback(t){xt(this,Lt,t)}connect(){this.observer=new IntersectionObserver(Wt(this,Lt),{root:Wt(this,St),rootMargin:"0px",threshold:Wt(this,At)})}observe(t){this.observer.observe(t)}unobserve(t){this.observer.unobserve(t)}disconnect(){this.observer.disconnect()}}St=new WeakMap,At=new WeakMap,Lt=new WeakMap;var It,Dt,Nt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Pt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _t{constructor(){this.target="div",this.action=vt.a.get("dummy"),this.offset=0}parse(t){this.target=Object(o.v)(t.target)?t.target:"div",this.action=Object(o.v)(t.action)?vt.a.get(t.action):vt.a.get("dummy"),this.offset=Object(o.q)(parseInt(t.offset),0,1,0)}}class Ht{constructor(t){this.attribute=(null!=t?t:"cui")+"-intersection"}getStyle(){return null}get(t,e){return new $t(t,e,this.attribute)}}class $t extends O{constructor(t,e,i){super("CuiIntersectionHandler",t,new _t,e),It.set(this,void 0),Dt.set(this,void 0),Nt(this,It,new jt(this.element)),Nt(this,Dt,[])}onInit(){this.parseArguments(),Pt(this,It).setCallback(this.onIntersection.bind(this)),Pt(this,It).connect(),Pt(this,Dt).forEach(t=>{Pt(this,It).observe(t)})}onUpdate(){this.parseArguments()}onDestroy(){Pt(this,It).disconnect()}parseArguments(){null!==this.prevArgs&&this.prevArgs.target===this.args.target||Nt(this,Dt,[...document.querySelectorAll(this.args.target)])}onIntersection(t,e){if(!Object(o.v)(Pt(this,Dt)))return;let i=null;t.forEach(t=>{i=this.getAction(t.target),t.isIntersecting&&t.intersectionRatio>this.args.offset?i.add(t.target):i.remove(t.target),this.emitIntersection(t)})}getAction(t){return t.hasAttribute("action")?vt.a.get(t.getAttribute("action")):this.args.action}emitIntersection(t){this.emitEvent(h.i.INTERSECTION,{entry:t,offset:this.args.offset,timestamp:Date.now()})}}It=new WeakMap,Dt=new WeakMap;var Rt,qt,zt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Bt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ft=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Kt{constructor(t){Rt.set(this,void 0),this.target="",this.action=vt.a.get("dummy"),this.timeout=0,this.prevent=!1,this.state="",Bt(this,Rt,t)}parse(t){if(Object(o.v)(t)&&Object(o.x)(t))return this.target=t,this.action=vt.a.get("dummy"),this.timeout=Ft(this,Rt),this.prevent=!1,void(this.state="");this.target=Object(o.r)(t.target,null),this.action=vt.a.get(t.action),this.timeout=Object(o.k)(t.timeout,Ft(this,Rt)),this.prevent=Object(o.y)(t.prevent),this.state=t.state}}Rt=new WeakMap;class Ut{constructor(t){qt.set(this,void 0),Bt(this,qt,null!=t?t:"cui"),this.attribute=Ft(this,qt)+"-open"}getStyle(){return null}get(t,e){return new Vt(t,e,this.attribute,Ft(this,qt))}}qt=new WeakMap;class Vt extends O{constructor(t,e,i,s){super("CuiOpenHandler",t,new Kt(e.setup.animationTime),e)}onInit(){this.element.addEventListener("click",this.onClick.bind(this)),this.onEvent(h.i.OPEN,this.onOpen.bind(this))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick.bind(this)),this.detachEvent(h.i.OPEN)}onClick(t){this.onOpen(t),this.args.prevent&&t.preventDefault()}onOpen(t){if(this.isLocked)return;const e=document.querySelector(this.args.target);Object(o.v)(e)?(this.isLocked=!0,this.run(e).then(i=>{this.activateTarget(t,e,i)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return zt(this,void 0,void 0,(function*(){let e=Object(o.j)(t,"open");return Object(o.v)(e)?(yield e.open(this.args.state),!1):(yield this.actionsHelper.performAction(t,this.args.action,this.args.timeout),!0)}))}activateTarget(t,e,i){Object(o.v)(e)&&this.helper.hasClass(this.activeClassName,e)&&this.helper.setClassesAs(e,this.activeClassName),i&&this.emitOpen(t)}emitOpen(t){this.emitEvent(h.i.OPENED,{event:t,state:this.args.state,timestamp:Date.now()})}}var Gt,Yt,Xt,Zt,Jt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Qt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},te=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ee{constructor(t){Gt.set(this,void 0),this.target="",this.action=null,this.timeout=t,this.prevent=!1,this.state=null,Qt(this,Gt,t)}parse(t){if(Object(o.v)(t)&&Object(o.x)(t))return this.target=t,this.action=null,this.timeout=te(this,Gt),this.prevent=!1,void(this.state=null);this.target=Object(o.r)(t.target,null),this.action=vt.a.get(t.action),this.timeout=Object(o.k)(t.timeout,te(this,Gt)),this.prevent=t.prevent&&Object(o.y)(t.prevent),this.state=t.state}}Gt=new WeakMap;class ie{constructor(t){Yt.set(this,void 0),Qt(this,Yt,null!=t?t:"cui"),this.attribute=te(this,Yt)+"-close"}getStyle(){return null}get(t,e){return new se(t,e,this.attribute,te(this,Yt))}}Yt=new WeakMap;class se extends O{constructor(t,e,i,s){super("CuiCloseHandler",t,new ee(e.setup.animationTime),e),Xt.set(this,void 0),Zt.set(this,void 0),Qt(this,Xt,s)}onInit(){this.element.addEventListener("click",this.onClick.bind(this)),this.onEvent(h.i.CLOSE,this.onClose.bind(this))}onUpdate(){}onDestroy(){this.element.removeEventListener("click",this.onClick.bind(this)),this.detachEvent(h.i.CLOSE)}onClick(t){this.onClose(t),this.args.prevent&&t.preventDefault()}onClose(t){if(this.isLocked)return;const e=this.getTarget();Object(o.v)(e)?(this.isLocked=!0,this.run(e).then(i=>{this.onActionFinish(t,e,i)}).catch(t=>{this._log.exception(t)}).finally(()=>{this.isLocked=!1})):this._log.warning(`Target ${this.args.target} not found`,"onClick")}run(t){return Jt(this,void 0,void 0,(function*(){let e=Object(o.j)(t,"close");return e?(yield e.close(this.args.state),!1):!this.args.action||(yield te(this,Zt).performAction(t,this.args.action,this.args.timeout),!0)}))}onActionFinish(t,e,i){Object(o.v)(e)&&this.helper.hasClass(this.activeClassName,e)&&this.helper.removeClassesAs(e,this.activeClassName),i&&this.emitClose(t)}getTarget(){return Object(o.v)(this.args.target)?document.querySelector(this.args.target):Object(o.o)(this.element)}emitClose(t){this.emitEvent(h.i.CLOSED,{timestamp:Date.now(),state:this.args.state,event:t})}}Xt=new WeakMap,Zt=new WeakMap;var ne,re,oe=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ae=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class he{constructor(){this.action=null,this.target=null}parse(t){Object(o.v)(t)&&Object(o.x)(t)?this.action=vt.a.get(t):(this.target=Object(o.r)(t.target,null),this.action=vt.a.get(t.action))}}class ce{constructor(t){this.attribute=(null!=t?t:"cui")+"-toggle"}getStyle(){return null}get(t,e){return new ue(t,e,this.attribute)}}class ue extends O{constructor(t,e,i){super("CuiToggleHandler",t,new he,e),ne.set(this,void 0),re.set(this,void 0),oe(this,ne,this.element),oe(this,re,e)}onInit(){oe(this,ne,this.getTarget()),this.element.addEventListener("click",this.onClick.bind(this)),this.onEvent(h.i.TOGGLE,this.toggle.bind(this))}onUpdate(){oe(this,ne,this.getTarget())}onDestroy(){this.element.removeEventListener("click",this.onClick.bind(this)),this.detachEvent(h.i.TOGGLE)}toggle(){this.args.action.toggle(ae(this,ne),ae(this,re)),this.emitEvent(h.i.TOGGLED,{action:this.args.action,target:ae(this,ne),timestamp:Date.now()})}onClick(t){this.toggle(),t.preventDefault()}getTarget(){return Object(o.v)(this.args.target)?document.querySelector(this.args.target):this.element}}ne=new WeakMap,re=new WeakMap;class le{constructor(){}parse(t){}}class de{constructor(){this.attribute="cui-resize"}getStyle(){return null}get(t,e){return new pe(t,e,this.attribute)}}class pe extends O{constructor(t,e,i){super("CuiResizeHandler",t,new le,e)}onInit(){this.utils.bus.on(h.i.RESIZE,this.resize,this)}onUpdate(){}onDestroy(){this.utils.bus.detach(h.i.RESIZE,this)}resize(t){console.log(t)}}var fe,ve,ge=i(21),me=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},we=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class be{constructor(t){fe.set(this,void 0),ve.set(this,void 0),me(this,ve,t),me(this,fe,new ge.a(!0)),we(this,fe).setCallback(this.onKeyDown.bind(this))}connect(){we(this,fe).attach()}disconnect(){we(this,fe).detach()}onKeyDown(t){we(this,ve).emit(h.i.KEYDOWN,null,{timestamp:Date.now(),event:t})}}fe=new WeakMap,ve=new WeakMap;var ke,ye=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ee=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ce{constructor(t){this.name="keys-observer",ke.set(this,void 0),this.description="CuiKeysObserverPlugin",this.setup=t}init(t){ye(this,ke,new be(t.bus)),Ee(this,ke).connect()}destroy(){Ee(this,ke).disconnect()}}ke=new WeakMap;class Oe{static setLabel(t,e){t.hasAttribute("aria-label")||t.setAttribute("aria-label",e)}static setAria(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}static removeAria(t,e){t.hasAttribute(e)&&t.removeAttribute(e)}}var Me,Te,Se,Ae,Le,xe=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},We=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},je=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ie{constructor(){this.escClose=!1,this.outClose=!1}parse(t){this.escClose=Object(o.y)(t.escClose),this.outClose=Object(o.y)(t.outClose)}}class De{constructor(t){Me.set(this,void 0),We(this,Me,null!=t?t:"cui"),this.attribute=je(this,Me)+"-dialog"}getStyle(){return null}get(t,e){return new Ne(t,e,this.attribute,je(this,Me))}}Me=new WeakMap;class Ne extends O{constructor(t,e,i,s){super("CuiDialogHandler",t,new Ie,e),Te.set(this,void 0),Se.set(this,void 0),Ae.set(this,void 0),Le.set(this,void 0),We(this,Te,s),We(this,Se,e.setup.animationTimeLong),We(this,Ae,Object(o.C)("{prefix}-dialog-open",s)),We(this,Le,0)}onInit(){Oe.setAria(this.element,"aria-modal",""),this.onEvent(h.i.CLOSE,this.close.bind(this)),this.onEvent(h.i.OPEN,this.open.bind(this)),this._log.debug("Initialized","handle")}onUpdate(){}onDestroy(){this.detachEvent(h.i.CLOSE),this.detachEvent(h.i.OPEN)}open(t){return xe(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("open"))return!1;if(this.isAnyActive()||this.isActive())return this._log.warning("Dialog is already opened"),!1;this.isLocked=!0,this._log.debug("Dialog "+this.cuid,"open");let e=this.getAction("{prefix}-dialog-default-in"),i=window.pageYOffset;return this.performAction(e,je(this,Se),this.onOpen.bind(this,t),()=>{this.helper.setClass(this.activeClassName,this.element),this.helper.setClass(je(this,Ae),document.body),Oe.setAria(this.element,"aria-expanded","true"),document.body.style.top=`-${i}px`})}))}close(t){return xe(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("close")||!this.isActive())return!1;this.isLocked=!0,this._log.debug("Dialog "+this.cuid,"close");let e=this.getAction("{prefix}-dialog-default-out");return this.performAction(e,je(this,Se),this.onClose.bind(this,t),()=>{this.helper.removeClass(this.activeClassName,this.element),this.helper.removeClass(je(this,Ae),document.body),Oe.setAria(this.element,"aria-expanded","false")})}))}onClose(t){const e=document.body.style.top;document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0")),this.detachEvent(h.i.KEYDOWN),this.detachEvent(h.i.WINDOW_CLICK),this.emitEvent(h.i.CLOSED,{timestamp:Date.now(),state:t}),this.isLocked=!1}onOpen(t){this.args.escClose&&this.onEvent(h.i.KEYDOWN,this.onEscClose.bind(this)),this.args.outClose&&this.onEvent(h.i.WINDOW_CLICK,this.onWindowClick.bind(this)),this.emitEvent(h.i.OPENED,{timestamp:Date.now(),state:t}),this.isLocked=!1}onEscClose(t){return xe(this,void 0,void 0,(function*(){"Escape"===t.event.key&&(yield this.close("Clesed by key"))}))}onWindowClick(t){this.element.querySelector(Object(o.C)(".{prefix}-dialog-container",je(this,Te))).contains(t.target)||this.close("out").then(()=>{this._log.debug("Closed by click outside")})}isAnyActive(){return this.helper.hasClass(je(this,Ae),document.body)}getAction(t){return new vt.c(Object(o.C)(t,je(this,Te)))}}Te=new WeakMap,Se=new WeakMap,Ae=new WeakMap,Le=new WeakMap;var Pe,_e,He,$e,Re,qe=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},ze=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Be=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Fe{constructor(t,e){Pe.set(this,void 0),_e.set(this,void 0),ze(this,Pe,t),this.escClose=!1,this.position="right",this.open=this.getDefaultOpenClass(),this.close=this.getDefaultCloseClass(),ze(this,_e,e),this.timeout=e}parse(t){Object(g.is)(t)&&(this.escClose=Object(g.isStringTrue)(t.escClose),this.outClose=Object(g.isStringTrue)(t.outClose),this.position=Object(g.getStringOrDefault)(t.position,"right"),this.open=Object(g.getStringOrDefault)(t.openCls,this.getDefaultOpenClass()),this.close=Object(g.getStringOrDefault)(t.closeCls,this.getDefaultCloseClass()),this.timeout=Object(g.getIntOrDefault)(t.timeout,Be(this,_e)))}getDefaultOpenClass(){return Object(g.replacePrefix)("right"===this.position?".{prefix}-offcanvas-default-right-in":".{prefix}-offcanvas-default-left-in",Be(this,Pe))}getDefaultCloseClass(){return Object(g.replacePrefix)("right"===this.position?".{prefix}-offcanvas-default-right-out":".{prefix}-offcanvas-default-left-out",Be(this,Pe))}}Pe=new WeakMap,_e=new WeakMap;class Ke{constructor(t){He.set(this,void 0),ze(this,He,null!=t?t:"cui"),this.attribute=Be(this,He)+"-off-canvas"}getStyle(){return null}get(t,e){return new Ue(t,e,this.attribute,Be(this,He))}}He=new WeakMap;class Ue extends O{constructor(t,e,i,s){super("CuiOffCanvasHandler",t,new Fe(s,e.setup.animationTimeLong),e),$e.set(this,void 0),Re.set(this,void 0),ze(this,$e,s),ze(this,Re,Object(g.replacePrefix)("{prefix}-off-canvas-open",s))}onInit(){this.mutate(()=>{this.setPositionLeft(),Oe.setAria(this.element,"aria-modal","")}),this.onEvent(g.EVENTS.OPEN,this.open.bind(this)),this.onEvent(g.EVENTS.CLOSE,this.close.bind(this)),this._log.debug("Initialized","onInit")}onUpdate(){this.setPositionLeft()}onDestroy(){this.detachEvent(g.EVENTS.CLOSE),this.detachEvent(g.EVENTS.OPEN)}open(t){return qe(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("open"))return!1;if(this.isAnyActive()||this.isActive())return this._log.warning("Offcanvas is already opened"),!1;this.isLocked=!0,this._log.debug("Offcanvas "+this.cuid,"open");let e=window.pageYOffset,i=g.CuiActionsFatory.get(this.args.open);return this.performAction(i,this.args.timeout,this.onOpen.bind(this,t),()=>{this.helper.setClass(this.activeClassName,this.element),this.helper.setClass(Be(this,Re),document.body),Oe.setAria(this.element,"aria-expanded","true"),document.body.style.top=`-${e}px`})}))}close(t){return qe(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("close")||!this.isActive())return!1;this.isLocked=!0,this._log.debug("Offcanvas "+this.cuid,"close");let e=g.CuiActionsFatory.get(this.args.close);return this.performAction(e,this.args.timeout,this.onClose.bind(this,t),()=>{this.helper.removeClass(this.activeClassName,this.element),this.helper.removeClass(Be(this,Re),document.body);const t=document.body.style.top;document.body.style.top="",window.scrollTo(0,-1*parseInt(t||"0")),Oe.setAria(this.element,"aria-expanded","false")})}))}onClose(t){this.detachEvent(g.EVENTS.KEYDOWN),this.detachEvent(g.EVENTS.WINDOW_CLICK),this.emitEvent(g.EVENTS.CLOSED,{timestamp:Date.now(),state:t}),this.isLocked=!1}onOpen(t){this.args.escClose&&this.onEvent(g.EVENTS.KEYDOWN,this.onEscClose.bind(this)),this.args.outClose&&this.onEvent(g.EVENTS.WINDOW_CLICK,this.onWindowClick.bind(this)),this.emitEvent(g.EVENTS.OPENED,{timestamp:Date.now(),state:t}),this.isLocked=!1}onEscClose(t){"Escape"===t.event.key&&this.close()}onWindowClick(t){this.element.querySelector(Object(g.replacePrefix)(".{prefix}-off-canvas-container",Be(this,$e))).contains(t.target)||this.close()}isAnyActive(){return this.helper.hasClass(Be(this,Re),document.body)}setPositionLeft(){let t=Object(g.getName)(Be(this,$e),"left");"left"!==this.args.position||this.helper.hasClass(t,this.element)?"right"==this.args.position&&this.helper.hasClass(t,this.element)&&this.helper.removeClass(t,this.element):this.helper.setClass(t,this.element)}}$e=new WeakMap,Re=new WeakMap;var Ve,Ge,Ye,Xe,Ze,Je,Qe=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},ti=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ei=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ii{constructor(t,e){Ve.set(this,void 0),Ge.set(this,void 0),Ye.set(this,void 0),ti(this,Ve,Object(o.C)("> * > .{prefix}-accordion-title",t)),ti(this,Ge,Object(o.C)("> *",t)),ti(this,Ye,e),this.single=!1,this.selector=ei(this,Ve),this.items=ei(this,Ge),this.timeout=ei(this,Ye)}parse(t){if(Object(o.v)(t))return this.single=Object(o.y)(t.single),this.selector=g.SCOPE_SELECTOR+Object(o.r)(t.selector,ei(this,Ve)),this.items=g.SCOPE_SELECTOR+Object(o.r)(t.content,ei(this,Ge)),this.timeout=Object(o.k)(t.timeout,ei(this,Ye)),void(this.animation=Object(o.y)(t.animation))}isValid(){return!0}}Ve=new WeakMap,Ge=new WeakMap,Ye=new WeakMap;class si{constructor(t){Xe.set(this,void 0),ti(this,Xe,null!=t?t:"cui"),this.attribute=ei(this,Xe)+"-accordion"}getStyle(){return null}get(t,e){return new ni(t,e,this.attribute,ei(this,Xe))}}Xe=new WeakMap;class ni extends M{constructor(t,e,i,s){super("CuiAccordionHandler",t,new ii(s,e.setup.animationTime),e),Ze.set(this,void 0),Je.set(this,void 0)}onInit(){if(this.args.isValid()){try{this.initTargets(),this.onEvent(g.EVENTS.SWITCH,this.onSwitch.bind(this))}catch(t){this._log.exception(t,"handle")}this._log.debug("Initialized","handle")}}onUpdate(){try{this.initTargets()}catch(t){this._log.exception(t,"handle")}}onDestroy(){this.detachEvent(g.EVENTS.SWITCH)}onMutation(t){(t.added.length>0||t.removed.length>0)&&this.initTargets()}switch(t){return Qe(this,void 0,void 0,(function*(){if(this._log.debug("Switch to: "+t),t<0||this.isLocked||!this.isInitialized)return!1;if(ti(this,Ze,this.queryItems()),ei(this,Ze).length<=t)return!1;this.isLocked=!0;const e=ei(this,Ze)[t];return this.helper.hasClass(this.activeClassName,e)?this.helper.removeClassesAs(e,this.activeClassName):(this.args.single&&this.closeAllExcept(t),this.helper.setClassesAs(e,this.activeClassName)),this.emitEvent(g.EVENTS.SWITCHED,{index:t,currentTarget:e,timestamp:Date.now()}),this.isLocked=!1,!0}))}onSwitch(t){this.switch(Object(o.k)(t,-1)).then(()=>{this._log.debug("Switch from event to "+t)})}initTargets(){ti(this,Ze,this.queryItems());const t=this.element.querySelectorAll(this.args.selector);ti(this,Je,[]),t.forEach((t,e)=>{let i={element:t};this.setListener(i,e),ei(this,Je).push(i)})}closeAllExcept(t){this.mutate(()=>{ei(this,Ze).forEach((e,i)=>{t!==i&&this.helper.hasClass(this.activeClassName,e)&&e.classList.remove(this.activeClassName)})})}setListener(t,e){t.listener=()=>{this.switch(e)},t.element.addEventListener("click",t.listener)}removeListener(t){t.listener&&t.element.removeEventListener("click",t.listener)}queryItems(){return[...this.element.querySelectorAll(this.args.items)]}}Ze=new WeakMap,Je=new WeakMap;var ri,oi,ai,hi,ci,ui=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},li=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class di{constructor(t){ri.set(this,void 0),oi.set(this,null),ai.set(this,void 0),hi.set(this,void 0),ci.set(this,void 0),ui(this,ri,t),ui(this,ai,!1),ui(this,hi,!1)}setCallback(t){ui(this,oi,t)}isInProgress(){return li(this,ai)}attach(){li(this,ri).addEventListener("mouseover",this.onMouseOver.bind(this)),li(this,ri).addEventListener("mousemove",this.onMouseMove.bind(this)),li(this,ri).addEventListener("mouseout",this.onMouseOut.bind(this)),ui(this,ci,!0)}detach(){li(this,ri).removeEventListener("mouseover",this.onMouseOver.bind(this)),li(this,ri).removeEventListener("mousemove",this.onMouseMove.bind(this)),li(this,ri).removeEventListener("mouseout",this.onMouseOut.bind(this)),ui(this,ci,!1)}emit(t,e){Object(o.a)(li(this,oi))&&(!e&&li(this,ai)||(ui(this,ai,!0),window.requestAnimationFrame(this.invoke.bind(this,{isHovering:li(this,hi),event:t,timestamp:Date.now()}))))}isAttached(){return li(this,ci)}invoke(t){li(this,oi).call(this,t),ui(this,ai,!1)}onMouseOver(t){ui(this,hi,!0),this.emit(t,!0)}onMouseOut(t){ui(this,hi,!1),this.emit(t,!0)}onMouseMove(t){this.emit(t,!1)}}ri=new WeakMap,oi=new WeakMap,ai=new WeakMap,hi=new WeakMap,ci=new WeakMap;var pi,fi,vi,gi,mi,wi,bi,ki,yi=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Ei=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ci=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Oi{constructor(){this.escClose=!1,this.mode="click",this.match=null,this.trigger="a, button",this.autoClose=!1,this.outClose=!1}parse(t){this.escClose=t.escClose&&Object(o.y)(t.escClose),this.mode=Object(o.r)(t.mode,"click").toLowerCase(),this.match=t.match,this.trigger=Object(o.r)(t.trigger,"a, button"),this.prevent=Object(o.y)(t.prevent),this.autoClose=Object(o.y)(t.autoClose),this.outClose=!t.outClose||Object(o.y)(t.outClose)}}class Mi{constructor(t){pi.set(this,void 0),Ei(this,pi,null!=t?t:"cui"),this.attribute=Ci(this,pi)+"-drop"}getStyle(){return null}get(t,e){return new Ti(t,e,this.attribute,Ci(this,pi))}}pi=new WeakMap;class Ti extends O{constructor(t,e,i,s){super("CuidropHandler",t,new Oi,e),fi.set(this,void 0),vi.set(this,void 0),gi.set(this,void 0),mi.set(this,void 0),wi.set(this,void 0),bi.set(this,void 0),ki.set(this,void 0),Ei(this,gi,i),Ei(this,fi,s),Ei(this,ki,null),Ei(this,vi,Object(o.C)("{prefix}-drop-open",s)),Ei(this,wi,new di(this.element)),Ci(this,wi).setCallback(this.onTargetHover.bind(this))}onInit(){Ei(this,bi,this.element.parentElement.querySelector(this.args.trigger)),Ei(this,mi,new di(Ci(this,bi))),this.setTriggerEvent(),Oe.setAria(this.element,"aria-dropdown",""),this._log.debug("Initialized","handle")}onUpdate(){Ci(this,mi).isAttached()?Ci(this,mi).detach():"click"===this.prevArgs.mode&&Ci(this,bi).removeEventListener("click",this.onTriggerClick.bind(this)),Ei(this,bi,this.element.parentElement.querySelector(this.args.trigger)),Ei(this,mi,new di(Ci(this,bi))),this.setTriggerEvent()}onDestroy(){}open(){return yi(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?this.close():(this.isAnyActive()&&(yield this.findAndCloseOpenedDrop()),this.isLocked=!0,this._log.debug("Drop "+this.cuid,"open"),this.mutate(this.onOpen,this),this.emitEvent(h.i.OPEN,{timestamp:Date.now()}),Ci(this,wi).attach(),this.args.autoClose&&this.runAutoCloseTask(),this.isLocked=!1,!0))}))}close(){return yi(this,void 0,void 0,(function*(){return!(this.checkLockAndWarn("close")||!this.isActive())&&(this.isLocked=!0,this._log.debug("Drop "+this.cuid,"close"),this.mutate(this.onClose,this),this.emitEvent(h.i.CLOSE,{timestamp:Date.now()}),Ci(this,wi).detach(),this.isLocked=!1,!0)}))}onTargetHover(t){t.isHovering&&Object(o.v)(Ci(this,ki))?(clearTimeout(Ci(this,ki)),Ei(this,ki,null)):t.isHovering||Object(o.v)(Ci(this,ki))||!this.args.autoClose||this.runAutoCloseTask()}onClose(){this.helper.removeClass(this.activeClassName,this.element),this.helper.removeClass(Ci(this,vi),document.body),Oe.setAria(this.element,"aria-expanded","false"),this.detachEvent(h.i.KEYDOWN),this.detachEvent(h.i.WINDOW_CLICK)}onOpen(){this.helper.setClass(this.activeClassName,this.element),this.helper.setClass(Ci(this,vi),document.body),Oe.setAria(this.element,"aria-expanded","true"),this.args.escClose&&this.onEvent(h.i.KEYDOWN,this.onEscClose.bind(this)),this.args.outClose&&this.onEvent(h.i.WINDOW_CLICK,this.onWindowClick.bind(this))}onEscClose(t){"Escape"===t.event.key&&this.close()}onWindowClick(t){this.element.contains(t.target)||this.close()}isAnyActive(){return this.helper.hasClass(Ci(this,vi),document.body)}getAction(t){return new vt.c(Object(o.C)(t,Ci(this,fi)))}findAndCloseOpenedDrop(){return yi(this,void 0,void 0,(function*(){const t=document.querySelector(`[${Ci(this,gi)}].${this.activeClassName}`);if(!Object(o.v)(t))return this._log.warning("Opened drop was not found"),!1;const e=t.$handlers[Ci(this,gi)];return Object(o.v)(e)?e.close():(this._log.warning("Drop handler was not found in the element"),!1)}))}onTriggerClick(t){this.isActive()?this.close():this.open(),this.args.prevent&&t.preventDefault()}onHoverEvent(t){t.isHovering&&!this.isActive()&&this.open(),this.args.prevent&&t.event.preventDefault()}setTriggerEvent(){"hover"===this.args.mode?(Ci(this,mi).setCallback(this.onHoverEvent.bind(this)),Ci(this,mi).attach()):Ci(this,bi).addEventListener("click",this.onTriggerClick.bind(this))}runAutoCloseTask(){Ei(this,ki,setTimeout(()=>{this.close()},5e3))}}fi=new WeakMap,vi=new WeakMap,gi=new WeakMap,mi=new WeakMap,wi=new WeakMap,bi=new WeakMap,ki=new WeakMap;var Si,Ai=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Li=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class xi{constructor(){this.name="click-plugin",Si.set(this,void 0),this.description="CuiWindowClickPlugin"}init(t){Ai(this,Si,t.bus),window.addEventListener("click",this.onWindowClick.bind(this))}destroy(){window.removeEventListener("click",this.onWindowClick.bind(this))}onWindowClick(t){Li(this,Si).emit(g.EVENTS.WINDOW_CLICK,null,t)}}Si=new WeakMap;var Wi,ji,Ii,Di,Ni=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Pi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _i{constructor(){this.offsetX=0,this.offsetY=0,this.target=null,this.root=!1}parse(t){this.target=t.target,this.action=vt.b.get(t.action),this.offsetX=Object(o.k)(t.offsetX,-1),this.offsetY=Object(o.k)(t.offsetY,-1),this.root=Object(o.y)(t.root)}}class Hi{constructor(t){this.attribute=(null!=t?t:"cui")+"-offset"}getStyle(){return null}get(t,e){return new $i(t,e,this.attribute)}}class $i extends O{constructor(t,e,i){super("CuiOffsetHandler",t,new _i,e),Wi.set(this,void 0),ji.set(this,void 0),Ii.set(this,void 0),Di.set(this,void 0),this.element=t,Ni(this,ji,this.element),Ni(this,Ii,e),Ni(this,Di,!1)}onInit(){this.parseAttribute(),Ni(this,Wi,new ft.a(this.args.root?window:this.element,this.utils.setup.scrollThreshold)),Pi(this,Wi).setCallback(this.onScroll.bind(this)),Pi(this,Wi).attach()}onUpdate(){this.parseAttribute()}onDestroy(){Pi(this,Wi).detach()}onScroll(t){this.checkAndPerformActions(t.top,t.left)}parseAttribute(){Ni(this,ji,this.args.target?this.getRoot().querySelector(this.args.target):this.element),this.checkAndPerformActions(this.element.scrollTop,this.element.scrollLeft)}matchesOffset(t,e){return this.args.offsetX>0&&e>=this.args.offsetX||this.args.offsetY>0&&t>=this.args.offsetY}checkAndPerformActions(t,e){let i=this.matchesOffset(t,e);i&&!Pi(this,Di)?(this.args.action.forEach(t=>t.add(Pi(this,ji),Pi(this,Ii))),Ni(this,Di,!0),this.callEvent()):!i&&Pi(this,Di)&&(this.args.action.forEach(t=>t.remove(Pi(this,ji),Pi(this,Ii))),Ni(this,Di,!1),this.callEvent())}callEvent(){this.emitEvent(g.EVENTS.OFFSET,{matches:Pi(this,Di),timestamp:Date.now()})}getRoot(){return this.args.root?document:this.element}}Wi=new WeakMap,ji=new WeakMap,Ii=new WeakMap,Di=new WeakMap;var Ri,qi,zi,Bi,Fi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ki=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ui{constructor(t,e,i){Ri.set(this,void 0),qi.set(this,void 0),zi.set(this,void 0),Bi.set(this,void 0),Fi(this,qi,e),Fi(this,zi,t),Fi(this,Bi,i)}start(){this.canRun()&&(this.stop(),Fi(this,Ri,setTimeout(()=>{Ki(this,Bi).call(this),Fi(this,Ri,null),Ki(this,qi)&&this.start()},Ki(this,zi))))}stop(){Ki(this,Ri)&&(clearTimeout(Ki(this,Ri)),Fi(this,Ri,null))}getId(){return Ki(this,Ri)}canRun(){return Object(o.v)(Ki(this,Bi))&&Ki(this,zi)>0}setCallback(t){Fi(this,Bi,t)}}Ri=new WeakMap,qi=new WeakMap,zi=new WeakMap,Bi=new WeakMap;var Vi,Gi,Yi,Xi,Zi,Ji,Qi,ts=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},es=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},is=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ss{constructor(t,e){Vi.set(this,void 0),Gi.set(this,void 0),es(this,Vi,t),es(this,Gi,e)}parse(t){var e,i;this.targets=Object(g.getStringOrDefault)(t.targets,g.SCOPE_SELECTOR+"> li"),this.in=g.CuiActionsFatory.get(null!==(e=t.in)&&void 0!==e?e:Object(g.replacePrefix)(".{prefix}-switch-animation-default-in",is(this,Vi))),this.out=g.CuiActionsFatory.get(null!==(i=t.out)&&void 0!==i?i:Object(g.replacePrefix)(".{prefix}-switch-animation-default-out",is(this,Vi))),this.timeout=Object(g.getIntOrDefault)(t.timeout,is(this,Gi)),this.links=t.links,this.switch=t.switch,this.autoTimeout=Object(g.getIntOrDefault)(t.autoTimeout,-1),this.height=Object(g.getStringOrDefault)(t.height,"auto")}}Vi=new WeakMap,Gi=new WeakMap;class ns{constructor(t){this.attribute=(null!=t?t:"cui")+"-switch"}getStyle(){return null}get(t,e){return new rs(t,e,this.attribute)}}class rs extends M{constructor(t,e,i){super("CuiSwitchHandler",t,new ss(e.setup.prefix,e.setup.animationTime),e),Yi.set(this,void 0),Xi.set(this,void 0),Zi.set(this,void 0),Ji.set(this,void 0),Qi.set(this,void 0),es(this,Yi,[]),es(this,Xi,-1),es(this,Zi,[]),es(this,Ji,[])}onInit(){this.onEvent(g.EVENTS.SWITCH,this.onPushSwitch),this.getTargets(),this.getLinks(),this.getActiveIndex(),this.getSwitches(),this.setSwitchesActive(is(this,Xi)),this.setLinkActive(-1,is(this,Xi)),this.mutate(()=>{this.helper.setStyle(this.element,"height",this.getElementHeight(is(this,Yi)[is(this,Xi)]))}),es(this,Qi,new Ui(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),this.startTask()}onUpdate(){this.startTask()}onDestroy(){is(this,Qi).stop(),this.detachEvent(g.EVENTS.SWITCH)}onMutation(t){}switch(t){return ts(this,void 0,void 0,(function*(){if(this.isLocked)return!1;this.getTargets(),this.getLinks(),this.getSwitches(),this.getActiveIndex();let e=this.getNextIndex(t);if(e==is(this,Xi)||e<0||e>=is(this,Yi).length)return this._log.warning(`Index ${t} is not within the suitable range`),!1;this.isLocked=!0,this.setSwitchesActive(e);let i=is(this,Yi)[e];return yield this.actionsHelper.performSwitchAction(i,is(this,Xi)>-1?is(this,Yi)[is(this,Xi)]:null,this.args.in,this.args.out,()=>{i.classList.add(this.activeClassName),is(this,Xi)>-1&&is(this,Yi)[is(this,Xi)].classList.remove(this.activeClassName),this.setLinkActive(is(this,Xi),e),this.helper.setStyle(this.element,"height",this.getElementHeight(i)),this.startTask(),this.isLocked=!1},this.args.timeout),this.emitEvent(g.EVENTS.SWITCHED,{timestamp:Date.now(),index:e}),!0}))}onPushSwitch(t){this._log.debug("Intercepted event"),this.switch(t)}getActiveIndex(){es(this,Xi,Object(g.is)(is(this,Yi))?is(this,Yi).findIndex(t=>this.helper.hasClass(this.activeClassName,t)):-1)}getNextIndex(t){let e=-1;switch(t){case"prev":e=is(this,Xi)<=0?is(this,Yi).length-1:is(this,Xi)-1;break;case"next":e=is(this,Xi)<is(this,Yi).length-1?is(this,Xi)+1:0;break;case"first":e=0;break;case"last":e=is(this,Yi).length-1;default:e=Object(g.getIntOrDefault)(t,-1)}return e}getElementHeight(t){let e=0;return"auto"!==this.args.height?this.args.height.match(/\d+/g).length>0?this.args.height+"px":this.args.height:(e=Object(g.getChildrenHeight)(t),e+"px")}getTargets(){let t=this.element.querySelectorAll(this.args.targets);es(this,Yi,t.length>0?[...t]:[])}getLinks(){es(this,Zi,Object(g.is)(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}getSwitches(){let t=Object(g.is)(this.args.switch)?document.querySelectorAll(this.args.switch):null;es(this,Ji,[]),t&&t.forEach(t=>{is(this,Ji).push(t)})}setLinkActive(t,e){Object(g.is)(is(this,Zi))&&(Object(g.isInRange)(t,0,is(this,Zi).length-1)&&this.helper.removeClass(this.activeClassName,is(this,Zi)[t]),Object(g.isInRange)(e,0,is(this,Zi).length-1)&&this.helper.setClass(this.activeClassName,is(this,Zi)[e]))}setSwitchesActive(t){is(this,Ji).forEach(e=>{this.setLinkSwitch(e.$cuid,t)})}setLinkSwitch(t,e){Object(g.is)(t)&&this.utils.bus.emit(g.EVENTS.SWITCH,t,e)}startTask(){is(this,Qi).stop(),this.args.autoTimeout&&is(this,Qi).start()}}Yi=new WeakMap,Xi=new WeakMap,Zi=new WeakMap,Ji=new WeakMap,Qi=new WeakMap;var os,as,hs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},cs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class us{constructor(){}parse(t){Object(g.is)(t)&&(this.target=t.target,this.index=t.index)}}class ls{constructor(t){this.attribute=(null!=t?t:"cui")+"-switcher"}getStyle(){return null}get(t,e){return new ds(t,e,this.attribute)}}class ds extends O{constructor(t,e,i){super("CuiSwitcherHandler",t,new us,e),os.set(this,void 0),as.set(this,void 0),hs(this,os,null),hs(this,as,"UL"===t.tagName)}onInit(){this.setEvents(),this.getTarget()}onUpdate(){this.getTarget()}onDestroy(){this.removeEvents()}getTarget(){Object(g.is)(this.args.target)||hs(this,os,null);let t=document.querySelector(this.args.target);Object(g.is)(t)&&hs(this,os,t.$cuid)}setEvents(){if(cs(this,as)){this.element.querySelectorAll("li > a").forEach((t,e)=>{t.addEventListener("click",this.onListItemClick.bind(this,e))})}else this.element.addEventListener("click",this.onClickEvent.bind(this))}removeEvents(){if(cs(this,as)){this.element.querySelectorAll("li > a").forEach((t,e)=>{t.removeEventListener("click",this.onListItemClick.bind(this,e))})}else this.element.removeEventListener("click",this.onClickEvent.bind(this))}onClickEvent(t){this.getTarget(),Object(g.is)(this.args.index)&&this.onClick(this.args.index.trim())}onListItemClick(t,e){this.getTarget(),this.onClick(t)}onClick(t){Object(g.is)(cs(this,os))&&this.utils.bus.emit(g.EVENTS.SWITCH,cs(this,os),t)}}os=new WeakMap,as=new WeakMap;var ps,fs,vs,gs,ms,ws=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},bs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ks{constructor(t){ps.set(this,void 0),fs.set(this,void 0),vs.set(this,void 0),gs.set(this,void 0),ms.set(this,void 0),ws(this,vs,!1),ws(this,ps,null!=t?t:document),ws(this,gs,!1),ws(this,ms,!1)}setCallback(t){ws(this,fs,t)}isInProgress(){throw new Error("Method not implemented.")}preventDefault(t){ws(this,ms,t)}attach(){bs(this,gs)||(bs(this,ps).addEventListener("mousedown",this.onMouseDown.bind(this)),bs(this,ps).addEventListener("mouseup",this.onMouseUp.bind(this)),bs(this,ps).addEventListener("mousemove",this.onMouseMove.bind(this)),bs(this,ps).addEventListener("touchstart",this.onTouchStart.bind(this)),bs(this,ps).addEventListener("touchend",this.onTouchEnd.bind(this)),bs(this,ps).addEventListener("touchmove",this.onTouchMove.bind(this)),ws(this,gs,!0))}detach(){bs(this,gs)&&(bs(this,ps).removeEventListener("mousedown",this.onMouseDown.bind(this)),bs(this,ps).removeEventListener("mouseup",this.onMouseUp.bind(this)),bs(this,ps).removeEventListener("mousemove",this.onMouseMove.bind(this)),bs(this,ps).removeEventListener("touchstart",this.onTouchStart.bind(this)),bs(this,ps).removeEventListener("touchend",this.onTouchEnd.bind(this)),bs(this,ps).removeEventListener("touchmove",this.onTouchMove.bind(this)),ws(this,gs,!1))}isAttached(){return bs(this,gs)}onMouseDown(t){this.publishMouseEvent("down",t)}onMouseUp(t){this.publishMouseEvent("up",t)}onMouseMove(t){this.publishMouseEvent("move",t)}onTouchStart(t){this.publishTouchEvent("down",t)}onTouchEnd(t){this.publishTouchEvent("up",t)}onTouchMove(t){this.publishTouchEvent("move",t)}publishMouseEvent(t,e){bs(this,ms)&&e.cancelable&&e.preventDefault(),Object(o.v)(bs(this,fs))&&bs(this,fs).call(this,{type:t,x:e.clientX,y:e.clientY,target:e.target,event:e})}publishTouchEvent(t,e){if(bs(this,ms)&&e.cancelable&&e.preventDefault(),Object(o.v)(bs(this,fs))){let i=null;e.touches.length>0?i=e.touches[0]:e.changedTouches.length>0&&(i=e.changedTouches[0]),bs(this,fs).call(this,{event:e,type:t,target:e.target,x:Object(o.v)(i)?i.clientX:-1,y:Object(o.v)(i)?i.clientY:-1})}}}ps=new WeakMap,fs=new WeakMap,vs=new WeakMap,gs=new WeakMap,ms=new WeakMap;var ys,Es=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Cs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Os{calculate(t,e,i,s){return[t,e]}}new WeakMap;class Ms{constructor(t){ys.set(this,void 0),Es(this,ys,t)}calculate(t,e,i,s){return[t-Cs(this,ys).offsetLeft,e-Cs(this,ys).offsetTop]}}ys=new WeakMap;new WeakMap;var Ts,Ss,As,Ls,xs,Ws,js,Is,Ds,Ns,Ps,_s,Hs=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},$s=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Rs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class qs{constructor(){this.escClose=!1}parse(t){this.escClose=Object(o.y)(t.escClose)}}class zs{constructor(t){Ts.set(this,void 0),$s(this,Ts,null!=t?t:"cui"),this.attribute=Rs(this,Ts)+"-float"}getStyle(){return null}get(t,e){return new Bs(t,e,this.attribute,Rs(this,Ts))}}Ts=new WeakMap;class Bs extends O{constructor(t,e,i,s){super("CuiFloatHandler",t,new qs,e),Ss.set(this,void 0),As.set(this,void 0),Ls.set(this,void 0),xs.set(this,void 0),Ws.set(this,void 0),js.set(this,void 0),Is.set(this,void 0),Ds.set(this,void 0),Ns.set(this,void 0),Ps.set(this,void 0),_s.set(this,void 0),$s(this,Ss,s),$s(this,As,e.setup.animationTimeLong),$s(this,Ws,!1),$s(this,js,!1),$s(this,Is,0),$s(this,Ds,0),$s(this,Ns,new ks),$s(this,Ps,new Os),$s(this,_s,new Ms(t))}onInit(){Oe.setAria(this.element,"aria-modal",""),this.onEvent(h.i.CLOSE,this.close.bind(this)),this.onEvent(h.i.OPEN,this.open.bind(this)),$s(this,xs,this.element.querySelector(Object(o.C)(".{prefix}-float-move",Rs(this,Ss)))),$s(this,Ls,this.element.querySelector(Object(o.C)(".{prefix}-float-resize",Rs(this,Ss)))),Rs(this,Ns).setCallback(this.onMove.bind(this)),Rs(this,Ns).preventDefault(!0),Rs(this,Ns).attach(),this._log.debug("Initialized","handle")}onUpdate(){}onDestroy(){Rs(this,Ns).detach(),this.detachEvent(h.i.CLOSE),this.detachEvent(h.i.OPEN)}open(t){return Hs(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("open"))return!1;if(this.isActive())return this._log.warning("Float is already opened"),!1;this.isLocked=!0,this._log.debug("Float "+this.cuid,"open");let e=this.getAction("{prefix}-float-default-in");return this.performAction(e,Rs(this,As),this.onOpen.bind(this,t),()=>{this.helper.setClass(this.activeClassName,this.element),Oe.setAria(this.element,"aria-expanded","true")})}))}close(t){return Hs(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("close")||!this.isActive())return!1;this.isLocked=!0,this._log.debug("Dialog "+this.cuid,"close");let e=this.getAction("{prefix}-float-default-out");return this.performAction(e,Rs(this,As),this.onClose.bind(this,t),()=>{this.helper.removeClass(this.activeClassName,this.element),Oe.setAria(this.element,"aria-expanded","false")})}))}onClose(t){this.detachEvent(h.i.KEYDOWN),this.emitEvent(h.i.CLOSED,{timestamp:Date.now(),state:t}),this.isLocked=!1}onOpen(t){this.args.escClose&&this.onEvent(h.i.KEYDOWN,this.onEscClose.bind(this)),this.emitEvent(h.i.OPENED,{timestamp:Date.now(),state:t}),this.isLocked=!1}onEscClose(t){return Hs(this,void 0,void 0,(function*(){"Escape"===t.event.key&&(yield this.close("Clesed by key"))}))}onMove(t){switch(t.type){case"down":this.onMouseDown(t);break;case"up":this.onMouseUp(t);break;case"move":this.onMouseMove(t)}}onMouseMove(t){Rs(this,Ws)?this.peform(t,this.move.bind(this)):Rs(this,js)&&this.peform(t,this.resize.bind(this))}peform(t,e){this.mutate(()=>{Object(o.v)(e)&&e(this.element,t.x,t.y,t.x-Rs(this,Is),t.y-Rs(this,Ds)),$s(this,Is,t.x),$s(this,Ds,t.y)})}resize(t,e,i,s,n){let[r,o]=Rs(this,_s).calculate(e,i,s,n);this.fitsWindow(t.offsetTop,t.offsetLeft,r,o)&&(t.style.width=r+"px",t.style.height=o+"px")}move(t,e,i,s,n){let[r,o]=Rs(this,Ps).calculate(e,i,s,n);this.fitsWindow(o,r,t.offsetWidth,t.offsetHeight)&&(t.style.left=r+"px",t.style.top=o+"px")}onMouseDown(t){t.target===Rs(this,xs)?$s(this,Ws,!0):t.target===Rs(this,Ls)&&$s(this,js,!0),$s(this,Is,t.x),$s(this,Ds,t.y)}onMouseUp(t){$s(this,Ws,!1),$s(this,js,!1)}getAction(t){return new vt.c(Object(o.C)(t,Rs(this,Ss)))}fitsWindow(t,e,i,s){return t+s<window.innerHeight-10&&t>10&&e>10&&e+i<window.innerWidth-10}}Ss=new WeakMap,As=new WeakMap,Ls=new WeakMap,xs=new WeakMap,Ws=new WeakMap,js=new WeakMap,Is=new WeakMap,Ds=new WeakMap,Ns=new WeakMap,Ps=new WeakMap,_s=new WeakMap;var Fs,Ks,Us=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Vs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Gs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ys{constructor(){Fs.set(this,void 0),Vs(this,Fs,window)}init(t){return Us(this,void 0,void 0,(function*(){let e=Object.assign(Object.assign({},new r.b),t.setup);const i=e.app,s={result:!1};if(Object(o.v)(Gs(this,Fs)[i]))return s.message="Instance is already initialized",s;if(Object(o.v)(t.icons))for(let e in t.icons)h.j[e]=t.icons[e];try{Gs(this,Fs)[i]=new a.a(e,t.plugins,t.components),Gs(this,Fs)[i].init()}catch(t){return console.error(t),s.message="An error occured during initialization",s}return s.result=!0,s}))}}Fs=new WeakMap;class Xs{constructor(){Ks.set(this,void 0),Vs(this,Ks,!1)}init(t){var e;return Us(this,void 0,void 0,(function*(){if(Gs(this,Ks))return console.log("Module is already initialized"),!1;const i=new Ys,s=[new d({autoLight:!0}),new Tt({autoPrint:!0}),new Ce(null),new xi],n=[new I,new F,new V,new Z,new st,new kt,new Ht,new Ut,new ie,new ce,new de,new De,new Ke,new si,new Mi,new Hi,new ns,new ls,new zs];let r=yield i.init({setup:t.setup,icons:t.icons,plugins:Object(o.v)(t.plugins)?[...s,...t.plugins]:s,components:Object(o.v)(t.components)?[...n,...t.components]:n});return r.result?(Vs(this,Ks,!0),!0):(console.error(`A cUI instance failed to initialize: [${null!==(e=r.message)&&void 0!==e?e:"#"}]`),console.log("Cui Light failed to init"),!1)}))}}Ks=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return Yt}));var s,n,r,o,a,h,c=i(0),u=i(4),l=i(1),d=i(14),p=i(3),f=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},v=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},g=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class m{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),v(this,s,t),v(this,n,!1),v(this,r,u.a.get("ElementManager")),v(this,a,e),v(this,o,Date.now()),v(this,h,new d.a(e.interactions))}toggleClass(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},"toggleClass")}))}toggleClassAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{let i=e.classList;g(this,a).interactions.fetch(()=>{i.contains(t)?g(this,a).interactions.mutate(i.remove,i,t):g(this,a).interactions.mutate(i.add,i,t)},this)},"toggleClassAs")}))}setClass(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{e.classList.contains(t)||e.classList.add(t)},"setClass")}))}setClassAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{let i=e.classList;g(this,a).interactions.fetch(()=>{i.contains(t)||g(this,a).interactions.mutate(i.add,i,t)},this)},"setClassAs")}))}removeClass(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{e.classList.contains(t)&&e.classList.remove(t)},"removeClass")}))}removeClassAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{let i=e.classList;g(this,a).interactions.fetch(()=>{i.contains(t)&&g(this,a).interactions.mutate(i.remove,i,t)},this)},"removeClass")}))}getAttribute(t){return Object(c.v)(t)?g(this,s).reduce((e,i)=>(i.hasAttribute(t)?e.push(i.getAttribute(t)):e.push(null),e),[]):null}setAttribute(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(i=>{i.setAttribute(t,null!=e?e:"")},"setAttribute")}))}setAttributeAs(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(i=>{g(this,a).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},"setAttributeAs")}))}removeAttribute(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{e.removeAttribute(t)},"removeAttribute")}))}removeAttributeAs(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{g(this,a).interactions.mutate(e.removeAttribute,e,t)},"removeAttributeAs")}))}toggleAttribute(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(i=>{i.hasAttribute(t)?i.removeAttribute(t):i.setAttribute(t,null!=e?e:"")},"toggleAttribute")}))}toggleAttributeAs(t,e){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(i=>{g(this,a).interactions.fetch(()=>{i.hasAttribute(t)?g(this,a).interactions.mutate(i.removeAttribute,i,t):g(this,a).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},this)},"toggleAttributeAs")}))}click(t){return f(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&this.call(e=>{e.addEventListener("click",t)},"click")}))}event(t,e){return f(this,void 0,void 0,(function*(){return!(!Object(c.v)(t)||!Object(c.v)(e))&&this.call(i=>{i.addEventListener(t,e)},"event")}))}call(t,e){return f(this,void 0,void 0,(function*(){return g(this,n)&&g(this,r).error("Element is locked",e),this.lock(),g(this,s).forEach((e,i)=>{t(e,i)}),this.unlock(),!0}))}animate(t,e){return f(this,void 0,void 0,(function*(){if(!Object(c.v)(t))return!1;const i=null!=e?e:g(this,a).setup.animationTime;return this.call(e=>{this.change(()=>{e.classList.add(t),e.classList.add(l.a.animProgress),setTimeout(()=>{this.change(()=>{e.classList.remove(t),e.classList.remove(l.a.animProgress)})},i)})})}))}open(t,e,i){return f(this,void 0,void 0,(function*(){if(!Object(c.a)(t,e))return!1;const s=null!=i?i:g(this,a).setup.animationTime,n=new p.c(e);return this.call(e=>{g(this,h).performAction(e,n,s).then(()=>{e.classList.add(t)})})}))}close(t,e,i){return f(this,void 0,void 0,(function*(){if(!Object(c.a)(t,e))return!1;const s=null!=i?i:g(this,a).setup.animationTime,n=new p.c(e);return this.call(e=>{g(this,h).performAction(e,n,s).then(()=>{e.classList.remove(t)})})}))}emit(t,...e){Object(c.v)(t)?this.call(i=>{let s=i.$cuid;Object(c.v)(s)&&(g(this,r).debug(`Emitting event ${t} to ${s}`),g(this,a).bus.emit(t,s,...e))},"emit"):g(this,r).warning("Not enough data to emit event","emit")}on(t,e,i){Object(c.a)(t,e)||g(this,r).error("Incorrect arguments","on"),this.call(s=>{let n=s;Object(c.v)(n)&&g(this,a).bus.on(t,e,i,n)},"on")}read(t,...e){g(this,a).interactions.fetch(t,this,...e)}change(t,...e){g(this,a).interactions.mutate(t,this,...e)}elements(){return g(this,s)}count(){return g(this,s).length}lock(){v(this,n,!0)}unlock(){v(this,n,!1)}isLocked(){return g(this,n)}refresh(){return Date.now()-g(this,o)<36e4}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap;var w,b,k,y,E,C,O,M,T=i(24),S=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},A=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},L=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class x{constructor(t,e,i){w.set(this,void 0),b.set(this,void 0),k.set(this,void 0),y.set(this,void 0),E.set(this,void 0),C.set(this,void 0),O.set(this,void 0),M.set(this,void 0),A(this,w,t),A(this,b,`.${e}-toast`),A(this,k,e+"-toast"),A(this,y,e+"-active"),A(this,E,i),A(this,C,!1),A(this,O,e+"-toast-animation-in"),A(this,M,e+"-toast-animation-out")}show(t){return S(this,void 0,void 0,(function*(){if(L(this,C))return!1;A(this,C,!0);let e=document.querySelector(L(this,b));return Object(c.v)(e)||(e=document.createElement("div"),e.classList.add(L(this,k)),document.body.appendChild(e)),L(this,w).mutate(()=>{e.innerHTML=t,e.classList.add(l.a.animProgress),e.classList.add(L(this,O))},this),yield Object(c.D)(L(this,E)),L(this,w).mutate(()=>{e.classList.remove(l.a.animProgress),e.classList.remove(L(this,O)),e.classList.add(L(this,y))},this),yield Object(c.D)(3e3),L(this,w).mutate(()=>{e.classList.add(l.a.animProgress),e.classList.add(L(this,M))},this),setTimeout(()=>{L(this,w).mutate(()=>{e.classList.remove(l.a.animProgress),e.classList.remove(L(this,M)),e.classList.remove(L(this,y))},this),A(this,C,!1)},L(this,E)),!0}))}}w=new WeakMap,b=new WeakMap,k=new WeakMap,y=new WeakMap,E=new WeakMap,C=new WeakMap,O=new WeakMap,M=new WeakMap;var W,j,I,D,N,P=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},_=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},H=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ${constructor(t){W.set(this,void 0),j.set(this,void 0),I.set(this,void 0),D.set(this,void 0),N.set(this,void 0),_(this,N,t),_(this,j,u.a.get("CollectionManager"))}setElements(t){_(this,W,t)}setToggle(t){_(this,D,t)}addAnimationClass(t,e,i,s){e.classList.add(l.a.animProgress),t.classList.add(s),e.classList.add(i)}setFinalClasses(t,e,i,s){e.classList.remove(l.a.animProgress),t.classList.remove(s),e.classList.remove(i),t.classList.remove(H(this,D)),e.classList.add(H(this,D))}verifyIndex(t,e,i){return t>=0&&t!==e&&t<i}setCurrent(t,e){return P(this,void 0,void 0,(function*(){return this.lock(),H(this,j).debug(`Switching index from: ${e} to ${t}`),e>-1&&H(this,W)[e].classList.remove(H(this,D)),H(this,W)[t].classList.add(H(this,D)),this.unlock(),!0}))}setCurrentWithAnimation(t,e,i,s,n){return P(this,void 0,void 0,(function*(){this.lock(),H(this,j).debug(`Switching index from: ${n} to ${t}`);const r=H(this,W)[n],o=H(this,W)[t];return H(this,N).mutate(this.addAnimationClass,this,r,o,e,i),setTimeout(()=>{H(this,N).mutate(this.setFinalClasses,this,r,o,e,i),this.unlock()},s),!0}))}getCurrentIndex(){if(!Object(c.v)(H(this,D)))return-1;let t=this.count();for(let e=0;e<t;e++)if(H(this,W)[e].classList.contains(H(this,D)))return e;return-1}elements(){return H(this,W)}check(){return H(this,I)?(H(this,j).warning("Object locked. Operation in progress","Check"),!1):Object(c.v)(H(this,D))?!(this.count()<=0)||(H(this,j).warning("Elements list is empty","Check"),!1):(H(this,j).warning("Toggle is not set. Call setToggleClass","Check"),!1)}count(){return H(this,W)?H(this,W).length:-1}lock(){_(this,I,!0)}unlock(){_(this,I,!1)}}W=new WeakMap,j=new WeakMap,I=new WeakMap,D=new WeakMap,N=new WeakMap;var R,q,z,B=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},F=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},K=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class U{constructor(t,e){R.set(this,void 0),q.set(this,void 0),z.set(this,void 0),F(this,R,u.a.get("CollectionManager")),F(this,z,new $(e)),K(this,z).setElements(t),F(this,q,Date.now())}setToggle(t){K(this,z).setToggle(t)}setElements(t){K(this,z).setElements(t)}click(t){K(this,z).elements().forEach((e,i)=>{e.addEventListener("click",()=>{this.set(i).then(()=>{t&&t(e,i)})})})}next(){return B(this,void 0,void 0,(function*(){if(!K(this,z).check())return!1;let t=K(this,z).getCurrentIndex()+1;return this.set(t>=this.length()?0:t)}))}previous(){return B(this,void 0,void 0,(function*(){if(!K(this,z).check())return!1;let t=K(this,z).getCurrentIndex()-1;return this.set(t<0?this.length()-1:t)}))}set(t){return B(this,void 0,void 0,(function*(){let e=K(this,z).getCurrentIndex();return!(!K(this,z).check()||!K(this,z).verifyIndex(t,e,this.length()))&&K(this,z).setCurrent(t,e)}))}setWithAnimation(t,e,i,s){return B(this,void 0,void 0,(function*(){let n=K(this,z).getCurrentIndex();return!(!K(this,z).check()||!K(this,z).verifyIndex(t,n,this.length()))&&K(this,z).setCurrentWithAnimation(t,e,i,s,n)}))}getCurrentIndex(){return K(this,z).getCurrentIndex()}length(){return K(this,z).count()}refresh(){return this.length()>0&&Date.now()-K(this,q)>36e4}}R=new WeakMap,q=new WeakMap,z=new WeakMap;var V,G,Y,X=i(7),Z=i(5),J=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Q=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},tt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class et{constructor(t){V.set(this,void 0),G.set(this,void 0),Y.set(this,void 0),Q(this,V,null!=t?t:[]),Q(this,Y,u.a.get("CuiPluginManager"))}init(t){tt(this,Y).debug("Plugins initialization started: "+tt(this,V).length),Q(this,G,tt(this,V).filter(t=>Object(c.v)(t.mutation))),tt(this,V).forEach(e=>{e.init(t),t.setup.plugins[e.description]=e.setup}),tt(this,Y).debug("Plugins have been initialized")}get(t){if(Object(c.v)(t))return tt(this,V).find(e=>e.name===t)}onMutation(t){return J(this,void 0,void 0,(function*(){let e=[];return tt(this,G).forEach(i=>{e.push(i.mutation(t))}),!(yield Promise.all(e)).find(t=>{})}))}}V=new WeakMap,G=new WeakMap,Y=new WeakMap;var it,st,nt,rt,ot=i(2),at=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ht=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ct{constructor(t){it.set(this,void 0),st.set(this,void 0),nt.set(this,void 0),rt.set(this,void 0),at(this,rt,t),at(this,st,[]),at(this,nt,null)}setId(t){return at(this,it,t),this}setClasses(...t){return at(this,st,t),this}setAttributes(t){return at(this,nt,t),this}build(t){let e=document.createElement(ht(this,rt));return Object(ot.is)(ht(this,it))&&(e.id=ht(this,it)),Object(ot.is)(ht(this,st))&&e.classList.add(...ht(this,st)),Object(ot.is)(ht(this,nt))&&Object(ot.enumerateObject)(ht(this,nt),(t,i)=>{e.setAttribute(t,i)}),Object(ot.is)(t)&&(e.innerHTML=t),e}}it=new WeakMap,st=new WeakMap,nt=new WeakMap,rt=new WeakMap;var ut,lt,dt,pt,ft,vt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},gt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class mt{constructor(t,e){ut.set(this,void 0),lt.set(this,void 0),dt.set(this,void 0),pt.set(this,void 0),ft.set(this,void 0),vt(this,pt,t),vt(this,ut,vt(this,dt,vt(this,lt,null))),vt(this,ft,null!=e?e:"")}createHeader(t,e,i){Object(ot.is)(e)||(e=[]),Object(ot.is)(i)||(i=[]);let s=new ct("div");s.setClasses(gt(this,pt)+"-dialog-header",...e),vt(this,ut,s.build());let n=new ct("span").setClasses(this.getPrefixedString("-dialog-title")).build(t);gt(this,ut).appendChild(n),this.appendChildrens(gt(this,ut),...i)}createFooter(t,e){Object(ot.is)(t)||(t=[]),Object(ot.is)(e)||(e=[]),vt(this,dt,new ct("div").setClasses(this.getPrefixedString("-dialog-footer"),...t).build()),this.appendChildrens(gt(this,dt),...e)}createBody(t,e){Object(ot.is)(t)||(t=[]),Object(ot.is)(e)||(e=[]),vt(this,lt,new ct("div").setClasses(this.getPrefixedString("-dialog-body"),...t).build()),this.appendChildrens(gt(this,lt),...e)}build(t){let e=new ct("div").setId(t).setClasses(this.getPrefixedString("-dialog")).setAttributes({[this.getPrefixedString("-dialog")]:gt(this,ft)}).build(),i=new ct("div").setClasses(this.getPrefixedString("-dialog-container")).build();return i.appendChild(gt(this,ut)),i.appendChild(gt(this,lt)),i.appendChild(gt(this,dt)),e.appendChild(i),e}appendChildrens(t,...e){Object(ot.is)(e)&&e.forEach(e=>t.appendChild(e))}getPrefixedString(t){return gt(this,pt)+t}}ut=new WeakMap,lt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ft=new WeakMap;var wt,bt,kt,yt,Et,Ct,Ot,Mt,Tt,St,At,Lt,xt,Wt,jt,It,Dt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Nt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Pt{constructor(t,e,i){wt.set(this,void 0),bt.set(this,void 0),kt.set(this,void 0),yt.set(this,void 0),Dt(this,wt,{yes:i.onYes,no:i.onNo,cancel:i.onCancel,ok:i.onOk}),Dt(this,bt,t),Dt(this,kt,e),this.closeStr=Nt(this,bt).setup.prefix+"-close",this.iconStr=Nt(this,bt).setup.prefix+"-icon"}getId(){return Nt(this,kt)}show(t){let e=document.getElementById(Nt(this,kt));Object(ot.is)(e)||(e=this.createElement(),t.appendChild(e)),setTimeout(()=>{Dt(this,yt,new m([e],Nt(this,bt))),Nt(this,yt).on("closed",this.onClose,this),Nt(this,yt).emit("open")},100)}onClose(t){Object(ot.is)(t)&&t.state&&Object(ot.is)(Nt(this,wt)[t.state])&&Nt(this,wt)[t.state]()}}wt=new WeakMap,bt=new WeakMap,kt=new WeakMap,yt=new WeakMap;class _t extends Pt{constructor(t,e,i){super(t,e,i),Et.set(this,void 0),Ct.set(this,void 0),Ot.set(this,void 0),Mt.set(this,void 0),Dt(this,Et,e),Dt(this,Ct,i.message),Dt(this,Ot,i.title),Dt(this,Mt,t.setup.prefix)}createElement(){let t=new mt(Nt(this,Mt));return t.createHeader(Nt(this,Ot),null,[new ct("a").setClasses(Nt(this,Mt)+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody(null,[new ct("p").build(Nt(this,Ct))]),t.createFooter([Nt(this,Mt)+"-flex",Nt(this,Mt)+"-right"],[new ct("button").setClasses(Nt(this,Mt)+"-button",Nt(this,Mt)+"-margin-small-right").setAttributes({[this.closeStr]:"state: cancel"}).build("Cancel"),new ct("button").setClasses(Nt(this,Mt)+"-button",Nt(this,Mt)+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(Nt(this,Et))}}Et=new WeakMap,Ct=new WeakMap,Ot=new WeakMap,Mt=new WeakMap;class Ht extends Pt{constructor(t,e,i){super(t,e,i),Tt.set(this,void 0),St.set(this,void 0),At.set(this,void 0),Lt.set(this,void 0),Dt(this,Tt,e),Dt(this,St,i.message),Dt(this,At,i.title),Dt(this,Lt,t.setup.prefix)}createElement(){let t=new mt(Nt(this,Lt));return t.createHeader(Nt(this,At),null,null),t.createBody(null,[new ct("p").build(Nt(this,St))]),t.createFooter([Nt(this,Lt)+"-flex",Nt(this,Lt)+"-right"],[new ct("button").setClasses(Nt(this,Lt)+"-button",Nt(this,Lt)+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),t.build(Nt(this,Tt))}}Tt=new WeakMap,St=new WeakMap,At=new WeakMap,Lt=new WeakMap;class $t extends Pt{constructor(t,e,i){super(t,e,i),xt.set(this,void 0),Wt.set(this,void 0),jt.set(this,void 0),It.set(this,void 0),Dt(this,xt,e),Dt(this,Wt,i.message),Dt(this,jt,i.title),Dt(this,It,t.setup.prefix)}createElement(){let t=new mt(Nt(this,It));return t.createHeader(Nt(this,jt),null,[new ct("a").setClasses(Nt(this,It)+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),t.createBody(null,[new ct("p").build(Nt(this,Wt))]),t.createFooter([Nt(this,It)+"-flex",Nt(this,It)+"-right"],[new ct("button").setClasses(Nt(this,It)+"-button",Nt(this,It)+"-margin-small-right").setAttributes({[this.closeStr]:"state: no"}).build("No"),new ct("button").setClasses(Nt(this,It)+"-button",Nt(this,It)+"-accent").setAttributes({[this.closeStr]:"state: yes"}).build("Yes")]),t.build(Nt(this,xt))}}xt=new WeakMap,Wt=new WeakMap,jt=new WeakMap,It=new WeakMap;var Rt,qt,zt,Bt,Ft,Kt,Ut=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Vt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Gt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Yt{constructor(t,e,i){Rt.set(this,void 0),qt.set(this,void 0),zt.set(this,void 0),Bt.set(this,void 0),Ft.set(this,void 0),Kt.set(this,void 0),l.l.prefix=t.prefix,l.l.logLevel=t.logLevel,this.plugins=new et(e),Vt(this,Ft,null!=i?i:[]),Vt(this,Bt,new X.a(t)),Vt(this,Rt,u.a.get("CuiInstance")),Vt(this,Kt,t.root)}init(){if(Gt(this,Rt).debug("Instance started","init"),!Object(c.v)(window.MutationObserver))throw new Z.b("Mutation observer does not exists");Vt(this,zt,new x(Gt(this,Bt).interactions,Gt(this,Bt).setup.prefix,Gt(this,Bt).setup.animationTimeLong));const t=Gt(this,Ft).map(t=>t.attribute),e=Object(c.v)(t)?Gt(this,Kt).querySelectorAll(Object(c.z)(t)):null;if(Object(c.v)(e)){Gt(this,Rt).debug(`Initiating ${e.length} elements`);try{e.forEach(e=>{Object(c.B)(e,Gt(this,Ft),t,Gt(this,Bt))})}catch(t){Gt(this,Rt).exception(t)}}return Gt(this,Rt).debug("Init plugins","init"),this.plugins.init(Gt(this,Bt)),Object(c.a)(Gt(this,Ft),t)&&(Gt(this,Rt).debug("Init mutation observer","init"),Vt(this,qt,new T.b(Gt(this,Kt),Gt(this,Bt))),Gt(this,qt).setComponents(Gt(this,Ft)).setAttributes(t),Gt(this,qt).setPlugins(this.plugins),Gt(this,qt).start()),Gt(this,Rt).debug("Setting CSS globals","init"),Gt(this,Bt).interactions.mutate(()=>{Gt(this,Bt).setProperty(l.g.animationTimeLong,Gt(this,Bt).setup.animationTimeLong+"ms"),Gt(this,Bt).setProperty(l.g.animationTime,Gt(this,Bt).setup.animationTime+"ms"),Gt(this,Bt).setProperty(l.g.animationTimeShort,Gt(this,Bt).setup.animationTimeShort+"ms")},null),Gt(this,Bt).bus.emit(l.i.INSTANCE_INITIALIZED,null),this}finish(){Gt(this,qt).stop(),Gt(this,Bt).bus.emit(l.i.INSTANCE_FINISHED,null)}get(t){const e=Gt(this,Bt).cache.get(t);if(Object(c.v)(e))return e;const i=this.all(t);if(!i)return;const s=new m(i,Gt(this,Bt));return Gt(this,Bt).cache.put(t,s),s}collection(t){const e=Gt(this,Bt).cache.get(t);if(Object(c.v)(e))return e;const i=this.all(t);if(!Object(c.v)(i))return;let s=new U(i,Gt(this,Bt).interactions);return Gt(this,Bt).cache.put(t,s),s}toast(t){return Ut(this,void 0,void 0,(function*(){return!!Object(c.v)(t)&&Gt(this,zt).show(t)}))}select(t){return document.querySelector(t)}all(t){const e=document.querySelectorAll(t);if(Object(c.v)(e))return[...e]}getUtils(){return Gt(this,Bt)}on(t,e,i,s){Object(c.a)(t,e)||Gt(this,Rt).error("Incorrect arguments","on"),Gt(this,Bt).bus.on(t,e,i,s)}emit(t,e,...i){if(!Object(c.a)(t,e))return void Gt(this,Rt).warning("Not enough data to emit event","emit");let s=("string"==typeof e?document.querySelector(e):e).$cuid;Object(c.v)(s)?Gt(this,Bt).bus.emit(t,s,...i):Gt(this,Rt).warning("Element is not a cUI element","emit")}alert(t,e,i){(class{static get(t,e,i,s){return"Info"===e?new Ht(s,t,i):"YesNoCancel"===e?new $t(s,t,i):"OkCancel"===e?new _t(s,t,i):void 0}}).get(t,e,i,Gt(this,Bt)).show(Gt(this,Kt))}}Rt=new WeakMap,qt=new WeakMap,zt=new WeakMap,Bt=new WeakMap,Ft=new WeakMap,Kt=new WeakMap},function(t,e,i){"use strict";i.d(e,"b",(function(){return b})),i.d(e,"a",(function(){return k}));var s,n,r,o,a,h,c,u,l,d,p,f,v=i(4),g=i(0),m=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},w=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class b{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),c.set(this,void 0),m(this,s,null),m(this,r,t),this._log=v.a.get("CuiMutationObserver"),this.plugins=null,m(this,o,[]),m(this,a,[]),m(this,h,e),m(this,c,"")}setPlugins(t){return this.plugins=t,this}setComponents(t){return m(this,o,t),this}setAttributes(t){return m(this,n,{attributes:!0,subtree:!0,childList:!0,attributeFilter:t}),m(this,a,t),m(this,c,Object(g.z)(t)),this}start(){return this._log.debug("Starting"),m(this,s,new MutationObserver(this.mutationCallback.bind(this))),w(this,s).observe(w(this,r),w(this,n)),this._log.debug("Started"),this}stop(){return this._log.debug("Stopping"),null!==w(this,s)&&this._log.debug("Observer available"),w(this,s).disconnect(),m(this,s,null),this._log.debug("Stopped"),this}mutationCallback(t,e){t.forEach(t=>{switch(t.type){case"attributes":const e=t.target;Object(g.a)(e.$handlers,e.$handlers[t.attributeName])&&e.$handlers[t.attributeName].refresh(Object(g.A)(e,t.attributeName));break;case"childList":this.handleChildListMutation(t)}Object(g.v)(this.plugins)&&this.plugins.onMutation(t).then(()=>{})})}handleChildListMutation(t){const e=t.addedNodes.length,i=t.removedNodes.length;e>0?(this._log.debug("Registering added nodes: "+e),this.handleAddedNodes(t.addedNodes)):i>0&&(this._log.debug("Removing nodes: "+i),this.handleRemovedNodes(t.removedNodes))}handleAddedNodes(t){t.forEach(t=>{try{Object(g.B)(t,w(this,o),w(this,a),w(this,h));let e=t.hasChildNodes()?t.querySelectorAll(w(this,c)):null;Object(g.v)(e)&&e.forEach(t=>{Object(g.B)(t,w(this,o),w(this,a),w(this,h))})}catch(t){this._log.exception(t)}})}handleRemovedNodes(t){t.forEach(t=>{this.destroySingleElement(t);let e=t.hasChildNodes()?t.querySelectorAll(w(this,c)):null;Object(g.v)(e)&&e.forEach(t=>{this.destroySingleElement(t)})})}destroySingleElement(t){let e=t;if(e.$handlers)for(let t in e.$handlers)if(e.$handlers.hasOwnProperty(t))try{e.$handlers[t].destroy()}catch(e){this._log.exception(e,"remove - "+t)}}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap,c=new WeakMap;class k{constructor(t){u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),p.set(this,void 0),f.set(this,{childList:!0,subtree:!0}),m(this,l,null),m(this,u,!1),m(this,d,t)}observe(){w(this,u)||w(this,p)||(w(this,l).observe(w(this,d),w(this,f)),m(this,u,!0))}unobserve(){w(this,u)&&(w(this,l).disconnect(),m(this,u,!1))}isObserving(){return w(this,u)}disable(t){m(this,p,t),w(this,p)&&this.unobserve()}onMutation(t){w(this,u)&&this.unobserve(),m(this,l,new MutationObserver(t))}}u=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap},function(t,e,i){"use strict";i(0);new WeakMap,new WeakMap,new WeakMap,new WeakMap},function(t,e){},function(t,e,i){"use strict";i.r(e);var s=i(22),n=i(12);for(var r in n)["default","CuiInstance"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var o=i(11);for(var r in o)["default","CuiInstance"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var a=i(6);i.d(e,"CuiSetup",(function(){return a.a})),i.d(e,"CuiSetupInit",(function(){return a.b}));var h=i(7);i.d(e,"CuiUtils",(function(){return h.a})),i.d(e,"CuiInitializer",(function(){return s.b})),i.d(e,"CuiInit",(function(){return s.a}));var c=i(23);i.d(e,"CuiInstance",(function(){return c.a})),window.cuiInit=new s.a}])}));
//# sourceMappingURL=index.js.map