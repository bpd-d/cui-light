!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("cui-light",[],e):"object"==typeof exports?exports["cui-light"]=e():t["cui-light"]=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=25)}([function(t,e,i){"use strict";i.d(e,"t",(function(){return r})),i.d(e,"k",(function(){return o})),i.d(e,"B",(function(){return a})),i.d(e,"d",(function(){return h})),i.d(e,"n",(function(){return c})),i.d(e,"o",(function(){return u})),i.d(e,"s",(function(){return l})),i.d(e,"e",(function(){return d})),i.d(e,"x",(function(){return p})),i.d(e,"q",(function(){return f})),i.d(e,"r",(function(){return g})),i.d(e,"a",(function(){return v})),i.d(e,"b",(function(){return m})),i.d(e,"m",(function(){return b})),i.d(e,"l",(function(){return k})),i.d(e,"j",(function(){return y})),i.d(e,"u",(function(){return E})),i.d(e,"h",(function(){return C})),i.d(e,"y",(function(){return M})),i.d(e,"w",(function(){return L})),i.d(e,"p",(function(){return A})),i.d(e,"v",(function(){return T})),i.d(e,"A",(function(){return x})),i.d(e,"f",(function(){return S})),i.d(e,"g",(function(){return W})),i.d(e,"z",(function(){return I})),i.d(e,"c",(function(){return _})),i.d(e,"i",(function(){return N}));var s=i(5),n=i(1);function r(t,e=!0){return null!=t&&(!e||!function(t){if("string"==typeof t)return 0===t.length;if("boolean"==typeof t)return t;if(Array.isArray(t))return 0===t.length;return!1}(t))}function o(t,e){if(!r(t)||!r(e))throw new s.a("Missing argument value");return`${t}-${e}`}function a(t){return new Promise(e=>setTimeout(()=>{e(!0)},t))}function h(t){if(!r(t))return null;let e=document.createElement("template");return e.innerHTML=t,e.content.children.length>0?e.content.children[0]:null}function c(t,e,i){return t<e?e:t>i?i:t}function u(t,e,i,s){return null==t||isNaN(t)?s:c(t,e,i)}function l(t,e){return e<0||e>1?0:t+t*e}function d(t,e){return e<0||e>1?0:t-t*e}function p(t){return r(t)?`[${t.join("],[")}]`:""}function f(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function g(){return window.matchMedia&&window.matchMedia("print").matches}function v(...t){if(!r(t))return!1;let e=t.length;for(let i=0;i<e;i++)if(!r(t[i]))return!1;return!0}function m(t){return t<=640?"small":t>640&&t<=960?"medium":t>960&&t<=1200?"large":"xlarge"}function w(t){let e=function(t){let e=null;if(r(t)&&t.startsWith("{")&&t.endsWith("}")){try{e=function(t){return t&&t.length>0?JSON.parse(t):{}}(t)}catch(t){console.error((i="An exception occured",s="Functions",n="parseJsonString",`[${(new Date).toLocaleString()}][${null!=s?s:"-"}][${null!=n?n:"-"}][${i}]`),t)}return e}var i,s,n;return null}(t.trim());return r(e)||(t.includes(";")||t.includes(":")?(e={},t.split(";").forEach(t=>{let i=t.split(":");2===i.length&&(e[i[0].trim()]=i[1].trim())})):e=t),e}function b(t){if(!r(t))return-1;let e=t.offsetTop-parseInt(O(t,"margin-top"))-parseInt(O(t,"padding-top"))-parseInt(O(t,"border-top-width"));return e<0?t.offsetTop:e}function k(t){if(!r(t))return-1;let e=t.offsetLeft-parseInt(O(t,"margin-left"))-parseInt(O(t,"padding-left"))-parseInt(O(t,"border-left-width"));return e<0?t.offsetLeft:e}function y(t,e){let i=parseInt(t);return isNaN(i)?e:i}function O(t,e){return r(t)&&r(e)?t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):null:null}function E(t,e,i){return r(t)&&t>=e&&t<=i}function C(t){return(null!=t?t:"")+"-active"}function M(t,e){return v(t,e)?w(t.getAttribute(e)):null}function L(t){return!!r(t)&&["y","t","true","yes"].includes(t.toLowerCase())}function A(t,e){return r(t)?t.toLowerCase():e}function T(t){return"string"==typeof t}function x(t,e){return r(t)?t.replace("{prefix}",null!=e?e:""):t}function S(t){return`${r(t)?t:"cui-element"}-${n.b.next().value}`}function W(){let t=j(1,1e3),e=j(1,100);return`${Math.floor(Math.random()*e)}-${Math.floor(t)}`}function j(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function I(t,e,i,n){let o=t;o.$handlers={};let a=function(t,e){return t&&r(t.hasAttribute)?e.filter(e=>t.hasAttribute(e)):null}(t,i);r(a)&&(o.$cuid=S(t.tagName),a.forEach(i=>{let a=e.find(t=>t.attribute===i);if(r(a))try{n.styleAppender.append(a.getStyle());let e=a.get(t,n);o.$handlers[a.attribute]=e,o.$handlers[a.attribute].handle(M(t,a.attribute))}catch(t){throw new s.e(t.message)}}))}function*_(){let t=0;for(;;){((yield t++)||t>2e5)&&(t=0)}}function N(t,e){if(!r(t.$handlers))return null;for(let i in t.$handlers)if(t.$handlers.hasOwnProperty(i)){let s=t.$handlers[i];if(D(s,e))return s}return null}function D(t,e){return r(t[e])&&"function"==typeof t[e]}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"i",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return h})),i.d(e,"f",(function(){return c})),i.d(e,"j",(function(){return u})),i.d(e,"g",(function(){return l})),i.d(e,"k",(function(){return d})),i.d(e,"h",(function(){return p})),i.d(e,"b",(function(){return f}));var s=i(0);const n={dark:"dark",animProgress:"animation-progress",print:"print",active:"active"},r={close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 1.9999999,1.9999999 18,18"></path><path d="M 18,1.9999999 1.9999999,18"></path></svg>',accordion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path d="M 5.0000475,7.4490018 10.000024,12.551028 15,7.4490018"></path></svg>',special_menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20"><path class="menu_handle_2" d="M 1,10 H 19"></path><path class="menu_handle_1" d="M 1,4.8571429 H 19"></path><path  class="menu_handle_3" d="M 1,15.142857 H 19"></path></svg>',special_fail:'<svg xmlns="http://www.w3.org/2000/svg" class="special-fail" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7.000001 A 43,43 0 0 1 92.999999,50 43,43 0 0 1 50,92.999999 43,43 0 0 1 7.0000011,50 43,43 0 0 1 50,7.000001 Z"></path><path class="arm_1" d="M 28.536809,28.536809 71.342023,71.342023"></path><path class="arm_2" d="M 71.342023,28.536809 28.536809,71.342023"></path></svg>',special_success:'<svg xmlns="http://www.w3.org/2000/svg" class="special-success" viewBox="0 0 100 100" width="100" height="100"><path class="circle" d="M 50,7 A 43,43 0 0 1 93,50 43,43 0 0 1 50,93 43,43 0 0 1 7,50 43,43 0 0 1 50,7 Z"></path><path class="arm" d="M 22.988405,48.234784 36.946233,72.410453 75.516456,33.84023"></path></svg>'},o={light:"--cui-color-light-app-background",dark:"--cui-color-dark-app-background"},a={light:"--cui-color-light-background",dark:"--cui-color-dark-background "},h={light:"--cui-color-light-border",dark:"--cui-color-dark-border"},c={light:{base:"--cui-color-light-base",muted:"--cui-color-light-muted",active:"--cui-color-light-active"},dark:{base:"--cui-color-dark-base",muted:"--cui-color-dark-muted",active:"--cui-color-dark-active"},accent:{base:"--cui-color-primary",muted:"--cui-color-primary-muted",active:"--cui-color-primary-active"},secondary:{base:"--cui-color-secondary",muted:"--cui-color-secondary-muted",active:"--cui-color-secondary-active"},success:{base:"--cui-color-success",muted:"--cui-color-success-muted",active:"--cui-color-success-active"},warning:{base:"--cui-color-warning",muted:"--cui-color-warning-muted",active:"--cui-color-warning-active"},error:{base:"--cui-color-error",muted:"--cui-color-error-muted",active:"--cui-color-error-active"}},u=":scope ",l={fontSize:"--{prefix}-font-size",lineHeight:"--{prefix}-line-height",animationTime:"--{prefix}-animation-time",animationTimeLong:"--{prefix}-animation-time-long",animationTimeShort:"--{prefix}-animation-time-short",colorLightAppBackground:"--{prefix}-color-light-app-background",colorLightBackground:"--{prefix}-color-light-background",colorLightBorder:"--{prefix}-color-light-border",colorLightBase:"--{prefix}-color-light-base",colorLightActive:"--{prefix}-color-light-active",colorLightMuted:"--{prefix}-color-light-muted",colorDarkAppBackground:"--{prefix}-color-dark-app-background",colorDarkBackground:"--{prefix}-color-dark-background",colorDarkBorder:"--{prefix}-color-dark-border",colorDarkBase:"--{prefix}-color-dark-base",colorDarkActive:"--{prefix}-color-dark-active",colorDarkMuted:"--{prefix}-color-dark-muted",colorAccent:"--{prefix}-color-primary",colorAccentActive:"--{prefix}-color-primary-active",colorAccentMuted:"--{prefix}-color-primary-muted",colorAccentShade:"--{prefix}-color-primary-shade",colorAccentShadeDark:"--{prefix}-color-primary-shade-dark",colorSecondary:"--{prefix}-color-secondary",colorSecondaryActive:"--{prefix}-color-secondary-active",colorSecondaryMuted:"--{prefix}-color-secondary-muted",colorSecondaryShade:"--{prefix}-color-secondary-shade",colorSecondaryShadeDark:"--{prefix}-color-secondary-shade-dark",colorWarning:"--{prefix}-color-warning",colorWarningActive:"--{prefix}-color-warning-active",colorWarningMuted:"--{prefix}-color-warning-muted",colorWarningShade:"--{prefix}-color-warning-shade",colorWarningShadeDark:"--{prefix}-color-warning-shade-dark",colorSuccess:"--{prefix}-color-success",colorSuccessActive:"--{prefix}-color-success-active",colorSuccessMuted:"--{prefix}-color-success-muted",colorSuccessShade:"--{prefix}-color-success-shade",colorSuccessShadeDark:"--{prefix}-color-success-shade-dark",colorError:"--{prefix}-color-error",colorErrorActive:"--{prefix}-color-error-active",colorErrorMuted:"--{prefix}-color-error-muted",colorErrorShade:"--{prefix}-color-error-shade",colorErrorShadeDark:"--{prefix}-color-error-shade-dark",inputBackground:"--{prefix}-input-background-color",colorShade:"--{prefix}-color-shade",colorShadeDarker:"--{prefix}-color-shade-darker",colorShadeLight:"--{prefix}-color-shade-light",colorShadeLighter:"--{prefix}-color-shade-light-lighter",outline:"--{prefix}-outline",borderRadius:"--{prefix}-border-radius",padding:"--{prefix}-padding",margin:"--{prefix}-margin",scrollbarWidth:"--{prefix}-scrollbar-width",componentSpace:"--{prefix}-component-space"};class d{}d.logLevel="none",d.prefix="cui";const p={INSTANCE_INITIALIZED:"instance-initialized",INSTANCE_FINISHED:"instance-finished",ON_RESIZE:"resize",ON_OPEN:"open",ON_CLOSE:"close",ON_TOGGLE:"toggle",ON_SCROLL:"scroll",ON_TARGET_CHANGE:"targetchange",ON_INTERSECTION:"intersection",ON_KEYDOWN:"keydown",ON_SCROLLBY:"scrollby",ON_WINDOW_CLICK:"windowclick"},f=Object(s.c)()},function(t,e,i){"use strict";i(23),i(5);var s=i(12);i.o(s,"CuiActionsFatory")&&i.d(e,"CuiActionsFatory",(function(){return s.CuiActionsFatory})),i.o(s,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return s.CuiActionsHelper})),i.o(s,"EVENTS")&&i.d(e,"EVENTS",(function(){return s.EVENTS})),i.o(s,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return s.SCOPE_SELECTOR})),i.o(s,"getActiveClass")&&i.d(e,"getActiveClass",(function(){return s.getActiveClass})),i.o(s,"getIntOrDefault")&&i.d(e,"getIntOrDefault",(function(){return s.getIntOrDefault})),i.o(s,"getName")&&i.d(e,"getName",(function(){return s.getName})),i.o(s,"getStringOrDefault")&&i.d(e,"getStringOrDefault",(function(){return s.getStringOrDefault})),i.o(s,"is")&&i.d(e,"is",(function(){return s.is})),i.o(s,"isInRange")&&i.d(e,"isInRange",(function(){return s.isInRange})),i.o(s,"isStringTrue")&&i.d(e,"isStringTrue",(function(){return s.isStringTrue})),i.o(s,"replacePrefix")&&i.d(e,"replacePrefix",(function(){return s.replacePrefix}));var n=i(13);i.o(n,"CuiActionsFatory")&&i.d(e,"CuiActionsFatory",(function(){return n.CuiActionsFatory})),i.o(n,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return n.CuiActionsHelper})),i.o(n,"EVENTS")&&i.d(e,"EVENTS",(function(){return n.EVENTS})),i.o(n,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return n.SCOPE_SELECTOR})),i.o(n,"getActiveClass")&&i.d(e,"getActiveClass",(function(){return n.getActiveClass})),i.o(n,"getIntOrDefault")&&i.d(e,"getIntOrDefault",(function(){return n.getIntOrDefault})),i.o(n,"getName")&&i.d(e,"getName",(function(){return n.getName})),i.o(n,"getStringOrDefault")&&i.d(e,"getStringOrDefault",(function(){return n.getStringOrDefault})),i.o(n,"is")&&i.d(e,"is",(function(){return n.is})),i.o(n,"isInRange")&&i.d(e,"isInRange",(function(){return n.isInRange})),i.o(n,"isStringTrue")&&i.d(e,"isStringTrue",(function(){return n.isStringTrue})),i.o(n,"replacePrefix")&&i.d(e,"replacePrefix",(function(){return n.replacePrefix}));i(6),i(8);var r=i(3);i.d(e,"CuiActionsFatory",(function(){return r.a}));i(16);var o=i(0);i.d(e,"getActiveClass",(function(){return o.h})),i.d(e,"getIntOrDefault",(function(){return o.j})),i.d(e,"getName",(function(){return o.k})),i.d(e,"getStringOrDefault",(function(){return o.p})),i.d(e,"is",(function(){return o.t})),i.d(e,"isInRange",(function(){return o.u})),i.d(e,"isStringTrue",(function(){return o.w})),i.d(e,"replacePrefix",(function(){return o.A}));i(11),i(14);var a=i(24);i.o(a,"CuiActionsHelper")&&i.d(e,"CuiActionsHelper",(function(){return a.CuiActionsHelper})),i.o(a,"EVENTS")&&i.d(e,"EVENTS",(function(){return a.EVENTS})),i.o(a,"SCOPE_SELECTOR")&&i.d(e,"SCOPE_SELECTOR",(function(){return a.SCOPE_SELECTOR}));var h=i(1);i.d(e,"EVENTS",(function(){return h.h})),i.d(e,"SCOPE_SELECTOR",(function(){return h.j}));i(20),i(4),i(15);var c=i(7);i.d(e,"CuiActionsHelper",(function(){return c.a}));i(19),i(18),i(17),i(21),i(9),i(10)},function(t,e,i){"use strict";i.d(e,"c",(function(){return h})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return d}));var s,n,r=i(0),o=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class h{constructor(t){s.set(this,void 0),o(this,s,t)}add(t,e){Object(r.a)(t,a(this,s))&&!t.classList.contains(a(this,s))&&t.classList.add(a(this,s))}remove(t,e){Object(r.a)(t,a(this,s))&&t.classList.contains(a(this,s))&&t.classList.remove(a(this,s))}toggle(t,e){Object(r.a)(t,a(this,s))&&(t.classList.contains(a(this,s))?t.classList.add(a(this,s)):t.classList.remove(a(this,s)))}}s=new WeakMap;class c{constructor(t){n.set(this,void 0),o(this,n,t)}add(t,e){switch(a(this,n)){case"dark-mode":e.setLightMode("dark");break;case"light-mode":e.setLightMode("light")}}remove(t,e){switch(a(this,n)){case"dark-mode":e.setLightMode("light");break;case"light-mode":e.setLightMode("dark")}}toggle(t,e){switch(a(this,n)){case"dark-mode":case"light-mode":this.setDarkMode(e)}}setDarkMode(t){"dark"===t.getLightMode()?t.setLightMode("light"):t.setLightMode("dark")}}n=new WeakMap;class u{constructor(){}add(t,e){}remove(t,e){}toggle(t,e){}}class l{static get(t){if(!Object(r.t)(t))return new u;switch(t[0]){case".":return new h(t.substring(1));case"~":return new c(t.substring(1));default:return new h(t)}}}class d{static get(t){if(!Object(r.t)(t))return[];return t.split(",").map(t=>l.get(t.trim()))}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i(14),n=i(1);class r{static get(t,e){return new s.a(t,null!=e?e:n.k.logLevel)}}},function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"e",(function(){return h}));class s extends Error{constructor(t,e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=t}}class n extends s{constructor(t){super("ItemNotFoundError",t)}}class r extends s{constructor(t){super("ArgumentError",t)}}class o extends s{constructor(t){super("CuiInstanceInitError",t)}}class a extends s{constructor(t){super("CuiScrollSpyOutOfRangeError",t)}}class h extends s{constructor(t){super("RegisterElementError",t)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}));class s{constructor(){this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.plugins={}}fromInit(t){return this.prefix=t.prefix,this.logLevel=t.logLevel,this.cacheSize=t.cacheSize,this.autoLightMode=t.autoLightMode,this.animationTime=t.animationTime,this.animationTimeShort=t.animationTimeShort,this.animationTimeLong=t.animationTimeLong,this.scrollThreshold=t.scrollThreshold,this.resizeThreshold=t.resizeThreshold,this}}class n{constructor(){this.prefix="cui",this.app="$cui",this.logLevel="warning",this.interaction="async",this.animationTime=300,this.animationTimeShort=150,this.animationTimeLong=500,this.cacheSize=500,this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.root=document.body}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n=i(1),r=i(0),o=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),a(this,s,t)}performAction(t,e,i){return o(this,void 0,void 0,(function*(){return new Promise(r=>{h(this,s).mutate(()=>{e.add(t),t.classList.add(n.a.animProgress),setTimeout(()=>{h(this,s).mutate(()=>{e.remove(t),t.classList.remove(n.a.animProgress),r(!0)},null)},i)},null)})}))}performSwitchAction(t,e,i,a,c,u){return o(this,void 0,void 0,(function*(){return new Promise(o=>{h(this,s).mutate(()=>{i.add(t),t.classList.add(n.a.animProgress),Object(r.t)(e)&&(a.add(e),e.classList.add(n.a.animProgress)),setTimeout(()=>{h(this,s).mutate(()=>{i.remove(t),a.remove(e),t.classList.remove(n.a.animProgress),e.classList.remove(n.a.animProgress),c(),o(!0)},null)},u)},null)})}))}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return P}));var s,n,r=i(6),o=i(15),a=i(16),h=i(0),c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t){s.set(this,void 0),n.set(this,void 0),c(this,s,new a.a),c(this,n,null!=t?t:500)}put(t,e){Object(h.t)(t)&&(this.has(t)?u(this,s).update(t,e):(this.clean(),u(this,s).add(t,e)))}get(t){if(!Object(h.t)(t))return null;if(this.has(t)){let e=u(this,s).get(t);if(e.refresh())return e;u(this,s).remove(t)}return null}has(t){return!!Object(h.t)(t)&&u(this,s).containsKey(t)}remove(t){return!!Object(h.t)(t)&&(!!this.has(t)&&(u(this,s).remove(t),!0))}clear(){u(this,s).clear()}clean(){u(this,s).keys().length>=u(this,n)&&u(this,s).remove(u(this,s).keys()[0])}}s=new WeakMap,n=new WeakMap;var d,p,f,g,v=i(17),m=i(18),w=i(19),b=i(1),k=i(20),y=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},O=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class E{constructor(t){d.set(this,void 0),p.set(this,void 0),f.set(this,15),g.set(this,15),y(this,d,document.documentElement),y(this,p,t)}setAppBackground(t,e){this.setPropertyIn(b.c.light,t.toCssString()),this.setPropertyIn(b.c.dark,e.toCssString())}setComponentBackground(t,e){this.setPropertyIn(b.d.light,t.toCssString()),this.setPropertyIn(b.d.dark,e.toCssString())}setBordersColors(t,e){this.setPropertyIn(b.e.light,t.toCssString()),this.setPropertyIn(b.e.dark,e.toCssString())}setColor(t,e){var i,s;const n=b.f[t],r=e.base;if(!Object(h.t)(n)||!Object(h.t)(r))return;const o=null!==(i=e.muted)&&void 0!==i?i:r.clone().lighten(O(this,f)),a=null!==(s=e.active)&&void 0!==s?s:r.clone().darken(O(this,g));O(this,p).mutate(()=>{this.setProperty(n.base,r.toCssString()),this.setProperty(n.active,a.toCssString()),this.setProperty(n.muted,o.toCssString())},this)}setLightenFactor(t){y(this,f,Object(h.n)(t,0,100))}setDarkenFactor(t){y(this,g,Object(h.n)(t,0,100))}setProperty(t,e){O(this,d).style.setProperty(t,e)}setPropertyIn(t,e){Object(h.a)(e,t)&&O(this,p).mutate(this.setProperty,this,t,e)}}d=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap;var C,M,L,A,T,x,S,W=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},j=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class I{constructor(t,e){C.set(this,void 0),M.set(this,void 0),L.set(this,void 0),A.set(this,void 0),T.set(this,void 0),x.set(this,void 0),S.set(this,void 0),W(this,C,[]),W(this,M,[]),W(this,L,window.innerWidth),W(this,A,!1),W(this,T,Object(h.b)(window.innerWidth)),W(this,x,null!=e?e:0),W(this,S,t)}observe(t){j(this,C).findIndex(e=>e===t)<0&&j(this,C).push(t)}unobserve(t){let e=j(this,C).findIndex(e=>e===t);e>=0&&j(this,C).splice(e,1)}connect(){window.addEventListener("resize",this.listener.bind(this))}disconnect(){window.removeEventListener("resize",this.listener.bind(this))}listener(t){if(j(this,A))return;W(this,A,!0);const e=window.innerWidth-j(this,L);if(Math.abs(e)>=j(this,x)){const t=Object(h.b)(window.innerWidth);if(t!==j(this,T)){const e={current:t,previous:j(this,T),width:window.innerWidth,height:window.innerHeight,timestamp:Date.now()};j(this,S).emit(b.h.ON_RESIZE,null,e),j(this,C).length>0&&(W(this,M,[]),j(this,C).forEach(t=>{j(this,M).push(t.resize(e))}),Promise.all(j(this,M)),W(this,M,[])),W(this,T,t)}}W(this,A,!1)}}C=new WeakMap,M=new WeakMap,L=new WeakMap,A=new WeakMap,T=new WeakMap,x=new WeakMap,S=new WeakMap;var _,N=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},D=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class P{constructor(t){_.set(this,void 0),this.setup=(new r.a).fromInit(t),this.interactions=o.a.get(t.interaction),this.cache=new l(this.setup.cacheSize),this.bus=new v.a(new m.a(new w.a)),this.colors=new E(this.interactions),this.styleAppender=new k.a(this.interactions),N(this,_,new I(this.bus,this.setup.resizeThreshold)),D(this,_).connect()}setLightMode(t){const e=Object(h.k)(this.setup.prefix,b.a.dark),i=document.body.classList;"dark"!==t||i.contains(e)?"light"===t&&i.contains(e)&&this.interactions.mutate(()=>{i.remove(e)},this):this.interactions.mutate(()=>{i.add(e)},this)}getLightMode(){const t=Object(h.k)(this.setup.prefix,b.a.dark);return document.body.classList.contains(t)?"dark":"light"}setPrintMode(t){const e=Object(h.k)(this.setup.prefix,b.a.print),i=document.body.classList;t&&!i.contains(e)?i.add(e):!t&&i.contains(e)&&i.remove(e)}isPrintMode(){const t=Object(h.k)(this.setup.prefix,b.a.print);return document.body.classList.contains(t)}setProperty(t,e){let i=Object(h.A)(t,this.setup.prefix);document.documentElement.style.setProperty(i,e)}}_=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n,r,o,a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a(this,s,t),a(this,r,!1)}setCallback(t){a(this,n,t)}isInProgress(){return h(this,o)}attach(){window.matchMedia&&!h(this,r)&&h(this,s)&&(window.matchMedia(h(this,s)).addEventListener("change",this.event.bind(this)),a(this,r,!0))}detach(){h(this,r)&&(window.matchMedia(h(this,s)).removeEventListener("change",this.event.bind(this)),a(this,r,!1))}isAttached(){return h(this,r)}event(t){if(!h(this,o)){a(this,o,!0);try{h(this,n).call(this,t)}catch(t){console.error(t)}finally{a(this,o,!1)}}}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var s,n,r,o,a,h,c,u=i(0),l=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},d=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class p{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),c.set(this,void 0),l(this,s,t),l(this,n,!1),l(this,r,Object(u.o)(e,0,100,0)),l(this,o,l(this,a,0)),l(this,c,!1)}setCallback(t){l(this,h,t)}attach(){d(this,s).addEventListener("scroll",this.listener.bind(this)),l(this,c,!0)}detach(){d(this,s).removeEventListener("scroll",this.listener.bind(this)),l(this,c,!1)}isInProgress(){return d(this,n)}isAttached(){return d(this,c)}listener(t){l(this,o,d(this,o)+d(this,s).scrollLeft),l(this,a,d(this,a)+d(this,s).scrollTop),!d(this,n)&&this.passedThreshold()&&(l(this,n,!0),requestAnimationFrame(()=>{d(this,h).call(this,{base:t,top:d(this,s).scrollTop,left:d(this,s).scrollLeft}),l(this,n,!1),l(this,o,0),l(this,a,0)}))}passedThreshold(){return d(this,r)<=0||d(this,o)>=d(this,r)||d(this,a)>=d(this,r)}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap,c=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var s,n=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},r=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class o{constructor(){this.isScheduled=!1,s.set(this,void 0),this.raf=window.requestAnimationFrame.bind(window),this.writes=[],this.reads=[],n(this,s,5)}mutate(t,e,...i){this.reads.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.writes.push(this.createTask(t,e,...i)),this.schedule()}createTask(t,e,...i){return e||i?t.bind(e,...i):t}run(t){let e=null;for(;e=t.shift();)e()}schedule(t){if(!this.isScheduled){if(this.isScheduled=!0,t>=r(this,s))throw new Error("Fast Dom limit reached");this.raf(this.flush.bind(this,t))}}flush(t){let e=null!=t?t:0,i=null,s=this.writes,n=this.reads;try{this.run(n),this.run(s)}catch(t){i=t,console.error(t)}this.isScheduled=!1,i&&this.schedule(e+1),(this.writes.length||this.reads.length)&&this.schedule(t+1)}}s=new WeakMap;class a{constructor(){this.isRunning=!1,this.tasks=[],this.raf=window.requestAnimationFrame.bind(window)}mutate(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}fetch(t,e,...i){this.tasks.push(this.createTask(t,e,...i)),this.schedule()}schedule(){this.isRunning||(this.isRunning=!0,this.raf(this.flush.bind(this)))}flush(){let t=null;for(;t=this.tasks.shift();)try{t()}catch(t){}this.isRunning=!1}createTask(t,e,...i){return e||i?t.bind(e,...i):t}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));class s{constructor(t,e){this.level=e,this.component=t,this.id="-"}setLevel(t){this.level=t}setId(t){this.id=t}debug(t,e){"debug"===this.level&&console.log(this.prepString(t,e))}error(t,e){"error"!==this.level&&"debug"!==this.level&&"warning"!==this.level||console.error(this.prepString(t,e))}warning(t,e){"warning"!==this.level&&"debug"!==this.level||console.warn(this.prepString(t,e))}exception(t,e){console.error(this.prepString(`An exception occured: ${t.name}: ${t.message}`,e)),"debug"===this.level&&console.error(t.stack)}performance(t,e){if("debug"!==this.level)return;let i=Date.now();t(),console.log(this.prepString(`Performance measure: ${Date.now()-i}ms`,e))}prepString(t,e){return`[${(new Date).toLocaleString()}][${this.component}][${null!=e?e:"-"}][${this.id}][${t}]`}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(11);class n{static get(t){switch(t){case"async":return new s.a;default:return new s.b}}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n,r=i(5),o=i(0),a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class c{constructor(t){s.set(this,void 0),n.set(this,void 0),a(this,s,[]),a(this,n,[]),t&&t.forEach(t=>{if(!Object(o.t)(t.key))throw a(this,s,[]),a(this,n,[]),new r.a("Key is empty");this.add(t.key,t.value)})}add(t,e){if(this.throwOnEmptyKey(t),this.containsKey(t))throw new Error("Key already exists");h(this,s).push(t),h(this,n).push(e)}remove(t){if(!Object(o.t)(t))return;let e=h(this,s).indexOf(t);e>=0&&(h(this,s).splice(e,1),h(this,n).splice(e,1))}get(t){this.throwOnEmptyKey(t);let e=this.indexOf(t);if(!(e<0))return h(this,n)[e]}containsKey(t){return Object(o.t)(t)&&this.indexOf(t)>=0}keys(){return h(this,s)}values(){return h(this,n)}indexOf(t){return Object(o.t)(t)?h(this,s).indexOf(t):-1}update(t,e){this.throwOnEmptyKey(t);let i=this.indexOf(t);if(i<0)throw new r.d(`Item with key [${t}] not found`);h(this,n)[i]=e}clear(){a(this,n,[]),a(this,s,[])}throwOnEmptyKey(t){if(!Object(o.t)(t))throw new r.a("Key is empty")}}s=new WeakMap,n=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var s,n,r,o=i(0),a=i(5),h=i(4),c=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},u=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},l=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class d{constructor(t){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),u(this,s,{}),u(this,r,t),u(this,n,h.a.get("CuiEventBus"))}on(t,e,i,r){if(!Object(o.a)(t,e))throw new a.a("Missing argument");let h=this.prepareEventId(i);return l(this,n).debug(`Attaching new event: [${t}] for: [${h}]`),l(this,s)[t]||(l(this,s)[t]={}),l(this,s)[t][h]={ctx:i,callback:e,$cuid:this.getCuid(r)},h}detach(t,e,i){if(!Object(o.a)(t,e))throw new a.a("Missing argument");let r=l(this,s)[t],h=e.getId();l(this,n).debug(`Detaching item: [${h}] from [${t}]`),this.isAttached(r,h)&&delete r[h]}detachAll(t){Object(o.t)(t)&&l(this,s)[t]?delete l(this,s)[t]:l(this,n).error("Event name is missing or incorrect","detachAll")}emit(t,e,...i){return c(this,void 0,void 0,(function*(){if(!Object(o.t)(t))throw new a.a("Event name is incorrect");return l(this,n).debug(`Emit: [${t}]`),yield l(this,r).handle(l(this,s)[t],e,i),!0}))}isSubscribing(t,e,i){let n=l(this,s)[t];return this.isAttached(n,e.getId(),i)}isAttached(t,e,i){return Object(o.t)(i)?Object(o.t)(t)&&Object(o.t)(e)&&Object(o.t)(t[e])&&Object(o.t)(t[e].$cuid===i.$cuid):Object(o.t)(t)&&Object(o.t)(e)&&Object(o.t)(t[e])}getCuid(t){return Object(o.t)(t)?t.$cuid:null}prepareEventId(t){return Object(o.a)(t)?t.getId():Object(o.g)()}}s=new WeakMap,n=new WeakMap,r=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s,n=i(0),r=(i(4),function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))}),o=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},a=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class h{constructor(){this.queue=[],this.isBusy=!1}idMatches(t,e){return!Object(n.t)(t)||Object(n.t)(t)&&t==e}}new WeakMap,new WeakMap;class c extends h{constructor(t){super(),s.set(this,void 0),o(this,s,t)}handle(t,e,i){return r(this,void 0,void 0,(function*(){Object(n.t)(t)&&(this.queue.push({events:t,cuid:e,args:i}),this.isBusy||(this.isBusy=!0,this.perform(),this.queue.length>0&&this.perform(),this.isBusy=!1))}))}perform(){return r(this,void 0,void 0,(function*(){let t=this.queue.shift(),e=[];for(let i in t.events){let n=t.events[i];this.idMatches(t.cuid,n.$cuid)&&e.push(a(this,s).execute(n.callback,n.ctx,t.args))}return Promise.all(e)}))}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i(0),n=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))};class r{execute(t,e,i){return n(this,void 0,void 0,(function*(){i=null!=i?i:[],Object(s.t)(e)?t.apply(e,i):t(...i)}))}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s,n=i(0),r=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class o{constructor(t){s.set(this,void 0),r(this,s,t)}append(t){if(Object(n.t)(t)){const e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),s=document.createTextNode(t);i.type="text/css",i.appendChild(s),e.appendChild(i)}return!0}}s=new WeakMap},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var s,n,r,o,a,h=i(0),c=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c(this,n,e),c(this,r,!1),c(this,o,!0)}setCallback(t){c(this,s,t)}isInProgress(){return u(this,r)}attach(){document.addEventListener("keydown",this.onKeyDown.bind(this)),u(this,o)&&document.addEventListener("keyup",this.onKeyUp.bind(this)),c(this,a,!0)}detach(){document.removeEventListener("keydown",this.onKeyDown.bind(this)),u(this,o)&&document.addEventListener("keyup",this.onKeyUp.bind(this)),c(this,a,!1)}isAttached(){return u(this,a)}onKeyDown(t){if(!u(this,r)){c(this,r,!0);try{Object(h.t)(u(this,n))&&!u(this,n).includes(t.code)||u(this,s).call(this,t)}catch(t){console.error(t)}finally{u(this,o)||c(this,r,!1)}}}onKeyUp(t){c(this,r,!1)}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap},function(t,e,i){"use strict";i.d(e,"b",(function(){return Kn})),i.d(e,"a",(function(){return Bn}));var s,n,r,o,a,h,c=i(6),u=i(0),l=i(4),d=i(1),p=i(7),f=i(3),g=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},v=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},m=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class w{constructor(t,e){s.set(this,void 0),n.set(this,void 0),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),h.set(this,void 0),v(this,s,t),v(this,n,!1),v(this,r,l.a.get("ElementManager")),v(this,a,e),v(this,o,Date.now()),v(this,h,new p.a(e.interactions))}toggleClass(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},"toggleClass")}))}toggleClassAs(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{let i=e.classList;m(this,a).interactions.fetch(()=>{i.contains(t)?m(this,a).interactions.mutate(i.remove,i,t):m(this,a).interactions.mutate(i.add,i,t)},this)},"toggleClassAs")}))}setClass(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{e.classList.contains(t)||e.classList.add(t)},"setClass")}))}setClassAs(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{let i=e.classList;m(this,a).interactions.fetch(()=>{i.contains(t)||m(this,a).interactions.mutate(i.add,i,t)},this)},"setClassAs")}))}removeClass(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{e.classList.contains(t)&&e.classList.remove(t)},"removeClass")}))}removeClassAs(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{let i=e.classList;m(this,a).interactions.fetch(()=>{i.contains(t)&&m(this,a).interactions.mutate(i.remove,i,t)},this)},"removeClass")}))}getAttribute(t){return Object(u.t)(t)?m(this,s).reduce((e,i)=>(i.hasAttribute(t)?e.push(i.getAttribute(t)):e.push(null),e),[]):null}setAttribute(t,e){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(i=>{i.setAttribute(t,null!=e?e:"")},"setAttribute")}))}setAttributeAs(t,e){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(i=>{m(this,a).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},"setAttributeAs")}))}removeAttribute(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{e.removeAttribute(t)},"removeAttribute")}))}removeAttributeAs(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{m(this,a).interactions.mutate(e.removeAttribute,e,t)},"removeAttributeAs")}))}toggleAttribute(t,e){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(i=>{i.hasAttribute(t)?i.removeAttribute(t):i.setAttribute(t,null!=e?e:"")},"toggleAttribute")}))}toggleAttributeAs(t,e){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(i=>{m(this,a).interactions.fetch(()=>{i.hasAttribute(t)?m(this,a).interactions.mutate(i.removeAttribute,i,t):m(this,a).interactions.mutate(i.setAttribute,i,t,null!=e?e:"")},this)},"toggleAttributeAs")}))}click(t){return g(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&this.call(e=>{e.addEventListener("click",t)},"click")}))}event(t,e){return g(this,void 0,void 0,(function*(){return!(!Object(u.t)(t)||!Object(u.t)(e))&&this.call(i=>{i.addEventListener(t,e)},"event")}))}call(t,e){return g(this,void 0,void 0,(function*(){return m(this,n)&&m(this,r).error("Element is locked",e),this.lock(),m(this,s).forEach((e,i)=>{t(e,i)}),this.unlock(),!0}))}animate(t,e){return g(this,void 0,void 0,(function*(){if(!Object(u.t)(t))return!1;const i=null!=e?e:m(this,a).setup.animationTime;return this.call(e=>{this.change(()=>{e.classList.add(t),e.classList.add(d.a.animProgress),setTimeout(()=>{this.change(()=>{e.classList.remove(t),e.classList.remove(d.a.animProgress)})},i)})})}))}open(t,e,i){return g(this,void 0,void 0,(function*(){if(!Object(u.a)(t,e))return!1;const s=null!=i?i:m(this,a).setup.animationTime,n=new f.c(e);return this.call(e=>{m(this,h).performAction(e,n,s).then(()=>{e.classList.add(t)})})}))}close(t,e,i){return g(this,void 0,void 0,(function*(){if(!Object(u.a)(t,e))return!1;const s=null!=i?i:m(this,a).setup.animationTime,n=new f.c(e);return this.call(e=>{m(this,h).performAction(e,n,s).then(()=>{e.classList.remove(t)})})}))}read(t,...e){m(this,a).interactions.fetch(t,this,...e)}change(t,...e){m(this,a).interactions.mutate(t,this,...e)}elements(){return m(this,s)}count(){return m(this,s).length}lock(){v(this,n,!0)}unlock(){v(this,n,!1)}isLocked(){return m(this,n)}refresh(){return Date.now()-m(this,o)<36e4}}s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap;var b,k,y,O,E,C,M,L=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},A=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class T{constructor(t,e){b.set(this,void 0),k.set(this,void 0),y.set(this,void 0),O.set(this,void 0),E.set(this,void 0),C.set(this,void 0),M.set(this,void 0),L(this,b,null),L(this,y,t),this._log=l.a.get("CuiMutationObserver"),this.plugins=null,L(this,O,[]),L(this,E,[]),L(this,C,e),L(this,M,"")}setPlugins(t){return this.plugins=t,this}setComponents(t){return L(this,O,t),this}setAttributes(t){return L(this,k,{attributes:!0,subtree:!0,childList:!0,attributeFilter:t}),L(this,E,t),L(this,M,Object(u.x)(t)),this}start(){return this._log.debug("Starting"),L(this,b,new MutationObserver(this.mutationCallback.bind(this))),A(this,b).observe(A(this,y),A(this,k)),this._log.debug("Started"),this}stop(){return this._log.debug("Stopping"),null!==A(this,b)&&this._log.debug("Observer available"),A(this,b).disconnect(),L(this,b,null),this._log.debug("Stopped"),this}mutationCallback(t,e){t.forEach(t=>{switch(t.type){case"attributes":const e=t.target;Object(u.a)(e.$handlers,e.$handlers[t.attributeName])&&e.$handlers[t.attributeName].refresh(Object(u.y)(e,t.attributeName));break;case"childList":this.handleChildListMutation(t)}Object(u.t)(this.plugins)&&this.plugins.onMutation(t).then(()=>{})})}handleChildListMutation(t){const e=t.addedNodes.length,i=t.removedNodes.length;e>0?(this._log.debug("Registering added nodes: "+e),this.handleAddedNodes(t.addedNodes)):i>0&&(this._log.debug("Removing nodes: "+i),this.handleRemovedNodes(t.removedNodes))}handleAddedNodes(t){t.forEach(t=>{try{Object(u.z)(t,A(this,O),A(this,E),A(this,C));let e=t.hasChildNodes()?t.querySelectorAll(A(this,M)):null;Object(u.t)(e)&&e.forEach(t=>{Object(u.z)(t,A(this,O),A(this,E),A(this,C))})}catch(t){this._log.exception(t)}})}handleRemovedNodes(t){t.forEach(t=>{this.destroySingleElement(t);let e=t.hasChildNodes()?t.querySelectorAll(A(this,M)):null;Object(u.t)(e)&&e.forEach(t=>{this.destroySingleElement(t)})})}destroySingleElement(t){let e=t;if(e.$handlers)for(let t in e.$handlers)if(e.$handlers.hasOwnProperty(t))try{e.$handlers[t].destroy()}catch(e){this._log.exception(e,"remove - "+t)}}}b=new WeakMap,k=new WeakMap,y=new WeakMap,O=new WeakMap,E=new WeakMap,C=new WeakMap,M=new WeakMap;var x,S,W,j,I,_,N,D,P=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},$=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},H=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class R{constructor(t,e,i){x.set(this,void 0),S.set(this,void 0),W.set(this,void 0),j.set(this,void 0),I.set(this,void 0),_.set(this,void 0),N.set(this,void 0),D.set(this,void 0),$(this,x,t),$(this,S,`.${e}-toast`),$(this,W,e+"-toast"),$(this,j,e+"-active"),$(this,I,i),$(this,_,!1),$(this,N,e+"-toast-animation-in"),$(this,D,e+"-toast-animation-out")}show(t){return P(this,void 0,void 0,(function*(){if(H(this,_))return!1;$(this,_,!0);let e=document.querySelector(H(this,S));return Object(u.t)(e)||(e=document.createElement("div"),e.classList.add(H(this,W)),document.body.appendChild(e)),H(this,x).mutate(()=>{e.innerHTML=t,e.classList.add(d.a.animProgress),e.classList.add(H(this,N))},this),yield Object(u.B)(H(this,I)),H(this,x).mutate(()=>{e.classList.remove(d.a.animProgress),e.classList.remove(H(this,N)),e.classList.add(H(this,j))},this),yield Object(u.B)(3e3),H(this,x).mutate(()=>{e.classList.add(d.a.animProgress),e.classList.add(H(this,D))},this),setTimeout(()=>{H(this,x).mutate(()=>{e.classList.remove(d.a.animProgress),e.classList.remove(H(this,D)),e.classList.remove(H(this,j))},this),$(this,_,!1)},H(this,I)),!0}))}}x=new WeakMap,S=new WeakMap,W=new WeakMap,j=new WeakMap,I=new WeakMap,_=new WeakMap,N=new WeakMap,D=new WeakMap;var z,q,K,B,F,V=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},U=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Y=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class G{constructor(t){z.set(this,void 0),q.set(this,void 0),K.set(this,void 0),B.set(this,void 0),F.set(this,void 0),U(this,F,t),U(this,q,l.a.get("CollectionManager"))}setElements(t){U(this,z,t)}setToggle(t){U(this,B,t)}addAnimationClass(t,e,i,s){e.classList.add(d.a.animProgress),t.classList.add(s),e.classList.add(i)}setFinalClasses(t,e,i,s){e.classList.remove(d.a.animProgress),t.classList.remove(s),e.classList.remove(i),t.classList.remove(Y(this,B)),e.classList.add(Y(this,B))}verifyIndex(t,e,i){return t>=0&&t!==e&&t<i}setCurrent(t,e){return V(this,void 0,void 0,(function*(){return this.lock(),Y(this,q).debug(`Switching index from: ${e} to ${t}`),e>-1&&Y(this,z)[e].classList.remove(Y(this,B)),Y(this,z)[t].classList.add(Y(this,B)),this.unlock(),!0}))}setCurrentWithAnimation(t,e,i,s,n){return V(this,void 0,void 0,(function*(){this.lock(),Y(this,q).debug(`Switching index from: ${n} to ${t}`);const r=Y(this,z)[n],o=Y(this,z)[t];return Y(this,F).mutate(this.addAnimationClass,this,r,o,e,i),setTimeout(()=>{Y(this,F).mutate(this.setFinalClasses,this,r,o,e,i),this.unlock()},s),!0}))}getCurrentIndex(){if(!Object(u.t)(Y(this,B)))return-1;let t=this.count();for(let e=0;e<t;e++)if(Y(this,z)[e].classList.contains(Y(this,B)))return e;return-1}elements(){return Y(this,z)}check(){return Y(this,K)?(Y(this,q).warning("Object locked. Operation in progress","Check"),!1):Object(u.t)(Y(this,B))?!(this.count()<=0)||(Y(this,q).warning("Elements list is empty","Check"),!1):(Y(this,q).warning("Toggle is not set. Call setToggleClass","Check"),!1)}count(){return Y(this,z)?Y(this,z).length:-1}lock(){U(this,K,!0)}unlock(){U(this,K,!1)}}z=new WeakMap,q=new WeakMap,K=new WeakMap,B=new WeakMap,F=new WeakMap;var Z,X,J,Q=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},tt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},et=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class it{constructor(t,e){Z.set(this,void 0),X.set(this,void 0),J.set(this,void 0),tt(this,Z,l.a.get("CollectionManager")),tt(this,J,new G(e)),et(this,J).setElements(t),tt(this,X,Date.now())}setToggle(t){et(this,J).setToggle(t)}setElements(t){et(this,J).setElements(t)}click(t){et(this,J).elements().forEach((e,i)=>{e.addEventListener("click",()=>{this.set(i).then(()=>{t&&t(e,i)})})})}next(){return Q(this,void 0,void 0,(function*(){if(!et(this,J).check())return!1;let t=et(this,J).getCurrentIndex()+1;return this.set(t>=this.length()?0:t)}))}previous(){return Q(this,void 0,void 0,(function*(){if(!et(this,J).check())return!1;let t=et(this,J).getCurrentIndex()-1;return this.set(t<0?this.length()-1:t)}))}set(t){return Q(this,void 0,void 0,(function*(){let e=et(this,J).getCurrentIndex();return!(!et(this,J).check()||!et(this,J).verifyIndex(t,e,this.length()))&&et(this,J).setCurrent(t,e)}))}setWithAnimation(t,e,i,s){return Q(this,void 0,void 0,(function*(){let n=et(this,J).getCurrentIndex();return!(!et(this,J).check()||!et(this,J).verifyIndex(t,n,this.length()))&&et(this,J).setCurrentWithAnimation(t,e,i,s,n)}))}getCurrentIndex(){return et(this,J).getCurrentIndex()}length(){return et(this,J).count()}refresh(){return this.length()>0&&Date.now()-et(this,X)>36e4}}Z=new WeakMap,X=new WeakMap,J=new WeakMap;var st,nt,rt,ot=i(8),at=i(5),ht=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},ct=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ut=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class lt{constructor(t){st.set(this,void 0),nt.set(this,void 0),rt.set(this,void 0),ct(this,st,null!=t?t:[]),ct(this,rt,l.a.get("CuiPluginManager"))}init(t){ut(this,rt).debug("Plugins initialization started: "+ut(this,st).length),ct(this,nt,ut(this,st).filter(t=>Object(u.t)(t.mutation))),ut(this,st).forEach(e=>{e.init(t),t.setup.plugins[e.description]=e.setup}),ut(this,rt).debug("Plugins have been initialized")}get(t){if(Object(u.t)(t))return ut(this,st).find(e=>e.name===t)}onMutation(t){return ht(this,void 0,void 0,(function*(){let e=[];return ut(this,nt).forEach(i=>{e.push(i.mutation(t))}),!(yield Promise.all(e)).find(t=>{})}))}}st=new WeakMap,nt=new WeakMap,rt=new WeakMap;var dt,pt,ft,gt,vt,mt,wt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},bt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},kt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class yt{constructor(t,e,i){dt.set(this,void 0),pt.set(this,void 0),ft.set(this,void 0),gt.set(this,void 0),vt.set(this,void 0),mt.set(this,void 0),d.k.prefix=t.prefix,d.k.logLevel=t.logLevel,this.plugins=new lt(e),bt(this,vt,null!=i?i:[]),bt(this,gt,new ot.a(t)),bt(this,dt,l.a.get("CuiInstance")),bt(this,mt,t.root)}init(){if(kt(this,dt).debug("Instance started","init"),!Object(u.t)(window.MutationObserver))throw new at.b("Mutation observer does not exists");bt(this,ft,new R(kt(this,gt).interactions,kt(this,gt).setup.prefix,kt(this,gt).setup.animationTimeLong));const t=kt(this,vt).map(t=>t.attribute),e=Object(u.t)(t)?kt(this,mt).querySelectorAll(Object(u.x)(t)):null;if(Object(u.t)(e)){kt(this,dt).debug(`Initiating ${e.length} elements`);try{e.forEach(e=>{Object(u.z)(e,kt(this,vt),t,kt(this,gt))})}catch(t){kt(this,dt).exception(t)}}return kt(this,dt).debug("Init plugins","init"),this.plugins.init(kt(this,gt)),Object(u.a)(kt(this,vt),t)&&(kt(this,dt).debug("Init mutation observer","init"),bt(this,pt,new T(kt(this,mt),kt(this,gt))),kt(this,pt).setComponents(kt(this,vt)).setAttributes(t),kt(this,pt).setPlugins(this.plugins),kt(this,pt).start()),kt(this,dt).debug("Setting CSS globals","init"),kt(this,gt).interactions.mutate(()=>{kt(this,gt).setProperty(d.g.animationTimeLong,kt(this,gt).setup.animationTimeLong+"ms"),kt(this,gt).setProperty(d.g.animationTime,kt(this,gt).setup.animationTime+"ms"),kt(this,gt).setProperty(d.g.animationTimeShort,kt(this,gt).setup.animationTimeShort+"ms")},null),kt(this,gt).bus.emit(d.h.INSTANCE_INITIALIZED,null),this}finish(){kt(this,pt).stop(),kt(this,gt).bus.emit(d.h.INSTANCE_FINISHED,null)}get(t){const e=kt(this,gt).cache.get(t);if(Object(u.t)(e))return e;const i=this.all(t);if(!i)return;const s=new w(i,kt(this,gt));return kt(this,gt).cache.put(t,s),s}collection(t){const e=kt(this,gt).cache.get(t);if(Object(u.t)(e))return e;const i=this.all(t);if(!Object(u.t)(i))return;let s=new it(i,kt(this,gt).interactions);return kt(this,gt).cache.put(t,s),s}toast(t){return wt(this,void 0,void 0,(function*(){return!!Object(u.t)(t)&&kt(this,ft).show(t)}))}select(t){return document.querySelector(t)}all(t){const e=document.querySelectorAll(t);if(Object(u.t)(e))return[...e]}getUtils(){return kt(this,gt)}on(t,e,i,s){Object(u.a)(t,e)||kt(this,dt).error("Incorrect arguments","on"),kt(this,gt).bus.on(t,e,i,s)}}dt=new WeakMap,pt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,mt=new WeakMap;var Ot,Et,Ct=i(9),Mt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Lt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class At{constructor(t){this.description="Dark vs Light mode auto switcher",this.name="auto-light",Ot.set(this,void 0),Et.set(this,void 0),this.description="CuiAutoLightModePlugin",this.setup=t}init(t){Mt(this,Et,t),this.setup.autoLight&&"dark"===Object(u.q)()&&Lt(this,Et).setLightMode("dark"),Mt(this,Ot,new Ct.a("(prefers-color-scheme: dark)")),Lt(this,Ot).setCallback(this.onChange.bind(this)),Lt(this,Ot).attach()}destroy(){Lt(this,Ot).detach()}onChange(t){var e;let i=Lt(this,Et).setup.plugins[this.description];null!==(e=null==i?void 0:i.autoLight)&&void 0!==e&&e&&(t.matches?Lt(this,Et).setLightMode("dark"):Lt(this,Et).setLightMode("light"))}}Ot=new WeakMap,Et=new WeakMap;var Tt=i(2),xt=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))};class St{constructor(t,e,i){this._log=l.a.get(t),this.utils=i,this.element=e,this.cuid=e.$cuid,this.isLocked=!1}mutate(t,...e){this.utils.interactions.mutate(t,this,...e)}fetch(t,...e){this.utils.interactions.fetch(t,this,...e)}getEventName(t){return[t,this.cuid].join("-")}emitEvent(t,...e){this.utils.bus.emit(t,this.cuid,...e)}onEvent(t,e){this.utils.bus.on(t,e,this,this.element)}detachEvent(t){this.utils.bus.detach(t,this)}getId(){return this.cuid}checkLockAndWarn(t){return!!this.isLocked&&(this._log.warning("Component is locked",t),!0)}}class Wt extends St{constructor(t,e,i,s){super(t,e,s),this.args=i,this.activeClassName=Object(Tt.getActiveClass)(s.setup.prefix),this.actionsHelper=new Tt.CuiActionsHelper(s.interactions),this.prevArgs=null,this.isInitialized=!1}isActive(){return this.element.classList.contains(this.activeClassName)}performAction(t,e,i){return xt(this,void 0,void 0,(function*(){return!!(yield this.actionsHelper.performAction(this.element,t,e))&&(i(),!0)}))}handle(t){this._log.debug("Init","handle"),this.isInitialized?this._log.warning("Trying to initialize component again","handle"):(this.args.parse(t),this.onInit(),this.isInitialized=!0)}refresh(t){this._log.debug("Update","refresh"),this.isInitialized?(this.prevArgs=Object.assign({},this.args),this.args.parse(t),this.onUpdate()):this._log.error("Cannot update not initialized componentn","refresh")}destroy(){this._log.debug("Destroy","destroy"),this.onDestroy(),this.isInitialized=!1}}var jt,It,_t,Nt,Dt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Pt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class $t{parse(t){Object(u.t)(t)||(this.icon=null),Object(u.v)(t)?this.icon=t:this.icon=Object(u.p)(t.icon,"")}}class Ht{constructor(t){this.attribute=(null!=t?t:"cui")+"-icon"}getStyle(){return null}get(t,e){return new Rt(t,e,this.attribute)}}class Rt extends Wt{constructor(t,e,i){super("CuiIconHandler",t,new $t,e),jt.set(this,void 0),Dt(this,jt,null)}onInit(){null===Pt(this,jt)?(this.addIcon(this.args.icon),Dt(this,jt,this.args.icon)):this._log.debug("Icon already initialized")}onUpdate(){this.args.icon!==Pt(this,jt)&&(this.addIcon(this.args.icon),Dt(this,jt,this.args.icon))}onDestroy(){const t=this.element.querySelector("svg");Object(u.t)(t)&&t.remove(),Dt(this,jt,null)}addIcon(t){const e=t?d.i[t]:null;if(!e)return;const i=new zt(e).build(),s=this.element.querySelector("svg");Object(u.t)(s)&&s.remove(),this.element.childNodes.length>0?this.mutate(this.insertBefore,i):this.mutate(this.appendChild,i)}insertBefore(t){this.element.insertBefore(t,this.element.firstChild)}appendChild(t){this.element.appendChild(t)}}jt=new WeakMap;class zt{constructor(t){It.set(this,void 0),_t.set(this,void 0),Nt.set(this,void 0),Dt(this,It,t),Dt(this,_t,1)}setStyle(t){return Dt(this,Nt,t),this}setScale(t){return Dt(this,_t,t),this}build(){let t=Object(u.d)(Pt(this,It));if(Object(u.t)(t)&&Pt(this,_t)){(new qt).append(t,Pt(this,_t))}return t}}It=new WeakMap,_t=new WeakMap,Nt=new WeakMap;class qt{append(t,e){let i=t.hasAttribute("width")?parseInt(t.getAttribute("width")):20,s=t.hasAttribute("height")?parseInt(t.getAttribute("height")):20;t.setAttribute("width",(i*e).toString()),t.setAttribute("height",(s*e).toString())}}var Kt,Bt,Ft,Vt,Ut,Yt,Gt,Zt=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Xt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Jt{constructor(){Kt.set(this,void 0),this.attribute="circle-progress",d.i.special_circle_progress='<svg xmlns="http://www.w3.org/2000/svg"  class="circle-progress" viewBox="0 0 100 100" width="100" height="100"><path class="circle-progress-path" d="M 50,5.3660047 A 44.867708,44.633994 0 0 1 94.867709,49.999997 44.867708,44.633994 0 0 1 50,94.633995 44.867708,44.633994 0 0 1 5.1322908,50.000001 44.867708,44.633994 0 0 1 50,5.3660047"></path></svg>'}getStyle(){return null}get(t,e){return new Qt(t,e,this.attribute)}}Kt=new WeakMap;class Qt extends St{constructor(t,e,i){super("CuiCircleHandler",t,e),Bt.set(this,void 0),Ft.set(this,void 0),Vt.set(this,void 0),Ut.set(this,void 0),Yt.set(this,void 0),Gt.set(this,void 0),Zt(this,Ft,Zt(this,Vt,0)),Zt(this,Ut,null),Zt(this,Yt,-1),Zt(this,Gt,i)}handle(t){if(Object(u.t)(Xt(this,Bt)))return;const e=new zt(d.i.special_circle_progress).build(),i=this.element.querySelector("svg");Object(u.t)(i)&&i.remove(),this.element.appendChild(e),Zt(this,Ut,this.element.querySelector(".circle-progress-path")),Zt(this,Vt,Xt(this,Ut).getTotalLength()),Zt(this,Ft,Xt(this,Vt)/100),Zt(this,Bt,!0),this.fetch(this.readStyle)}refresh(t){this.fetch(this.readStyle)}destroy(){Zt(this,Bt,!1)}updateStyle(t){Xt(this,Ut).style.strokeDashoffset=t}readStyle(){const t=this.element.hasAttribute(Xt(this,Gt))?parseInt(this.element.getAttribute(Xt(this,Gt))):0;if(t===Xt(this,Yt))return;Zt(this,Yt,t);const e=Object(u.n)(t,0,100);this.mutate(this.updateStyle,Xt(this,Vt)-Xt(this,Ft)*e)}}Bt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,Ut=new WeakMap,Yt=new WeakMap,Gt=new WeakMap;var te,ee,ie=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},se=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ne{constructor(){this.attribute="data-spinner",d.i.special_circle_double='<svg xmlns="http://www.w3.org/2000/svg" class="circle-double" viewBox="0 0 100 100" width="100" height="100"><path class="circle-double-outer" d="M 50.000002,6.1070619 A 44.867709,44.126654 0 0 1 94.867708,50.233712 44.867709,44.126654 0 0 1 50.000002,94.36037 44.867709,44.126654 0 0 1 5.132292,50.233717 44.867709,44.126654 0 0 1 50.000002,6.1070619"></path><path class="circle-double-inner" d="M 50.000001,15.59972 A 35.383463,34.633995 0 0 1 85.383464,50.233711 35.383463,34.633995 0 0 1 50.000001,84.86771 35.383463,34.633995 0 0 1 14.616536,50.233716 35.383463,34.633995 0 0 1 50.000001,15.59972"></path></svg>'}getStyle(){return null}get(t,e){return new re(t,e,this.attribute)}}class re extends St{constructor(t,e,i){super("CuiSpinnerHandler",t,e),te.set(this,void 0),ee.set(this,void 0),this.element=t,ie(this,te,i),ie(this,ee,!1)}handle(t){if(se(this,ee))return;const e=this.element.getAttribute(se(this,te)),i=Object(u.t)(e)?d.i["spinner_"+e]:null;if(!Object(u.t)(i))return;const s=new zt(i).build();this.element.innerHTML="",ie(this,ee,!0),this.mutate(this.addSpinner,s,e)}refresh(t){se(this,ee)}destroy(){ie(this,ee,!1),this.element.innerHTML=""}addSpinner(t,e){this.element.appendChild(t),this.element.classList.add("animation-spinner-"+e)}}te=new WeakMap,ee=new WeakMap;var oe,ae=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i};class he{constructor(){this.attribute="cui-dummy"}getStyle(){return null}get(t,e){return new ce(t,e,this.attribute)}}class ce extends St{constructor(t,e,i){super("CuiDummyHandler",t,e),oe.set(this,void 0),ae(this,oe,i)}handle(t){}refresh(t){}destroy(){}}oe=new WeakMap;var ue,le,de,pe,fe=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ge=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ve{constructor(t){this.attribute=Object(u.t)(t)?t+"scroll":"cui-scroll"}getStyle(){return null}get(t,e){return new me(t,e,this.attribute)}}class me extends St{constructor(t,e,i){super("CuiScrollHandler",t,e),ue.set(this,void 0),le.set(this,void 0),de.set(this,void 0),pe.set(this,void 0),this.element=t,fe(this,ue,i),fe(this,le,null),fe(this,de,null),fe(this,pe,null)}handle(t){this.parseArguments(t),this.element.addEventListener("click",this.onClick.bind(this))}refresh(t){this.parseArguments(t)}destroy(){this.element.removeEventListener("click",this.onClick.bind(this))}onClick(t){var e;if(!Object(u.t)(ge(this,pe)))return;let i=Object(u.m)(ge(this,pe))-ge(this,de).offsetTop,s=i-ge(this,de).scrollTop;ge(this,de).scrollBy({top:s,behavior:null!==(e=ge(this,le).behavior)&&void 0!==e?e:"auto"}),this.emitEvent(d.h.ON_SCROLL,{to:i,by:s,target:ge(this,pe),parent:ge(this,de),timestamp:Date.now()}),t.preventDefault()}parseArguments(t){fe(this,le,t),fe(this,pe,document.querySelector(ge(this,le).target)),Object(u.t)(ge(this,pe))&&fe(this,de,Object(u.t)(ge(this,le).parent)?document.querySelector(ge(this,le).parent):ge(this,pe).parentElement)}}ue=new WeakMap,le=new WeakMap,de=new WeakMap,pe=new WeakMap;var we,be,ke,ye,Oe,Ee,Ce,Me,Le,Ae=i(10),Te=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},xe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Se{constructor(){this.offset=0}parse(t){if(!t.selector)throw new Error("Incorrect arguments");this.selector=t.selector,this.action=f.a.get(t.action),this.link=t.link,this.linkAction=f.a.get(t.linkAction),this.offset=Object(u.o)(parseInt(t.offset),-1,1,0)}}class We{constructor(t){this.attribute=(null!=t?t:"cui")+"-scrollspy"}getStyle(){return null}get(t,e){return new je(t,e,this.attribute)}}class je extends St{constructor(t,e,i){super("CuiScrollspyHandler",t,e),we.set(this,void 0),be.set(this,void 0),ke.set(this,void 0),ye.set(this,void 0),Oe.set(this,void 0),Ee.set(this,void 0),Ce.set(this,void 0),Me.set(this,void 0),Le.set(this,void 0),this.element=t,Te(this,we,new Ae.a(this.element,this.utils.setup.scrollThreshold)),Te(this,be,new Se),Te(this,ke,[]),Te(this,ye,[]),Te(this,Oe,Te(this,Ee,xe(this,Ce)-1))}handle(t){this._log.debug("Handle","handle"),Te(this,Me,this.element.scrollTop),Te(this,Le,this.element.scrollLeft),this.parseAttribute(t),this.calculateCurrent(xe(this,Me)),xe(this,we).setCallback(this.onScroll.bind(this)),xe(this,we).attach()}refresh(t){this._log.debug("Refresh"),this.parseAttribute(t),Te(this,Me,this.element.scrollTop),Te(this,Le,this.element.scrollLeft),this.calculateCurrent(xe(this,Me))}destroy(){xe(this,we).detach()}onScroll(t){let e=-1;if(e=Math.abs(t.left-xe(this,Le))>Math.abs(t.top-xe(this,Me))?this.calculateCurrentLeft(t.left):this.calculateCurrent(t.top),e!==xe(this,Oe)){let i=this.setCurrent(e);this.emitEvent(d.h.ON_TARGET_CHANGE,{top:t.top,left:t.left,target:i,timestamp:Date.now()})}Te(this,Me,this.element.scrollTop),Te(this,Le,this.element.scrollLeft)}parseAttribute(t){xe(this,be).parse(t),Te(this,ye,[...this.element.querySelectorAll(xe(this,be).selector)]),Te(this,ke,xe(this,be).link?[...document.querySelectorAll(xe(this,be).link)]:[]),Te(this,Ee,xe(this,ye).length),Te(this,Ce,xe(this,ke).length)}calculateCurrent(t){return xe(this,ye).findIndex(e=>{let i=Object(u.m)(e)-this.element.offsetTop,s=i*xe(this,be).offset;return i+s<=t&&t<i+e.clientHeight+s})}calculateCurrentLeft(t){return xe(this,ye).findIndex(e=>{let i=Object(u.l)(e)-this.element.offsetLeft,s=i*xe(this,be).offset;return i+s<=t&&t<i+e.clientWidth+s})}setCurrent(t){if(!Object(u.u)(t,0,xe(this,Ee)))throw new at.c("New index is out of targets length");let e=xe(this,ye)[t];return xe(this,be).action.add(e),xe(this,be).action.remove(xe(this,ye)[xe(this,Oe)]),xe(this,Ce)>0&&(Object(u.u)(t,0,xe(this,Ce))&&xe(this,be).linkAction.add(xe(this,ke)[t]),Object(u.u)(xe(this,Oe),0,xe(this,Ce))&&xe(this,be).linkAction.remove(xe(this,ke)[xe(this,Oe)])),Te(this,Oe,t),e}}we=new WeakMap,be=new WeakMap,ke=new WeakMap,ye=new WeakMap,Oe=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,Me=new WeakMap,Le=new WeakMap;var Ie,_e,Ne=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},De=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Pe{constructor(t){this.description="Auto print mode",this.name="auto-print",Ie.set(this,void 0),_e.set(this,void 0),this.description="CuiAutoPrintModePlugin",this.setup=t}init(t){Ne(this,_e,t),this.setup.autoPrint&&Object(u.r)()&&De(this,_e).setPrintMode(!0),Ne(this,Ie,new Ct.a("print")),De(this,Ie).setCallback(this.onChange.bind(this)),De(this,Ie).attach()}destroy(){De(this,Ie).detach()}onChange(t){var e,i;this.setup=De(this,_e).setup.plugins[this.description],null!==(i=null===(e=this.setup)||void 0===e?void 0:e.autoPrint)&&void 0!==i&&i&&(console.log(t.matches),t.matches?De(this,_e).setPrintMode(!0):De(this,_e).setPrintMode(!1))}}Ie=new WeakMap,_e=new WeakMap;var $e,He,Re,ze=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},qe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ke{constructor(t,e){$e.set(this,void 0),He.set(this,void 0),Re.set(this,void 0),ze(this,$e,t),ze(this,He,null!=e?e:[0,.1,.25,.5,.75])}setCallback(t){ze(this,Re,t)}connect(){this.observer=new IntersectionObserver(qe(this,Re),{root:qe(this,$e),rootMargin:"0px",threshold:qe(this,He)})}observe(t){this.observer.observe(t)}unobserve(t){this.observer.unobserve(t)}disconnect(){this.observer.disconnect()}}$e=new WeakMap,He=new WeakMap,Re=new WeakMap;var Be,Fe,Ve=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ue=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ye{constructor(){this.target="div",this.action=f.a.get("dummy"),this.offset=0}parse(t){this.target=Object(u.t)(t.target)?t.target:"div",this.action=Object(u.t)(t.action)?f.a.get(t.action):f.a.get("dummy"),this.offset=Object(u.o)(parseInt(t.offset),0,1,0)}}class Ge{constructor(t){this.attribute=(null!=t?t:"cui")+"-intersection"}getStyle(){return null}get(t,e){return new Ze(t,e,this.attribute)}}class Ze extends Wt{constructor(t,e,i){super("CuiIntersectionHandler",t,new Ye,e),Be.set(this,void 0),Fe.set(this,void 0),Ve(this,Be,new Ke(this.element)),Ve(this,Fe,[])}onInit(){this.parseArguments(),Ue(this,Be).setCallback(this.onIntersection.bind(this)),Ue(this,Be).connect(),Ue(this,Fe).forEach(t=>{Ue(this,Be).observe(t)})}onUpdate(){this.parseArguments()}onDestroy(){Ue(this,Be).disconnect()}refresh(t){this.parseArguments()}parseArguments(){null!==this.prevArgs&&this.prevArgs.target===this.args.target||Ve(this,Fe,[...document.querySelectorAll(this.args.target)])}onIntersection(t,e){if(!Object(u.t)(Ue(this,Fe)))return;let i=null;t.forEach(t=>{i=this.getAction(t.target),t.isIntersecting&&t.intersectionRatio>this.args.offset?i.add(t.target):i.remove(t.target),this.emitIntersection(t)})}getAction(t){return t.hasAttribute("action")?f.a.get(t.getAttribute("action")):this.args.action}emitIntersection(t){this.emitEvent(d.h.ON_INTERSECTION,{entry:t,offset:this.args.offset,timestamp:Date.now()})}}Be=new WeakMap,Fe=new WeakMap;var Xe,Je,Qe,ti,ei,ii,si=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},ni=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},ri=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class oi{constructor(){this.target="",this.action=null,this.timeout=0,this.prevent=!1}parse(t){if(Object(u.t)(t)&&Object(u.v)(t))return this.target=t,this.action=null,this.timeout=-1,void(this.prevent=!1);this.target=Object(u.p)(t.target,null),this.action=f.a.get(t.action),this.timeout=Object(u.j)(t.timeout,-1),this.prevent=t.prevent&&Object(u.w)(t.prevent)}isValid(){return Object(u.t)(this.target)}}class ai{constructor(t){Xe.set(this,void 0),ni(this,Xe,null!=t?t:"cui"),this.attribute=ri(this,Xe)+"-open"}getStyle(){return null}get(t,e){return new hi(t,e,this.attribute,ri(this,Xe))}}Xe=new WeakMap;class hi extends St{constructor(t,e,i,s){super("CuiOpenHandler",t,e),Je.set(this,void 0),Qe.set(this,void 0),ti.set(this,void 0),ei.set(this,void 0),ii.set(this,void 0),ni(this,ei,new p.a(e.interactions)),ni(this,Je,new oi),ni(this,Qe,!1),ni(this,ti,s),ni(this,ii,!1)}handle(t){this._log.debug("Init","handle"),ri(this,Je).parse(t),ri(this,Je).isValid()&&(this.element.addEventListener("click",this.onClick.bind(this)),ni(this,Qe,!0),this._log.debug("Initialized","handle"))}refresh(t){this._log.debug("Refresh","refresh"),ri(this,Je).parse(t),ri(this,Je).isValid()&&!ri(this,Qe)&&(this.element.addEventListener("click",this.onClick.bind(this)),ni(this,Qe,!0),this._log.debug("Initialized","refresh"))}destroy(){this._log.debug("Destroy","destroy"),ri(this,Qe)&&(this.element.removeEventListener("click",this.onClick.bind(this)),this._log.debug("Destoryed","destroy"))}onClick(t){if(ri(this,ii))return;const e=document.querySelector(ri(this,Je).target);Object(u.t)(e)?(ni(this,ii,!0),this.run(e).then(i=>{this.activateTarget(t,e),ni(this,ii,!1)}).catch(t=>{this._log.exception(t),ni(this,ii,!1)}),ri(this,Je).prevent&&t.preventDefault()):this._log.warning(`Target ${ri(this,Je).target} not found`,"onClick")}canPerformAction(){return ri(this,Je).action&&-1!==ri(this,Je).timeout}run(t){return si(this,void 0,void 0,(function*(){let e=Object(u.i)(t,"open");if(Object(u.t)(e))return console.log("openable"),e.open();if(this.canPerformAction()){let e=ri(this,Je).timeout>0?ri(this,Je).timeout:this.utils.setup.animationTime;return ri(this,ei).performAction(t,ri(this,Je).action,e)}return!0}))}activateTarget(t,e){let i=Object(u.h)(ri(this,ti));Object(u.t)(e)&&!e.classList.contains(i)&&e.classList.add(i),this.emitOpen(t)}emitOpen(t){this.emitEvent(d.h.ON_OPEN,{event:t,timestamp:Date.now()})}}Je=new WeakMap,Qe=new WeakMap,ti=new WeakMap,ei=new WeakMap,ii=new WeakMap;var ci,ui,li,di,pi,fi,gi=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},vi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},mi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class wi{constructor(){this.target="",this.action=null,this.timeout=0,this.prevent=!1}parse(t){if(Object(u.t)(t)&&Object(u.v)(t))return this.target=t,this.action=null,this.timeout=-1,void(this.prevent=!1);this.target=Object(u.p)(t.target,null),this.action=f.a.get(t.action),this.timeout=Object(u.j)(t.timeout,-1),this.prevent=t.prevent&&Object(u.w)(t.prevent)}}class bi{constructor(t){ci.set(this,void 0),vi(this,ci,null!=t?t:"cui"),this.attribute=mi(this,ci)+"-close"}getStyle(){return null}get(t,e){return new ki(t,e,this.attribute,mi(this,ci))}}ci=new WeakMap;class ki extends St{constructor(t,e,i,s){super("CuiCloseHandler",t,e),ui.set(this,void 0),li.set(this,void 0),di.set(this,void 0),pi.set(this,void 0),fi.set(this,void 0),vi(this,fi,new p.a(e.interactions)),vi(this,ui,new wi),vi(this,li,!1),vi(this,di,s)}handle(t){this._log.debug("Init","handle"),mi(this,ui).parse(t),this.element.addEventListener("click",this.onClick.bind(this)),vi(this,li,!0),this._log.debug("Initialized","handle")}refresh(t){this._log.debug("Refresh","refresh"),mi(this,ui).parse(t),mi(this,li)||(this.element.addEventListener("click",this.onClick.bind(this)),vi(this,li,!0),this._log.debug("Initialized","refresh"))}destroy(){this._log.debug("Destroy","destroy"),mi(this,li)&&(this.element.removeEventListener("click",this.onClick.bind(this)),this._log.debug("Destoryed","destroy"))}onClick(t){if(mi(this,pi))return;const e=this.getTarget();Object(u.t)(e)?(vi(this,pi,!0),this.run(e).then(i=>{this.onActionFinish(t,e)}).catch(t=>{this._log.exception(t)}).finally(()=>{vi(this,pi,!1)}),mi(this,ui).prevent&&t.preventDefault()):this._log.warning(`Target ${mi(this,ui).target} not found`,"onClick")}run(t){return gi(this,void 0,void 0,(function*(){let e=Object(u.i)(t,"close");if(e)return e.close();if(mi(this,ui).action){let e=mi(this,ui).timeout>0?mi(this,ui).timeout:this.utils.setup.animationTime;return mi(this,fi).performAction(t,mi(this,ui).action,e)}return!0}))}onActionFinish(t,e){let i=Object(u.h)(mi(this,di));Object(u.t)(e)&&e.classList.contains(i)&&e.classList.remove(i),this.emitClose(t)}getTarget(){return Object(u.t)(mi(this,ui).target)?document.querySelector(mi(this,ui).target):this.element.parentElement}emitClose(t){this.emitEvent(d.h.ON_CLOSE,{timestamp:Date.now(),event:t})}}ui=new WeakMap,li=new WeakMap,di=new WeakMap,pi=new WeakMap,fi=new WeakMap;var yi,Oi,Ei,Ci,Mi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Li=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ai{constructor(){this.action=null,this.target=null}parse(t){Object(u.t)(t)&&Object(u.v)(t)?this.action=f.a.get(t):(this.target=Object(u.p)(t.target,null),this.action=f.a.get(t.action))}}class Ti{constructor(t){this.attribute=(null!=t?t:"cui")+"-toggle"}getStyle(){return null}get(t,e){return new xi(t,e,this.attribute)}}class xi extends St{constructor(t,e,i){super("CuiToggleHandler",t,e),yi.set(this,void 0),Oi.set(this,void 0),Ei.set(this,void 0),Ci.set(this,void 0),Mi(this,yi,i),Mi(this,Oi,new Ai),Mi(this,Ei,this.element),Mi(this,Ci,e)}handle(t){Li(this,Oi).parse(t),Mi(this,Ei,this.getTarget()),this.element.addEventListener("click",this.onClick.bind(this))}refresh(t){Li(this,Oi).parse(t),Mi(this,Ei,this.getTarget())}destroy(){this.element.removeEventListener("click",this.onClick.bind(this))}onClick(t){Li(this,Oi).action.toggle(Li(this,Ei),Li(this,Ci)),this.emitEvent(d.h.ON_TOGGLE,{action:Li(this,Oi).action,target:Li(this,Ei),timestamp:Date.now()}),t.preventDefault()}getTarget(){return Object(u.t)(Li(this,Oi).target)?document.querySelector(Li(this,Oi).target):this.element}}yi=new WeakMap,Oi=new WeakMap,Ei=new WeakMap,Ci=new WeakMap;var Si,Wi,ji=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ii=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class _i{constructor(){this.attribute="cui-resize"}getStyle(){return null}get(t,e){return new Ni(t,e,this.attribute)}}class Ni extends St{constructor(t,e,i){super("CuiResizeHandler",t,e),Si.set(this,void 0),Wi.set(this,void 0),ji(this,Si,i),ji(this,Wi,e.bus)}handle(t){Ii(this,Wi).on(d.h.ON_RESIZE,this.resize,this)}refresh(t){}destroy(){Ii(this,Wi).detach(d.h.ON_RESIZE,this)}resize(t){console.log(t)}getId(){return Object(u.f)(Ii(this,Si))}}Si=new WeakMap,Wi=new WeakMap;var Di,Pi,$i=i(21),Hi=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Ri=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class zi{constructor(t){Di.set(this,void 0),Pi.set(this,void 0),Hi(this,Pi,t),Hi(this,Di,new $i.a(!0)),Ri(this,Di).setCallback(this.onKeyDown.bind(this))}connect(){Ri(this,Di).attach()}disconnect(){Ri(this,Di).detach()}onKeyDown(t){Ri(this,Pi).emit(d.h.ON_KEYDOWN,null,{timestamp:Date.now(),event:t})}}Di=new WeakMap,Pi=new WeakMap;var qi,Ki=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Bi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Fi{constructor(t){this.name="keys-observer",qi.set(this,void 0),this.description="CuiKeysObserverPlugin",this.setup=t}init(t){Ki(this,qi,new zi(t.bus)),Bi(this,qi).connect()}destroy(){Bi(this,qi).disconnect()}}qi=new WeakMap;class Vi{static setLabel(t,e){t.hasAttribute("aria-label")||t.setAttribute("aria-label",e)}static setAria(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}static removeAria(t,e){t.hasAttribute(e)&&t.removeAttribute(e)}}var Ui,Yi,Gi,Zi,Xi=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Ji=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Qi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ts{constructor(){this.escClose=!1,this.outClose=!1}parse(t){this.escClose=Object(u.w)(t.escClose),this.outClose=Object(u.w)(t.outClose)}}class es{constructor(t){Ui.set(this,void 0),Ji(this,Ui,null!=t?t:"cui"),this.attribute=Qi(this,Ui)+"-dialog"}getStyle(){return null}get(t,e){return new is(t,e,this.attribute,Qi(this,Ui))}}Ui=new WeakMap;class is extends Wt{constructor(t,e,i,s){super("CuiDialogHandler",t,new ts,e),Yi.set(this,void 0),Gi.set(this,void 0),Zi.set(this,void 0),Ji(this,Yi,s),Ji(this,Gi,e.setup.animationTimeLong),Ji(this,Zi,Object(u.A)("{prefix}-dialog-open",s))}onInit(){Vi.setAria(this.element,"aria-modal",""),this._log.debug("Initialized","handle")}onUpdate(){}onDestroy(){}open(){return Xi(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("open"))return!1;if(this.isAnyActive()||this.isActive())return this._log.warning("Dialog is already opened"),!1;this.isLocked=!0,this._log.debug("Dialog "+this.cuid,"open");let t=this.getAction("{prefix}-dialog-default-in");return this.performAction(t,Qi(this,Gi),this.mutate.bind(this,this.onOpen))}))}close(){return Xi(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("close")||!this.isActive())return!1;this.isLocked=!0,this._log.debug("Dialog "+this.cuid,"close");let t=this.getAction("{prefix}-dialog-default-out");return this.performAction(t,Qi(this,Gi),this.mutate.bind(this,this.onClose))}))}onClose(){this.element.classList.remove(this.activeClassName),document.body.classList.remove(Qi(this,Zi)),Vi.setAria(this.element,"aria-expanded","false"),this.detachEvent(d.h.ON_KEYDOWN),this.detachEvent(d.h.ON_WINDOW_CLICK),this.emitEvent(d.h.ON_CLOSE,{timestamp:Date.now()}),this.isLocked=!1}onOpen(){this.element.classList.add(this.activeClassName),document.body.classList.add(Qi(this,Zi)),Vi.setAria(this.element,"aria-expanded","true"),this.args.escClose&&this.onEvent(d.h.ON_KEYDOWN,this.onEscClose.bind(this)),this.args.outClose&&this.onEvent(d.h.ON_WINDOW_CLICK,this.onWindowClick.bind(this)),this.emitEvent(d.h.ON_OPEN,{timestamp:Date.now()}),this.isLocked=!1}onEscClose(t){"Escape"===t.event.key&&this.close()}onWindowClick(t){this._log.debug("Dialog windows");let e=this.element.querySelector(Object(u.A)(".{prefix}-dialog-container",Qi(this,Yi)));console.log(e),e.contains(t.target)||this.close()}isAnyActive(){return document.body.classList.contains(Qi(this,Zi))}getAction(t){return new f.c(Object(u.A)(t,Qi(this,Yi)))}}Yi=new WeakMap,Gi=new WeakMap,Zi=new WeakMap;var ss,ns,rs,os,as,hs=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},cs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},us=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ls{constructor(t,e){ss.set(this,void 0),ns.set(this,void 0),cs(this,ss,t),this.escClose=!1,this.position="right",this.open=this.getDefaultOpenClass(),this.close=this.getDefaultCloseClass(),cs(this,ns,e),this.timeout=e}parse(t){Object(Tt.is)(t)&&(this.escClose=Object(Tt.isStringTrue)(t.escClose),this.outClose=Object(Tt.isStringTrue)(t.outClose),this.position=Object(Tt.getStringOrDefault)(t.position,"right"),this.open=Object(Tt.getStringOrDefault)(t.openCls,this.getDefaultOpenClass()),this.close=Object(Tt.getStringOrDefault)(t.closeCls,this.getDefaultCloseClass()),this.timeout=Object(Tt.getIntOrDefault)(t.timeout,us(this,ns)))}getDefaultOpenClass(){return Object(Tt.replacePrefix)("right"===this.position?".{prefix}-offcanvas-default-right-in":".{prefix}-offcanvas-default-left-in",us(this,ss))}getDefaultCloseClass(){return Object(Tt.replacePrefix)("right"===this.position?".{prefix}-offcanvas-default-right-out":".{prefix}-offcanvas-default-left-out",us(this,ss))}}ss=new WeakMap,ns=new WeakMap;class ds{constructor(t){rs.set(this,void 0),cs(this,rs,null!=t?t:"cui"),this.attribute=us(this,rs)+"-off-canvas"}getStyle(){return null}get(t,e){return new ps(t,e,this.attribute,us(this,rs))}}rs=new WeakMap;class ps extends Wt{constructor(t,e,i,s){super("CuiOffCanvasHandler",t,new ls(s,e.setup.animationTimeLong),e),os.set(this,void 0),as.set(this,void 0),cs(this,os,s),cs(this,as,Object(Tt.replacePrefix)("{prefix}-off-canvas-open",s))}onInit(){this.mutate(()=>{this.setPositionLeft(),Vi.setAria(this.element,"aria-modal","")}),this._log.debug("Initialized","onInit")}onUpdate(){this.setPositionLeft()}onDestroy(){}open(){return hs(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("open"))return!1;if(this.isAnyActive()||this.isActive())return this._log.warning("Offcanvas is already opened"),!1;this.isLocked=!0,this._log.debug("Offcanvas "+this.cuid,"open");let t=Tt.CuiActionsFatory.get(this.args.open);return this.performAction(t,this.args.timeout,this.mutate.bind(this,this.onOpen))}))}close(){return hs(this,void 0,void 0,(function*(){if(this.checkLockAndWarn("close")||!this.isActive())return!1;this.isLocked=!0,this._log.debug("Offcanvas "+this.cuid,"close");let t=Tt.CuiActionsFatory.get(this.args.close);return this.performAction(t,this.args.timeout,this.mutate.bind(this,this.onClose))}))}onClose(){this.element.classList.remove(this.activeClassName),document.body.classList.remove(us(this,as)),Vi.setAria(this.element,"aria-expanded","false"),this.detachEvent(Tt.EVENTS.ON_KEYDOWN),this.detachEvent(Tt.EVENTS.ON_WINDOW_CLICK),this.emitEvent(Tt.EVENTS.ON_CLOSE,{timestamp:Date.now()}),this.isLocked=!1}onOpen(){this.element.classList.add(this.activeClassName),document.body.classList.add(us(this,as)),Vi.setAria(this.element,"aria-expanded","true"),this.args.escClose&&this.onEvent(Tt.EVENTS.ON_KEYDOWN,this.onEscClose.bind(this)),this.args.outClose&&this.onEvent(Tt.EVENTS.ON_WINDOW_CLICK,this.onWindowClick.bind(this)),this.emitEvent(Tt.EVENTS.ON_OPEN,{timestamp:Date.now()}),this.isLocked=!1}onEscClose(t){"Escape"===t.event.key&&this.close()}onWindowClick(t){this.element.querySelector(Object(Tt.replacePrefix)(".{prefix}-off-canvas-container",us(this,os))).contains(t.target)||this.close()}isAnyActive(){return document.body.classList.contains(us(this,as))}setPositionLeft(){let t=Object(Tt.getName)(us(this,os),"left");"left"!==this.args.position||this.element.classList.contains(t)?"right"==this.args.position&&this.element.classList.contains(t)&&this.element.classList.remove(t):this.element.classList.add(t)}}os=new WeakMap,as=new WeakMap;var fs,gs,vs,ms,ws,bs,ks,ys,Os=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Es=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Cs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ms{constructor(t,e){fs.set(this,void 0),gs.set(this,void 0),vs.set(this,void 0),Es(this,fs,Object(u.A)("> * > .{prefix}-accordion-title",t)),Es(this,gs,Object(u.A)("> *",t)),Es(this,vs,e),this.single=!1,this.selector=Cs(this,fs),this.items=Cs(this,gs),this.timeout=Cs(this,vs)}parse(t){if(Object(u.t)(t))return this.single=Object(u.w)(t.single),this.selector=Tt.SCOPE_SELECTOR+Object(u.p)(t.selector,Cs(this,fs)),this.items=Tt.SCOPE_SELECTOR+Object(u.p)(t.content,Cs(this,gs)),this.timeout=Object(u.j)(t.timeout,Cs(this,vs)),void(this.animation=Object(u.w)(t.animation))}isValid(){return!0}}fs=new WeakMap,gs=new WeakMap,vs=new WeakMap;class Ls{constructor(t){ms.set(this,void 0),Es(this,ms,null!=t?t:"cui"),this.attribute=Cs(this,ms)+"-accordion"}getStyle(){return null}get(t,e){return new As(t,e,this.attribute,Cs(this,ms))}}ms=new WeakMap;class As extends Wt{constructor(t,e,i,s){super("CuiAccordionHandler",t,new Ms(s,e.setup.animationTime),e),ws.set(this,void 0),bs.set(this,void 0),ks.set(this,void 0),ys.set(this,void 0),Es(this,ws,!1),Es(this,ks,Object(u.h)(s))}onInit(){if(this.args.isValid()){try{Es(this,bs,this.queryItems());const t=this.element.querySelectorAll(this.args.selector);Es(this,ys,[]),t.forEach((t,e)=>{let i={element:t};this.setListener(i,e),Cs(this,ys).push(i)})}catch(t){this._log.exception(t,"handle")}Es(this,ws,!0),this._log.debug("Initialized","handle")}}onUpdate(){this.args.isValid()&&!Cs(this,ws)&&(Es(this,ws,!0),this._log.debug("Initialized","refresh"));try{Es(this,bs,this.queryItems()),Cs(this,ys).forEach(t=>this.removeListener(t));const t=this.element.querySelectorAll(this.args.selector);Es(this,ys,[]),t.forEach((t,e)=>{let i={element:t};this.setListener(i,e),Cs(this,ys).push(i)})}catch(t){this._log.exception(t,"handle")}}onDestroy(){}switch(t){return Os(this,void 0,void 0,(function*(){if(this._log.debug("Switch to: "+t),t<0||this.isLocked||!Cs(this,ws))return!1;if(Es(this,bs,this.queryItems()),Cs(this,bs).length<=t)return!1;this.isLocked=!0;const e=Cs(this,bs)[t];return e.classList.contains(Cs(this,ks))?this.mutate(()=>{e.classList.remove(Cs(this,ks))}):(this.args.single&&this.closeAllExcept(t),this.mutate(()=>{e.classList.add(Cs(this,ks))})),this.emitEvent("switch",{index:t,currentTarget:e,timestamp:Date.now()}),this.isLocked=!1,!0}))}closeAllExcept(t){this.mutate(()=>{Cs(this,bs).forEach((e,i)=>{t!==i&&e.classList.contains(Cs(this,ks))&&e.classList.remove(Cs(this,ks))})})}setListener(t,e){t.listener=()=>{this.switch(e)},t.element.addEventListener("click",t.listener)}removeListener(t){t.listener&&t.element.removeEventListener("click",t.listener)}queryItems(){return Es(this,bs,[...this.element.querySelectorAll(this.args.items)])}}ws=new WeakMap,bs=new WeakMap,ks=new WeakMap,ys=new WeakMap;var Ts,xs,Ss,Ws,js,Is=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},_s=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ns{constructor(t){Ts.set(this,void 0),xs.set(this,null),Ss.set(this,void 0),Ws.set(this,void 0),js.set(this,void 0),Is(this,Ts,t),Is(this,Ss,!1),Is(this,Ws,!1)}setCallback(t){Is(this,xs,t)}isInProgress(){return _s(this,Ss)}attach(){_s(this,Ts).addEventListener("mouseover",this.onMouseOver.bind(this)),_s(this,Ts).addEventListener("mousemove",this.onMouseMove.bind(this)),_s(this,Ts).addEventListener("mouseout",this.onMouseOut.bind(this)),Is(this,js,!0)}detach(){_s(this,Ts).removeEventListener("mouseover",this.onMouseOver.bind(this)),_s(this,Ts).removeEventListener("mousemove",this.onMouseMove.bind(this)),_s(this,Ts).removeEventListener("mouseout",this.onMouseOut.bind(this)),Is(this,js,!1)}emit(t,e){Object(u.a)(_s(this,xs))&&(!e&&_s(this,Ss)||(Is(this,Ss,!0),window.requestAnimationFrame(this.invoke.bind(this,{isHovering:_s(this,Ws),event:t,timestamp:Date.now()}))))}isAttached(){return _s(this,js)}invoke(t){_s(this,xs).call(this,t),Is(this,Ss,!1)}onMouseOver(t){Is(this,Ws,!0),this.emit(t,!0)}onMouseOut(t){Is(this,Ws,!1),this.emit(t,!0)}onMouseMove(t){this.emit(t,!1)}}Ts=new WeakMap,xs=new WeakMap,Ss=new WeakMap,Ws=new WeakMap,js=new WeakMap;var Ds,Ps,$s,Hs,Rs,zs,qs,Ks,Bs,Fs=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Vs=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Us=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ys{constructor(){this.escClose=!1,this.mode="click",this.match=null,this.trigger="a, button",this.autoClose=!1,this.outClose=!1}parse(t){this.escClose=t.escClose&&Object(u.w)(t.escClose),this.mode=Object(u.p)(t.mode,"click").toLowerCase(),this.match=t.match,this.trigger=Object(u.p)(t.trigger,"a, button"),this.prevent=Object(u.w)(t.prevent),this.autoClose=Object(u.w)(t.autoClose),this.outClose=Object(u.w)(t.closeOut)}}class Gs{constructor(t){Ds.set(this,void 0),Vs(this,Ds,null!=t?t:"cui"),this.attribute=Us(this,Ds)+"-drop"}getStyle(){return null}get(t,e){return new Zs(t,e,this.attribute,Us(this,Ds))}}Ds=new WeakMap;class Zs extends Wt{constructor(t,e,i,s){super("CuidropHandler",t,new Ys,e),Ps.set(this,void 0),$s.set(this,void 0),Hs.set(this,void 0),Rs.set(this,void 0),zs.set(this,void 0),qs.set(this,void 0),Ks.set(this,void 0),Bs.set(this,void 0),Vs(this,Rs,i),Vs(this,Ps,!1),Vs(this,$s,s),Vs(this,Bs,null),Vs(this,Hs,Object(u.A)("{prefix}-drop-open",s)),Vs(this,qs,new Ns(this.element)),Us(this,qs).setCallback(this.onTargetHover.bind(this))}onInit(){Vs(this,Ks,this.element.parentElement.querySelector(this.args.trigger)),Vs(this,zs,new Ns(Us(this,Ks))),this.setTriggerEvent(),Vs(this,Ps,!0),Vi.setAria(this.element,"aria-dropdown",""),this._log.debug("Initialized","handle")}onUpdate(){Us(this,zs).isAttached()?Us(this,zs).detach():"click"===this.prevArgs.mode&&Us(this,Ks).removeEventListener("click",this.onTriggerClick.bind(this)),Vs(this,Ks,this.element.parentElement.querySelector(this.args.trigger)),Vs(this,zs,new Ns(Us(this,Ks))),this.setTriggerEvent(),Us(this,Ps)||(Vs(this,Ps,!0),Vi.setAria(this.element,"aria-dropdown",""),this._log.debug("Initialized","refresh"))}onDestroy(){}open(){return Fs(this,void 0,void 0,(function*(){return!this.checkLockAndWarn("open")&&(this.isActive()?this.close():(this.isAnyActive()&&(yield this.findAndCloseOpenedDrop()),this.isLocked=!0,this._log.debug("Drop "+this.cuid,"open"),this.mutate(this.onOpen,this),this.emitEvent(d.h.ON_OPEN,{timestamp:Date.now()}),Us(this,qs).attach(),this.args.autoClose&&this.runAutoCloseTask(),this.isLocked=!1,!0))}))}close(){return Fs(this,void 0,void 0,(function*(){return!(this.checkLockAndWarn("close")||!this.isActive())&&(this.isLocked=!0,this._log.debug("Drop "+this.cuid,"close"),this.mutate(this.onClose,this),this.emitEvent(d.h.ON_CLOSE,{timestamp:Date.now()}),Us(this,qs).detach(),this.isLocked=!1,!0)}))}onTargetHover(t){t.isHovering&&Object(u.t)(Us(this,Bs))?(clearTimeout(Us(this,Bs)),Vs(this,Bs,null)):t.isHovering||Object(u.t)(Us(this,Bs))||!this.args.autoClose||this.runAutoCloseTask()}onClose(){this.element.classList.remove(this.activeClassName),document.body.classList.remove(Us(this,Hs)),Vi.setAria(this.element,"aria-expanded","false"),this.detachEvent(d.h.ON_KEYDOWN),this.detachEvent(d.h.ON_WINDOW_CLICK)}onOpen(){this.element.classList.add(this.activeClassName),document.body.classList.add(Us(this,Hs)),Vi.setAria(this.element,"aria-expanded","true"),this.args.escClose&&this.onEvent(d.h.ON_KEYDOWN,this.onEscClose.bind(this)),this.args.outClose&&this.onEvent(d.h.ON_WINDOW_CLICK,this.onWindowClick.bind(this))}onEscClose(t){"Escape"===t.event.key&&this.close()}onWindowClick(t){this.element.contains(t.target)&&this.close()}isAnyActive(){return document.body.classList.contains(Us(this,Hs))}getAction(t){return new f.c(Object(u.A)(t,Us(this,$s)))}findAndCloseOpenedDrop(){return Fs(this,void 0,void 0,(function*(){const t=document.querySelector(`[${Us(this,Rs)}].${this.activeClassName}`);if(!Object(u.t)(t))return this._log.warning("Opened drop was not found"),!1;const e=t.$handlers[Us(this,Rs)];return Object(u.t)(e)?e.close():(this._log.warning("Drop handler was not found in the element"),!1)}))}onTriggerClick(t){this.isActive()?this.close():this.open(),this.args.prevent&&t.preventDefault()}onHoverEvent(t){t.isHovering&&!this.isActive()&&this.open(),this.args.prevent&&t.event.preventDefault()}setTriggerEvent(){"hover"===this.args.mode?(Us(this,zs).setCallback(this.onHoverEvent.bind(this)),Us(this,zs).attach()):Us(this,Ks).addEventListener("click",this.onTriggerClick.bind(this))}runAutoCloseTask(){Vs(this,Bs,setTimeout(()=>{this.close()},5e3))}}Ps=new WeakMap,$s=new WeakMap,Hs=new WeakMap,Rs=new WeakMap,zs=new WeakMap,qs=new WeakMap,Ks=new WeakMap,Bs=new WeakMap;var Xs,Js=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},Qs=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class tn{constructor(){this.name="click-plugin",Xs.set(this,void 0),this.description="CuiWindowClickPlugin"}init(t){Js(this,Xs,t.bus),window.addEventListener("click",this.onWindowClick.bind(this))}destroy(){window.removeEventListener("click",this.onWindowClick.bind(this))}onWindowClick(t){Qs(this,Xs).emit(Tt.EVENTS.ON_WINDOW_CLICK,null,t)}}Xs=new WeakMap;var en,sn,nn,rn,on=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},an=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class hn{constructor(){this.offsetX=0,this.offsetY=0,this.target=null}parse(t){this.target=t.target,this.action=f.b.get(t.action),this.offsetX=Object(u.j)(t.offsetX,-1),this.offsetY=Object(u.j)(t.offsetY,-1)}}class cn{constructor(t){this.attribute=(null!=t?t:"cui")+"-offset"}getStyle(){return null}get(t,e){return new un(t,e,this.attribute)}}class un extends Wt{constructor(t,e,i){super("CuiOffsetHandler",t,new hn,e),en.set(this,void 0),sn.set(this,void 0),nn.set(this,void 0),rn.set(this,void 0),this.element=t,on(this,en,new Ae.a(this.element,this.utils.setup.scrollThreshold)),on(this,sn,this.element),on(this,nn,e),on(this,rn,!1)}onInit(){this.parseAttribute(),an(this,en).setCallback(this.onScroll.bind(this)),an(this,en).attach()}onUpdate(){this.parseAttribute()}onDestroy(){an(this,en).detach()}onScroll(t){this.checkAndPerformActions(t.top,t.left)}parseAttribute(){on(this,sn,this.args.target?this.element.querySelector(this.args.target):this.element),this.checkAndPerformActions(this.element.scrollTop,this.element.scrollLeft)}matchesOffset(t,e){return this.args.offsetX>0&&e>=this.args.offsetX||this.args.offsetY>0&&t>=this.args.offsetY}checkAndPerformActions(t,e){let i=this.matchesOffset(t,e);i&&!an(this,rn)?(this.args.action.forEach(t=>t.add(an(this,sn),an(this,nn))),on(this,rn,!0),this.callEvent()):!i&&an(this,rn)&&(this.args.action.forEach(t=>t.remove(an(this,sn),an(this,nn))),on(this,rn,!1),this.callEvent())}callEvent(){this.emitEvent("offset",{matches:an(this,rn),timestamp:Date.now()})}}en=new WeakMap,sn=new WeakMap,nn=new WeakMap,rn=new WeakMap;var ln,dn,pn,fn,gn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},vn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class mn{constructor(t,e,i){ln.set(this,void 0),dn.set(this,void 0),pn.set(this,void 0),fn.set(this,void 0),gn(this,dn,e),gn(this,pn,t),gn(this,fn,i)}start(){this.canRun()&&(this.stop(),gn(this,ln,setTimeout(()=>{vn(this,fn).call(this),gn(this,ln,null),vn(this,dn)&&this.start()},vn(this,pn))))}stop(){vn(this,ln)&&(clearTimeout(vn(this,ln)),gn(this,ln,null))}getId(){return vn(this,ln)}canRun(){return Object(u.t)(vn(this,fn))&&vn(this,pn)>0}setCallback(t){gn(this,fn,t)}}ln=new WeakMap,dn=new WeakMap,pn=new WeakMap,fn=new WeakMap;var wn,bn,kn,yn,On,En,Cn,Mn=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},Ln=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},An=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Tn{constructor(t,e){wn.set(this,void 0),bn.set(this,void 0),Ln(this,wn,t),Ln(this,bn,e)}parse(t){var e,i;this.targets=Object(Tt.getStringOrDefault)(t.targets,"li"),this.in=Tt.CuiActionsFatory.get(null!==(e=t.in)&&void 0!==e?e:Object(Tt.replacePrefix)(".{prefix}-switch-animation-default-in",An(this,wn))),this.out=Tt.CuiActionsFatory.get(null!==(i=t.out)&&void 0!==i?i:Object(Tt.replacePrefix)(".{prefix}-switch-animation-default-out",An(this,wn))),this.timeout=Object(Tt.getIntOrDefault)(t.timeout,An(this,bn)),this.links=t.links,this.switch=t.switch,this.auto=Object(Tt.isStringTrue)(t.auto),this.autoTimeout=Object(Tt.getIntOrDefault)(t.autoTimeout,5e3)}}wn=new WeakMap,bn=new WeakMap;class xn{constructor(t){this.attribute=(null!=t?t:"cui")+"-switch"}getStyle(){return null}get(t,e){return new Sn(t,e,this.attribute)}}class Sn extends Wt{constructor(t,e,i){super("CuiSwitchHandler",t,new Tn(e.setup.prefix,e.setup.animationTime),e),kn.set(this,void 0),yn.set(this,void 0),On.set(this,void 0),En.set(this,void 0),Cn.set(this,void 0),Ln(this,kn,[]),Ln(this,yn,-1),Ln(this,On,[]),Ln(this,En,[])}onInit(){this.onEvent("pushswitch",this.onPushSwitch),this.getTargets(),this.getLinks(),this.getActiveIndex(),this.getSwitches(),this.setSwitchesActive(An(this,yn)),this.setLinkActive(-1,An(this,yn)),Ln(this,Cn,new mn(this.args.autoTimeout,!0,this.switch.bind(this,"next"))),this.startTask()}onUpdate(){this.startTask()}onDestroy(){An(this,Cn).stop(),this.detachEvent("pushswitch")}switch(t){return Mn(this,void 0,void 0,(function*(){if(this.isLocked)return!1;this.getTargets(),this.getLinks(),this.getSwitches(),this.getActiveIndex();let e=this.getNextIndex(t);return e==An(this,yn)||e<0||e>=An(this,kn).length?(this._log.warning(`Index ${t} is not within the suitable range`),!1):(this.isLocked=!0,this.setSwitchesActive(e),yield this.actionsHelper.performSwitchAction(An(this,kn)[e],An(this,yn)>-1?An(this,kn)[An(this,yn)]:null,this.args.in,this.args.out,()=>{An(this,kn)[e].classList.add(this.activeClassName),An(this,yn)>-1&&An(this,kn)[An(this,yn)].classList.remove(this.activeClassName),this.setLinkActive(An(this,yn),e),this.startTask(),this.isLocked=!1},this.args.timeout),this.emitEvent("switch",{timestamp:Date.now(),index:e}),!0)}))}onPushSwitch(t){this._log.debug("Intercepted event"),this.switch(t)}getActiveIndex(){Ln(this,yn,Object(Tt.is)(An(this,kn))?An(this,kn).findIndex(t=>t.classList.contains(this.activeClassName)):-1)}getNextIndex(t){let e=-1;switch(t){case"prev":e=An(this,yn)<=0?An(this,kn).length-1:An(this,yn)-1;break;case"next":e=An(this,yn)<An(this,kn).length-1?An(this,yn)+1:0;break;case"first":e=0;break;case"last":e=An(this,kn).length-1;default:e=Object(Tt.getIntOrDefault)(t,-1)}return e}getTargets(){let t=this.element.querySelectorAll(this.args.targets);Ln(this,kn,t.length>0?[...t]:[])}getLinks(){Ln(this,On,Object(Tt.is)(this.args.links)?[...document.querySelectorAll(this.args.links)]:[])}getSwitches(){let t=Object(Tt.is)(this.args.switch)?document.querySelectorAll(this.args.switch):null;Ln(this,En,[]),t&&t.forEach(t=>{An(this,En).push(t)})}setLinkActive(t,e){Object(Tt.is)(An(this,On))&&(Object(Tt.isInRange)(t,0,An(this,On).length-1)&&An(this,On)[t].classList.remove(this.activeClassName),Object(Tt.isInRange)(e,0,An(this,On).length-1)&&An(this,On)[e].classList.add(this.activeClassName))}setSwitchesActive(t){An(this,En).forEach(e=>{this.setLinkSwitch(e.$cuid,t)})}setLinkSwitch(t,e){Object(Tt.is)(t)&&this.utils.bus.emit("pushswitch",t,e)}startTask(){An(this,Cn).stop(),this.args.auto&&An(this,Cn).start()}}kn=new WeakMap,yn=new WeakMap,On=new WeakMap,En=new WeakMap,Cn=new WeakMap;var Wn,jn,In=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},_n=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Nn{constructor(){}parse(t){Object(Tt.is)(t)&&(this.target=t.target,this.index=t.index)}}class Dn{constructor(t){this.attribute=(null!=t?t:"cui")+"-switcher"}getStyle(){return null}get(t,e){return new Pn(t,e,this.attribute)}}class Pn extends Wt{constructor(t,e,i){super("CuiSwitcherHandler",t,new Nn,e),Wn.set(this,void 0),jn.set(this,void 0),In(this,Wn,null),In(this,jn,"UL"===t.tagName)}onInit(){this.setEvents(),this.getTarget()}onUpdate(){this.getTarget()}onDestroy(){this.removeEvents()}getTarget(){Object(Tt.is)(this.args.target)||In(this,Wn,null);let t=document.querySelector(this.args.target);Object(Tt.is)(t)&&In(this,Wn,t.$cuid)}setEvents(){if(_n(this,jn)){this.element.querySelectorAll("li > a").forEach((t,e)=>{t.addEventListener("click",this.onListItemClick.bind(this,e))})}else this.element.addEventListener("click",this.onClickEvent.bind(this))}removeEvents(){if(_n(this,jn)){this.element.querySelectorAll("li > a").forEach((t,e)=>{t.removeEventListener("click",this.onListItemClick.bind(this,e))})}else this.element.removeEventListener("click",this.onClickEvent.bind(this))}onClickEvent(t){this.getTarget(),Object(Tt.is)(this.args.index)&&this.onClick(this.args.index.trim())}onListItemClick(t,e){this.getTarget(),this.onClick(t)}onClick(t){Object(Tt.is)(_n(this,Wn))&&this.utils.bus.emit("pushswitch",_n(this,Wn),t)}}Wn=new WeakMap,jn=new WeakMap;var $n,Hn,Rn=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))},zn=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},qn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Kn{constructor(){$n.set(this,void 0),zn(this,$n,window)}init(t){return Rn(this,void 0,void 0,(function*(){let e=Object.assign(Object.assign({},new c.b),t.setup);const i=e.app,s={result:!1};if(Object(u.t)(qn(this,$n)[i]))return s.message="Instance is already initialized",s;if(Object(u.t)(t.icons))for(let e in t.icons)d.i[e]=t.icons[e];try{qn(this,$n)[i]=new yt(e,t.plugins,t.components),qn(this,$n)[i].init()}catch(t){return console.error(t),s.message="An error occured during initialization",s}return s.result=!0,s}))}}$n=new WeakMap;class Bn{constructor(){Hn.set(this,void 0),zn(this,Hn,!1)}init(t){var e;return Rn(this,void 0,void 0,(function*(){if(qn(this,Hn))return console.log("Module is already initialized"),!1;const i=new Kn,s=[new At({autoLight:!0}),new Pe({autoPrint:!0}),new Fi(null),new tn],n=[new Ht,new Jt,new ne,new he,new ve,new We,new Ge,new ai,new bi,new Ti,new _i,new es,new ds,new Ls,new Gs,new cn,new xn,new Dn];let r=yield i.init({setup:t.setup,icons:t.icons,plugins:Object(u.t)(t.plugins)?[...s,...t.plugins]:s,components:Object(u.t)(t.components)?[...n,...t.components]:n});return r.result?(zn(this,Hn,!0),!0):(console.error(`A cUI instance failed to initialize: [${null!==(e=r.message)&&void 0!==e?e:"#"}]`),console.log("Cui Light failed to init"),!1)}))}}Hn=new WeakMap},function(t,e,i){"use strict";i(0);new WeakMap,new WeakMap,new WeakMap,new WeakMap},function(t,e){},function(t,e,i){"use strict";i.r(e);var s=i(22),n=i(13);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var o=i(12);for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var a=i(6);i.d(e,"CuiSetup",(function(){return a.a})),i.d(e,"CuiSetupInit",(function(){return a.b}));var h=i(8);i.d(e,"CuiUtils",(function(){return h.a})),i.d(e,"CuiInitializer",(function(){return s.b})),i.d(e,"CuiInit",(function(){return s.a})),window.cuiInit=new s.a}])}));
//# sourceMappingURL=index.js.map